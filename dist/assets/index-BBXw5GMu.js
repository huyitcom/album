(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function wg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bu={exports:{}},Do={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function f0(){if(Ph)return Do;Ph=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:i,type:a,key:m,ref:u!==void 0?u:null,props:d}}return Do.Fragment=t,Do.jsx=o,Do.jsxs=o,Do}var Hh;function h0(){return Hh||(Hh=1,bu.exports=f0()),bu.exports}var T=h0(),xu={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function m0(){if(zh)return Ee;zh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,ee={};function z(w,P,ie){this.props=w,this.context=P,this.refs=ee,this.updater=ie||L}z.prototype.isReactComponent={},z.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},z.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function G(){}G.prototype=z.prototype;function J(w,P,ie){this.props=w,this.context=P,this.refs=ee,this.updater=ie||L}var F=J.prototype=new G;F.constructor=J,U(F,z.prototype),F.isPureReactComponent=!0;var te=Array.isArray;function ne(){}var V={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function B(w,P,ie){var ae=ie.ref;return{$$typeof:i,type:w,key:P,ref:ae!==void 0?ae:null,props:ie}}function oe(w,P){return B(w.type,P,w.props)}function Q(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function fe(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ie){return P[ie]})}var Ae=/\/+/g;function Me(w,P){return typeof w=="object"&&w!==null&&w.key!=null?fe(""+w.key):P.toString(36)}function ze(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ne,ne):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function I(w,P,ie,ae,re){var be=typeof w;(be==="undefined"||be==="boolean")&&(w=null);var Ie=!1;if(w===null)Ie=!0;else switch(be){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(w.$$typeof){case i:case t:Ie=!0;break;case v:return Ie=w._init,I(Ie(w._payload),P,ie,ae,re)}}if(Ie)return re=re(w),Ie=ae===""?"."+Me(w,0):ae,te(re)?(ie="",Ie!=null&&(ie=Ie.replace(Ae,"$&/")+"/"),I(re,P,ie,"",function(St){return St})):re!=null&&(Q(re)&&(re=oe(re,ie+(re.key==null||w&&w.key===re.key?"":(""+re.key).replace(Ae,"$&/")+"/")+Ie)),P.push(re)),1;Ie=0;var at=ae===""?".":ae+":";if(te(w))for(var pe=0;pe<w.length;pe++)ae=w[pe],be=at+Me(ae,pe),Ie+=I(ae,P,ie,be,re);else if(pe=_(w),typeof pe=="function")for(w=pe.call(w),pe=0;!(ae=w.next()).done;)ae=ae.value,be=at+Me(ae,pe++),Ie+=I(ae,P,ie,be,re);else if(be==="object"){if(typeof w.then=="function")return I(ze(w),P,ie,ae,re);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function X(w,P,ie){if(w==null)return w;var ae=[],re=0;return I(w,ae,"","",function(be){return P.call(ie,be,re++)}),ae}function se(w){if(w._status===-1){var P=w._result;P=P(),P.then(function(ie){(w._status===0||w._status===-1)&&(w._status=1,w._result=ie)},function(ie){(w._status===0||w._status===-1)&&(w._status=2,w._result=ie)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var ye=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Te={map:X,forEach:function(w,P,ie){X(w,function(){P.apply(this,arguments)},ie)},count:function(w){var P=0;return X(w,function(){P++}),P},toArray:function(w){return X(w,function(P){return P})||[]},only:function(w){if(!Q(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return Ee.Activity=b,Ee.Children=Te,Ee.Component=z,Ee.Fragment=o,Ee.Profiler=u,Ee.PureComponent=J,Ee.StrictMode=a,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(w){return V.H.useMemoCache(w)}},Ee.cache=function(w){return function(){return w.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(w,P,ie){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ae=U({},w.props),re=w.key;if(P!=null)for(be in P.key!==void 0&&(re=""+P.key),P)!Z.call(P,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&P.ref===void 0||(ae[be]=P[be]);var be=arguments.length-2;if(be===1)ae.children=ie;else if(1<be){for(var Ie=Array(be),at=0;at<be;at++)Ie[at]=arguments[at+2];ae.children=Ie}return B(w.type,re,ae)},Ee.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},Ee.createElement=function(w,P,ie){var ae,re={},be=null;if(P!=null)for(ae in P.key!==void 0&&(be=""+P.key),P)Z.call(P,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(re[ae]=P[ae]);var Ie=arguments.length-2;if(Ie===1)re.children=ie;else if(1<Ie){for(var at=Array(Ie),pe=0;pe<Ie;pe++)at[pe]=arguments[pe+2];re.children=at}if(w&&w.defaultProps)for(ae in Ie=w.defaultProps,Ie)re[ae]===void 0&&(re[ae]=Ie[ae]);return B(w,be,re)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(w){return{$$typeof:p,render:w}},Ee.isValidElement=Q,Ee.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:se}},Ee.memo=function(w,P){return{$$typeof:g,type:w,compare:P===void 0?null:P}},Ee.startTransition=function(w){var P=V.T,ie={};V.T=ie;try{var ae=w(),re=V.S;re!==null&&re(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ne,ye)}catch(be){ye(be)}finally{P!==null&&ie.types!==null&&(P.types=ie.types),V.T=P}},Ee.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Ee.use=function(w){return V.H.use(w)},Ee.useActionState=function(w,P,ie){return V.H.useActionState(w,P,ie)},Ee.useCallback=function(w,P){return V.H.useCallback(w,P)},Ee.useContext=function(w){return V.H.useContext(w)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(w,P){return V.H.useDeferredValue(w,P)},Ee.useEffect=function(w,P){return V.H.useEffect(w,P)},Ee.useEffectEvent=function(w){return V.H.useEffectEvent(w)},Ee.useId=function(){return V.H.useId()},Ee.useImperativeHandle=function(w,P,ie){return V.H.useImperativeHandle(w,P,ie)},Ee.useInsertionEffect=function(w,P){return V.H.useInsertionEffect(w,P)},Ee.useLayoutEffect=function(w,P){return V.H.useLayoutEffect(w,P)},Ee.useMemo=function(w,P){return V.H.useMemo(w,P)},Ee.useOptimistic=function(w,P){return V.H.useOptimistic(w,P)},Ee.useReducer=function(w,P,ie){return V.H.useReducer(w,P,ie)},Ee.useRef=function(w){return V.H.useRef(w)},Ee.useState=function(w){return V.H.useState(w)},Ee.useSyncExternalStore=function(w,P,ie){return V.H.useSyncExternalStore(w,P,ie)},Ee.useTransition=function(){return V.H.useTransition()},Ee.version="19.2.0",Ee}var qh;function zu(){return qh||(qh=1,xu.exports=m0()),xu.exports}var j=zu();const g0=wg(j);var Eu={exports:{}},ko={},Cu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function p0(){return Gh||(Gh=1,(function(i){function t(I,X){var se=I.length;I.push(X);e:for(;0<se;){var ye=se-1>>>1,Te=I[ye];if(0<u(Te,X))I[ye]=X,I[se]=Te,se=ye;else break e}}function o(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var X=I[0],se=I.pop();if(se!==X){I[0]=se;e:for(var ye=0,Te=I.length,w=Te>>>1;ye<w;){var P=2*(ye+1)-1,ie=I[P],ae=P+1,re=I[ae];if(0>u(ie,se))ae<Te&&0>u(re,ie)?(I[ye]=re,I[ae]=se,ye=ae):(I[ye]=ie,I[P]=se,ye=P);else if(ae<Te&&0>u(re,se))I[ye]=re,I[ae]=se,ye=ae;else break e}}return X}function u(I,X){var se=I.sortIndex-X.sortIndex;return se!==0?se:I.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var y=[],g=[],v=1,b=null,x=3,_=!1,L=!1,U=!1,ee=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function F(I){for(var X=o(g);X!==null;){if(X.callback===null)a(g);else if(X.startTime<=I)a(g),X.sortIndex=X.expirationTime,t(y,X);else break;X=o(g)}}function te(I){if(U=!1,F(I),!L)if(o(y)!==null)L=!0,ne||(ne=!0,fe());else{var X=o(g);X!==null&&ze(te,X.startTime-I)}}var ne=!1,V=-1,Z=5,B=-1;function oe(){return ee?!0:!(i.unstable_now()-B<Z)}function Q(){if(ee=!1,ne){var I=i.unstable_now();B=I;var X=!0;try{e:{L=!1,U&&(U=!1,G(V),V=-1),_=!0;var se=x;try{t:{for(F(I),b=o(y);b!==null&&!(b.expirationTime>I&&oe());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,x=b.priorityLevel;var Te=ye(b.expirationTime<=I);if(I=i.unstable_now(),typeof Te=="function"){b.callback=Te,F(I),X=!0;break t}b===o(y)&&a(y),F(I)}else a(y);b=o(y)}if(b!==null)X=!0;else{var w=o(g);w!==null&&ze(te,w.startTime-I),X=!1}}break e}finally{b=null,x=se,_=!1}X=void 0}}finally{X?fe():ne=!1}}}var fe;if(typeof J=="function")fe=function(){J(Q)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Me=Ae.port2;Ae.port1.onmessage=Q,fe=function(){Me.postMessage(null)}}else fe=function(){z(Q,0)};function ze(I,X){V=z(function(){I(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(I){I.callback=null},i.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<I?Math.floor(1e3/I):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(I){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var se=x;x=X;try{return I()}finally{x=se}},i.unstable_requestPaint=function(){ee=!0},i.unstable_runWithPriority=function(I,X){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var se=x;x=I;try{return X()}finally{x=se}},i.unstable_scheduleCallback=function(I,X,se){var ye=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ye+se:ye):se=ye,I){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=se+Te,I={id:v++,callback:X,priorityLevel:I,startTime:se,expirationTime:Te,sortIndex:-1},se>ye?(I.sortIndex=se,t(g,I),o(y)===null&&I===o(g)&&(U?(G(V),V=-1):U=!0,ze(te,se-ye))):(I.sortIndex=Te,t(y,I),L||_||(L=!0,ne||(ne=!0,fe()))),I},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(I){var X=x;return function(){var se=x;x=X;try{return I.apply(this,arguments)}finally{x=se}}}})(wu)),wu}var Vh;function y0(){return Vh||(Vh=1,Cu.exports=p0()),Cu.exports}var _u={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function v0(){if(Bh)return kt;Bh=1;var i=zu();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:y,containerInfo:g,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,kt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return d(y,g,null,v)},kt.flushSync=function(y){var g=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=g,a.p=v,a.d.f()}},kt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},kt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},kt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:_}):v==="script"&&a.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},kt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},kt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},kt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},kt.requestFormReset=function(y){a.d.r(y)},kt.unstable_batchedUpdates=function(y,g){return y(g)},kt.useFormState=function(y,g,v){return m.H.useFormState(y,g,v)},kt.useFormStatus=function(){return m.H.useHostTransitionStatus()},kt.version="19.2.0",kt}var Oh;function T0(){if(Oh)return _u.exports;Oh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_u.exports=v0(),_u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function S0(){if(Fh)return ko;Fh=1;var i=y0(),t=zu(),o=T0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(d(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var f=l.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===l)return y(f),e;if(h===s)return y(f),n;h=h.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=h;else{for(var S=!1,E=f.child;E;){if(E===l){S=!0,l=f,s=h;break}if(E===s){S=!0,s=f,l=h;break}E=E.sibling}if(!S){for(E=h.child;E;){if(E===l){S=!0,l=h,s=f;break}if(E===s){S=!0,s=h,l=f;break}E=E.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),J=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case z:return"Profiler";case ee:return"StrictMode";case te:return"Suspense";case ne:return"SuspenseList";case B:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case J:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:Me(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return Me(e(n))}catch{}}return null}var ze=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ye=[],Te=-1;function w(e){return{current:e}}function P(e){0>Te||(e.current=ye[Te],ye[Te]=null,Te--)}function ie(e,n){Te++,ye[Te]=e.current,e.current=n}var ae=w(null),re=w(null),be=w(null),Ie=w(null);function at(e,n){switch(ie(be,n),ie(re,e),ie(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?oh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=oh(n),e=ah(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(ae),ie(ae,e)}function pe(){P(ae),P(re),P(be)}function St(e){e.memoizedState!==null&&ie(Ie,e);var n=ae.current,l=ah(n,e.type);n!==l&&(ie(re,e),ie(ae,l))}function Lt(e){re.current===e&&(P(ae),P(re)),Ie.current===e&&(P(Ie),No._currentValue=se)}var Pt,Kt;function Ht(e){if(Pt===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Pt=n&&n[1]||"",Kt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pt+e+Kt}var xn=!1;function tn(e,n){if(!e||xn)return"";xn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(k){var D=k}Reflect.construct(e,[],O)}else{try{O.call()}catch(k){D=k}e.call(O.prototype)}}else{try{throw Error()}catch(k){D=k}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(k){if(k&&D&&typeof k.stack=="string")return[k.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),S=h[0],E=h[1];if(S&&E){var C=S.split(`
`),M=E.split(`
`);for(f=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(s===C.length||f===M.length)for(s=C.length-1,f=M.length-1;1<=s&&0<=f&&C[s]!==M[f];)f--;for(;1<=s&&0<=f;s--,f--)if(C[s]!==M[f]){if(s!==1||f!==1)do if(s--,f--,0>f||C[s]!==M[f]){var H=`
`+C[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=f);break}}}finally{xn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ht(l):""}function Ki(e,n){switch(e.tag){case 26:case 27:case 5:return Ht(e.type);case 16:return Ht("Lazy");case 13:return e.child!==n&&n!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return tn(e.type,!1);case 11:return tn(e.type.render,!1);case 1:return tn(e.type,!0);case 31:return Ht("Activity");default:return""}}function ot(e){try{var n="",l=null;do n+=Ki(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var An=Object.prototype.hasOwnProperty,Et=i.unstable_scheduleCallback,Nn=i.unstable_cancelCallback,Xi=i.unstable_shouldYield,ql=i.unstable_requestPaint,_t=i.unstable_now,ji=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,He=i.unstable_UserBlockingPriority,Fe=i.unstable_NormalPriority,st=i.unstable_LowPriority,Ye=i.unstable_IdlePriority,rt=i.log,ht=i.unstable_setDisableYieldValue,ut=null,Je=null;function Ke(e){if(typeof rt=="function"&&ht(e),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(ut,e)}catch{}}var Qe=Math.clz32?Math.clz32:zt,Rn=Math.log,nn=Math.LN2;function zt(e){return e>>>=0,e===0?32:31-(Rn(e)/nn|0)|0}var At=256,ln=262144,$n=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qi(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,h=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~h,s!==0?f=Mn(s):(S&=E,S!==0?f=Mn(S):l||(l=E&~e,l!==0&&(f=Mn(l))))):(E=s&~h,E!==0?f=Mn(E):S!==0?f=Mn(S):l||(l=s&~e,l!==0&&(f=Mn(l)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:f}function _i(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function fs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var e=$n;return $n<<=1,($n&62914560)===0&&($n=4194304),e}function Gl(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Ai(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hs(e,n,l,s,f,h){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,M=e.hiddenUpdates;for(l=S&~l;0<l;){var H=31-Qe(l),O=1<<H;E[H]=0,C[H]=-1;var D=M[H];if(D!==null)for(M[H]=null,H=0;H<D.length;H++){var k=D[H];k!==null&&(k.lane&=-536870913)}l&=~O}s!==0&&zo(e,s,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(S&~n))}function zo(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Qe(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function qo(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Qe(l),f=1<<s;f&n|e[s]&n&&(e[s]|=n),l&=~f}}function Go(e,n){var l=n&-n;return l=(l&42)!==0?1:Vl(l),(l&(e.suspendedLanes|n))!==0?0:l}function Vl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bl(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Rh(e.type))}function Ol(e,n){var l=X.p;try{return X.p=e,n()}finally{X.p=l}}var yn=Math.random().toString(36).slice(2),bt="__reactFiber$"+yn,Dt="__reactProps$"+yn,Y="__reactContainer$"+yn,K="__reactEvents$"+yn,le="__reactListeners$"+yn,W="__reactHandles$"+yn,$="__reactResources$"+yn,ce="__reactMarker$"+yn;function Ce(e){delete e[bt],delete e[Dt],delete e[K],delete e[le],delete e[W]}function de(e){var n=e[bt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Y]||l[bt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=hh(e);e!==null;){if(l=e[bt])return l;e=hh(e)}return n}e=l,l=e.parentNode}return null}function xe(e){if(e=e[bt]||e[Y]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Pe(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Oe(e){var n=e[$];return n||(n=e[$]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ue(e){e[ce]=!0}var on=new Set,In={};function Ct(e,n){Zi(e,n),Zi(e+"Capture",n)}function Zi(e,n){for(In[e]=n,e=0;e<n.length;e++)on.add(n[e])}var ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},ju={};function lp(e){return An.call(ju,e)?!0:An.call(Xu,e)?!1:ip.test(e)?ju[e]=!0:(Xu[e]=!0,!1)}function Vo(e,n,l){if(lp(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Bo(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Dn(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qu(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function op(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,h.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ms(e){if(!e._valueTracker){var n=Qu(e)?"checked":"value";e._valueTracker=op(e,n,""+e[n])}}function Zu(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Qu(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ap=/[\n"\\]/g;function sn(e){return e.replace(ap,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gs(e,n,l,s,f,h,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+an(n)):e.value!==""+an(n)&&(e.value=""+an(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ps(e,S,an(n)):l!=null?ps(e,S,an(l)):s!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+an(E):e.removeAttribute("name")}function Wu(e,n,l,s,f,h,S,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ms(e);return}l=l!=null?""+an(l):"",n=n!=null?""+an(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ms(e)}function ps(e,n,l){n==="number"&&Oo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Wi(e,n,l,s){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+an(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function $u(e,n,l){if(n!=null&&(n=""+an(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+an(l):""}function ec(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(ze(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=an(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ms(e)}function $i(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var sp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||sp.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function nc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&l[f]!==s&&tc(e,f,s)}else for(var h in n)n.hasOwnProperty(h)&&tc(e,h,n[h])}function ys(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(e){return up.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var vs=null;function Ts(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,tl=null;function ic(e){var n=xe(e);if(n&&(e=n.stateNode)){var l=e[Dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(gs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var f=s[Dt]||null;if(!f)throw Error(a(90));gs(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&Zu(s)}break e;case"textarea":$u(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Wi(e,!!l.multiple,n,!1)}}}var Ss=!1;function lc(e,n,l){if(Ss)return e(n,l);Ss=!0;try{var s=e(n);return s}finally{if(Ss=!1,(el!==null||tl!==null)&&(Ia(),el&&(n=el,e=tl,tl=el=null,ic(n),e)))for(n=0;n<e.length;n++)ic(e[n])}}function Fl(e,n){var l=e.stateNode;if(l===null)return null;var s=l[Dt]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(Un)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{bs=!1}var ei=null,xs=null,Yo=null;function oc(){if(Yo)return Yo;var e,n=xs,l=n.length,s,f="value"in ei?ei.value:ei.textContent,h=f.length;for(e=0;e<l&&n[e]===f[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===f[h-s];s++);return Yo=f.slice(e,1<s?1-s:void 0)}function Jo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ko(){return!0}function ac(){return!1}function Vt(e){function n(l,s,f,h,S){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ko:ac,this.isPropagationStopped=ac,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Vt(Ri),Jl=b({},Ri,{view:0,detail:0}),cp=Vt(Jl),Es,Cs,Kl,jo=b({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Es=e.screenX-Kl.screenX,Cs=e.screenY-Kl.screenY):Cs=Es=0,Kl=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:Cs}}),sc=Vt(jo),dp=b({},jo,{dataTransfer:0}),fp=Vt(dp),hp=b({},Jl,{relatedTarget:0}),ws=Vt(hp),mp=b({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),gp=Vt(mp),pp=b({},Ri,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yp=Vt(pp),vp=b({},Ri,{data:0}),rc=Vt(vp),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bp[e])?!!n[e]:!1}function _s(){return xp}var Ep=b({},Jl,{key:function(e){if(e.key){var n=Tp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cp=Vt(Ep),wp=b({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=Vt(wp),_p=b({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Ap=Vt(_p),Np=b({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=Vt(Np),Mp=b({},jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ip=Vt(Mp),Dp=b({},Ri,{newState:0,oldState:0}),kp=Vt(Dp),Up=[9,13,27,32],As=Un&&"CompositionEvent"in window,Xl=null;Un&&"documentMode"in document&&(Xl=document.documentMode);var Lp=Un&&"TextEvent"in window&&!Xl,cc=Un&&(!As||Xl&&8<Xl&&11>=Xl),dc=" ",fc=!1;function hc(e,n){switch(e){case"keyup":return Up.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function Pp(e,n){switch(e){case"compositionend":return mc(n);case"keypress":return n.which!==32?null:(fc=!0,dc);case"textInput":return e=n.data,e===dc&&fc?null:e;default:return null}}function Hp(e,n){if(nl)return e==="compositionend"||!As&&hc(e,n)?(e=oc(),Yo=xs=ei=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return cc&&n.locale!=="ko"?null:n.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!zp[e.type]:n==="textarea"}function pc(e,n,l,s){el?tl?tl.push(s):tl=[s]:el=s,n=za(n,"onChange"),0<n.length&&(l=new Xo("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var jl=null,Ql=null;function qp(e){$f(e,0)}function Qo(e){var n=Pe(e);if(Zu(n))return e}function yc(e,n){if(e==="change")return n}var vc=!1;if(Un){var Ns;if(Un){var Rs="oninput"in document;if(!Rs){var Tc=document.createElement("div");Tc.setAttribute("oninput","return;"),Rs=typeof Tc.oninput=="function"}Ns=Rs}else Ns=!1;vc=Ns&&(!document.documentMode||9<document.documentMode)}function Sc(){jl&&(jl.detachEvent("onpropertychange",bc),Ql=jl=null)}function bc(e){if(e.propertyName==="value"&&Qo(Ql)){var n=[];pc(n,Ql,e,Ts(e)),lc(qp,n)}}function Gp(e,n,l){e==="focusin"?(Sc(),jl=n,Ql=l,jl.attachEvent("onpropertychange",bc)):e==="focusout"&&Sc()}function Vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Ql)}function Bp(e,n){if(e==="click")return Qo(n)}function Op(e,n){if(e==="input"||e==="change")return Qo(n)}function Fp(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Xt=typeof Object.is=="function"?Object.is:Fp;function Zl(e,n){if(Xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!An.call(n,f)||!Xt(e[f],n[f]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,n){var l=xc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xc(l)}}function Cc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Oo(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Oo(e.document)}return n}function Ms(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Yp=Un&&"documentMode"in document&&11>=document.documentMode,il=null,Is=null,Wl=null,Ds=!1;function _c(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ds||il==null||il!==Oo(s)||(s=il,"selectionStart"in s&&Ms(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Wl&&Zl(Wl,s)||(Wl=s,s=za(Is,"onSelect"),0<s.length&&(n=new Xo("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=il)))}function Mi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ll={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},ks={},Ac={};Un&&(Ac=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Ii(e){if(ks[e])return ks[e];if(!ll[e])return e;var n=ll[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Ac)return ks[e]=n[l];return e}var Nc=Ii("animationend"),Rc=Ii("animationiteration"),Mc=Ii("animationstart"),Jp=Ii("transitionrun"),Kp=Ii("transitionstart"),Xp=Ii("transitioncancel"),Ic=Ii("transitionend"),Dc=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function vn(e,n){Dc.set(e,n),Ct(n,[e])}var Zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rn=[],ol=0,Ls=0;function Wo(){for(var e=ol,n=Ls=ol=0;n<e;){var l=rn[n];rn[n++]=null;var s=rn[n];rn[n++]=null;var f=rn[n];rn[n++]=null;var h=rn[n];if(rn[n++]=null,s!==null&&f!==null){var S=s.pending;S===null?f.next=f:(f.next=S.next,S.next=f),s.pending=f}h!==0&&kc(l,f,h)}}function $o(e,n,l,s){rn[ol++]=e,rn[ol++]=n,rn[ol++]=l,rn[ol++]=s,Ls|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ps(e,n,l,s){return $o(e,n,l,s),ea(e)}function Di(e,n){return $o(e,null,null,n),ea(e)}function kc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,h=e.return;h!==null;)h.childLanes|=l,s=h.alternate,s!==null&&(s.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Qe(l),e=h.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=l|536870912),h):null}function ea(e){if(50<bo)throw bo=0,Yr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var al={};function jp(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,n,l,s){return new jp(e,n,l,s)}function Hs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ln(e,n){var l=e.alternate;return l===null?(l=jt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Uc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ta(e,n,l,s,f,h){var S=0;if(s=e,typeof e=="function")Hs(e)&&(S=1);else if(typeof e=="string")S=e0(e,l,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case B:return e=jt(31,l,n,f),e.elementType=B,e.lanes=h,e;case U:return ki(l.children,f,h,n);case ee:S=8,f|=24;break;case z:return e=jt(12,l,n,f|2),e.elementType=z,e.lanes=h,e;case te:return e=jt(13,l,n,f),e.elementType=te,e.lanes=h,e;case ne:return e=jt(19,l,n,f),e.elementType=ne,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:S=10;break e;case G:S=9;break e;case F:S=11;break e;case V:S=14;break e;case Z:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=jt(S,l,n,f),n.elementType=e,n.type=s,n.lanes=h,n}function ki(e,n,l,s){return e=jt(7,e,s,n),e.lanes=l,e}function zs(e,n,l){return e=jt(6,e,null,n),e.lanes=l,e}function Lc(e){var n=jt(18,null,null,0);return n.stateNode=e,n}function qs(e,n,l){return n=jt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pc=new WeakMap;function un(e,n){if(typeof e=="object"&&e!==null){var l=Pc.get(e);return l!==void 0?l:(n={value:e,source:n,stack:ot(n)},Pc.set(e,n),n)}return{value:e,source:n,stack:ot(n)}}var sl=[],rl=0,na=null,$l=0,cn=[],dn=0,ti=null,En=1,Cn="";function Pn(e,n){sl[rl++]=$l,sl[rl++]=na,na=e,$l=n}function Hc(e,n,l){cn[dn++]=En,cn[dn++]=Cn,cn[dn++]=ti,ti=e;var s=En;e=Cn;var f=32-Qe(s)-1;s&=~(1<<f),l+=1;var h=32-Qe(n)+f;if(30<h){var S=f-f%5;h=(s&(1<<S)-1).toString(32),s>>=S,f-=S,En=1<<32-Qe(n)+f|l<<f|s,Cn=h+e}else En=1<<h|l<<f|s,Cn=e}function Gs(e){e.return!==null&&(Pn(e,1),Hc(e,1,0))}function Vs(e){for(;e===na;)na=sl[--rl],sl[rl]=null,$l=sl[--rl],sl[rl]=null;for(;e===ti;)ti=cn[--dn],cn[dn]=null,Cn=cn[--dn],cn[dn]=null,En=cn[--dn],cn[dn]=null}function zc(e,n){cn[dn++]=En,cn[dn++]=Cn,cn[dn++]=ti,En=n.id,Cn=n.overflow,ti=e}var Nt=null,tt=null,Le=!1,ni=null,fn=!1,Bs=Error(a(519));function ii(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eo(un(n,e)),Bs}function qc(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[bt]=e,n[Dt]=s,l){case"dialog":Re("cancel",n),Re("close",n);break;case"iframe":case"object":case"embed":Re("load",n);break;case"video":case"audio":for(l=0;l<Eo.length;l++)Re(Eo[l],n);break;case"source":Re("error",n);break;case"img":case"image":case"link":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"input":Re("invalid",n),Wu(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Re("invalid",n);break;case"textarea":Re("invalid",n),ec(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||ih(n.textContent,l)?(s.popover!=null&&(Re("beforetoggle",n),Re("toggle",n)),s.onScroll!=null&&Re("scroll",n),s.onScrollEnd!=null&&Re("scrollend",n),s.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||ii(e,!0)}function Gc(e){for(Nt=e.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:Nt=Nt.return}}function ul(e){if(e!==Nt)return!1;if(!Le)return Gc(e),Le=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||au(e.type,e.memoizedProps)),l=!l),l&&tt&&ii(e),Gc(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=fh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));tt=fh(e)}else n===27?(n=tt,yi(e.type)?(e=du,du=null,tt=e):tt=n):tt=Nt?mn(e.stateNode.nextSibling):null;return!0}function Ui(){tt=Nt=null,Le=!1}function Os(){var e=ni;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),ni=null),e}function eo(e){ni===null?ni=[e]:ni.push(e)}var Fs=w(null),Li=null,Hn=null;function li(e,n,l){ie(Fs,n._currentValue),n._currentValue=l}function zn(e){e._currentValue=Fs.current,P(Fs)}function Ys(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Js(e,n,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var S=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var C=0;C<n.length;C++)if(E.context===n[C]){h.lanes|=l,E=h.alternate,E!==null&&(E.lanes|=l),Ys(h.return,l,e),s||(S=null);break e}h=E.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(a(341));S.lanes|=l,h=S.alternate,h!==null&&(h.lanes|=l),Ys(S,l,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function cl(e,n,l,s){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=f.type;Xt(f.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(f===Ie.current){if(S=f.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(No):e=[No])}f=f.return}e!==null&&Js(n,e,l,s),n.flags|=262144}function ia(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Li=e,Hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Rt(e){return Vc(Li,e)}function la(e,n){return Li===null&&Pi(e),Vc(e,n)}function Vc(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Hn===null){if(e===null)throw Error(a(308));Hn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hn=Hn.next=n;return l}var Qp=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Zp=i.unstable_scheduleCallback,Wp=i.unstable_NormalPriority,pt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ks(){return{controller:new Qp,data:new Map,refCount:0}}function to(e){e.refCount--,e.refCount===0&&Zp(Wp,function(){e.controller.abort()})}var no=null,Xs=0,dl=0,fl=null;function $p(e,n){if(no===null){var l=no=[];Xs=0,dl=Zr(),fl={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Xs++,n.then(Bc,Bc),n}function Bc(){if(--Xs===0&&no!==null){fl!==null&&(fl.status="fulfilled");var e=no;no=null,dl=0,fl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ey(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var Oc=I.S;I.S=function(e,n){Af=_t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&$p(e,n),Oc!==null&&Oc(e,n)};var Hi=w(null);function js(){var e=Hi.current;return e!==null?e:et.pooledCache}function oa(e,n){n===null?ie(Hi,Hi.current):ie(Hi,n.pool)}function Fc(){var e=js();return e===null?null:{parent:pt._currentValue,pool:e}}var hl=Error(a(460)),Qs=Error(a(474)),aa=Error(a(542)),sa={then:function(){}};function Yc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jc(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(kn,kn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xc(e),e;default:if(typeof n.status=="string")n.then(kn,kn);else{if(e=et,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xc(e),e}throw qi=n,hl}}function zi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(qi=l,hl):l}}var qi=null;function Kc(){if(qi===null)throw Error(a(459));var e=qi;return qi=null,e}function Xc(e){if(e===hl||e===aa)throw Error(a(483))}var ml=null,io=0;function ra(e){var n=io;return io+=1,ml===null&&(ml=[]),Jc(ml,e,n)}function lo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ua(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jc(e){function n(N,A){if(e){var R=N.deletions;R===null?(N.deletions=[A],N.flags|=16):R.push(A)}}function l(N,A){if(!e)return null;for(;A!==null;)n(N,A),A=A.sibling;return null}function s(N){for(var A=new Map;N!==null;)N.key!==null?A.set(N.key,N):A.set(N.index,N),N=N.sibling;return A}function f(N,A){return N=Ln(N,A),N.index=0,N.sibling=null,N}function h(N,A,R){return N.index=R,e?(R=N.alternate,R!==null?(R=R.index,R<A?(N.flags|=67108866,A):R):(N.flags|=67108866,A)):(N.flags|=1048576,A)}function S(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function E(N,A,R,q){return A===null||A.tag!==6?(A=zs(R,N.mode,q),A.return=N,A):(A=f(A,R),A.return=N,A)}function C(N,A,R,q){var ve=R.type;return ve===U?H(N,A,R.props.children,q,R.key):A!==null&&(A.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Z&&zi(ve)===A.type)?(A=f(A,R.props),lo(A,R),A.return=N,A):(A=ta(R.type,R.key,R.props,null,N.mode,q),lo(A,R),A.return=N,A)}function M(N,A,R,q){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=qs(R,N.mode,q),A.return=N,A):(A=f(A,R.children||[]),A.return=N,A)}function H(N,A,R,q,ve){return A===null||A.tag!==7?(A=ki(R,N.mode,q,ve),A.return=N,A):(A=f(A,R),A.return=N,A)}function O(N,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=zs(""+A,N.mode,R),A.return=N,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return R=ta(A.type,A.key,A.props,null,N.mode,R),lo(R,A),R.return=N,R;case L:return A=qs(A,N.mode,R),A.return=N,A;case Z:return A=zi(A),O(N,A,R)}if(ze(A)||fe(A))return A=ki(A,N.mode,R,null),A.return=N,A;if(typeof A.then=="function")return O(N,ra(A),R);if(A.$$typeof===J)return O(N,la(N,A),R);ua(N,A)}return null}function D(N,A,R,q){var ve=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ve!==null?null:E(N,A,""+R,q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return R.key===ve?C(N,A,R,q):null;case L:return R.key===ve?M(N,A,R,q):null;case Z:return R=zi(R),D(N,A,R,q)}if(ze(R)||fe(R))return ve!==null?null:H(N,A,R,q,null);if(typeof R.then=="function")return D(N,A,ra(R),q);if(R.$$typeof===J)return D(N,A,la(N,R),q);ua(N,R)}return null}function k(N,A,R,q,ve){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return N=N.get(R)||null,E(A,N,""+q,ve);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return N=N.get(q.key===null?R:q.key)||null,C(A,N,q,ve);case L:return N=N.get(q.key===null?R:q.key)||null,M(A,N,q,ve);case Z:return q=zi(q),k(N,A,R,q,ve)}if(ze(q)||fe(q))return N=N.get(R)||null,H(A,N,q,ve,null);if(typeof q.then=="function")return k(N,A,R,ra(q),ve);if(q.$$typeof===J)return k(N,A,R,la(A,q),ve);ua(A,q)}return null}function me(N,A,R,q){for(var ve=null,qe=null,ge=A,_e=A=0,ke=null;ge!==null&&_e<R.length;_e++){ge.index>_e?(ke=ge,ge=null):ke=ge.sibling;var Ge=D(N,ge,R[_e],q);if(Ge===null){ge===null&&(ge=ke);break}e&&ge&&Ge.alternate===null&&n(N,ge),A=h(Ge,A,_e),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge,ge=ke}if(_e===R.length)return l(N,ge),Le&&Pn(N,_e),ve;if(ge===null){for(;_e<R.length;_e++)ge=O(N,R[_e],q),ge!==null&&(A=h(ge,A,_e),qe===null?ve=ge:qe.sibling=ge,qe=ge);return Le&&Pn(N,_e),ve}for(ge=s(ge);_e<R.length;_e++)ke=k(ge,N,_e,R[_e],q),ke!==null&&(e&&ke.alternate!==null&&ge.delete(ke.key===null?_e:ke.key),A=h(ke,A,_e),qe===null?ve=ke:qe.sibling=ke,qe=ke);return e&&ge.forEach(function(xi){return n(N,xi)}),Le&&Pn(N,_e),ve}function Se(N,A,R,q){if(R==null)throw Error(a(151));for(var ve=null,qe=null,ge=A,_e=A=0,ke=null,Ge=R.next();ge!==null&&!Ge.done;_e++,Ge=R.next()){ge.index>_e?(ke=ge,ge=null):ke=ge.sibling;var xi=D(N,ge,Ge.value,q);if(xi===null){ge===null&&(ge=ke);break}e&&ge&&xi.alternate===null&&n(N,ge),A=h(xi,A,_e),qe===null?ve=xi:qe.sibling=xi,qe=xi,ge=ke}if(Ge.done)return l(N,ge),Le&&Pn(N,_e),ve;if(ge===null){for(;!Ge.done;_e++,Ge=R.next())Ge=O(N,Ge.value,q),Ge!==null&&(A=h(Ge,A,_e),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge);return Le&&Pn(N,_e),ve}for(ge=s(ge);!Ge.done;_e++,Ge=R.next())Ge=k(ge,N,_e,Ge.value,q),Ge!==null&&(e&&Ge.alternate!==null&&ge.delete(Ge.key===null?_e:Ge.key),A=h(Ge,A,_e),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge);return e&&ge.forEach(function(d0){return n(N,d0)}),Le&&Pn(N,_e),ve}function $e(N,A,R,q){if(typeof R=="object"&&R!==null&&R.type===U&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case _:e:{for(var ve=R.key;A!==null;){if(A.key===ve){if(ve=R.type,ve===U){if(A.tag===7){l(N,A.sibling),q=f(A,R.props.children),q.return=N,N=q;break e}}else if(A.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Z&&zi(ve)===A.type){l(N,A.sibling),q=f(A,R.props),lo(q,R),q.return=N,N=q;break e}l(N,A);break}else n(N,A);A=A.sibling}R.type===U?(q=ki(R.props.children,N.mode,q,R.key),q.return=N,N=q):(q=ta(R.type,R.key,R.props,null,N.mode,q),lo(q,R),q.return=N,N=q)}return S(N);case L:e:{for(ve=R.key;A!==null;){if(A.key===ve)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){l(N,A.sibling),q=f(A,R.children||[]),q.return=N,N=q;break e}else{l(N,A);break}else n(N,A);A=A.sibling}q=qs(R,N.mode,q),q.return=N,N=q}return S(N);case Z:return R=zi(R),$e(N,A,R,q)}if(ze(R))return me(N,A,R,q);if(fe(R)){if(ve=fe(R),typeof ve!="function")throw Error(a(150));return R=ve.call(R),Se(N,A,R,q)}if(typeof R.then=="function")return $e(N,A,ra(R),q);if(R.$$typeof===J)return $e(N,A,la(N,R),q);ua(N,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(l(N,A.sibling),q=f(A,R),q.return=N,N=q):(l(N,A),q=zs(R,N.mode,q),q.return=N,N=q),S(N)):l(N,A)}return function(N,A,R,q){try{io=0;var ve=$e(N,A,R,q);return ml=null,ve}catch(ge){if(ge===hl||ge===aa)throw ge;var qe=jt(29,ge,null,N.mode);return qe.lanes=q,qe.return=N,qe}finally{}}}var Gi=jc(!0),Qc=jc(!1),oi=!1;function Zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ws(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Be&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=ea(e),kc(e,null,l),n}return $o(e,s,n,l),ea(e)}function oo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,qo(e,l)}}function $s(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?f=h=S:h=h.next=S,l=l.next}while(l!==null);h===null?f=h=n:h=h.next=n}else f=h=n;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var er=!1;function ao(){if(er){var e=fl;if(e!==null)throw e}}function so(e,n,l,s){er=!1;var f=e.updateQueue;oi=!1;var h=f.firstBaseUpdate,S=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var C=E,M=C.next;C.next=null,S===null?h=M:S.next=M,S=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==S&&(E===null?H.firstBaseUpdate=M:E.next=M,H.lastBaseUpdate=C))}if(h!==null){var O=f.baseState;S=0,H=M=C=null,E=h;do{var D=E.lane&-536870913,k=D!==E.lane;if(k?(De&D)===D:(s&D)===D){D!==0&&D===dl&&(er=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=e,Se=E;D=n;var $e=l;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){O=me.call($e,O,D);break e}O=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,D=typeof me=="function"?me.call($e,O,D):me,D==null)break e;O=b({},O,D);break e;case 2:oi=!0}}D=E.callback,D!==null&&(e.flags|=64,k&&(e.flags|=8192),k=f.callbacks,k===null?f.callbacks=[D]:k.push(D))}else k={lane:D,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(M=H=k,C=O):H=H.next=k,S|=D;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;k=E,E=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);H===null&&(C=O),f.baseState=C,f.firstBaseUpdate=M,f.lastBaseUpdate=H,h===null&&(f.shared.lanes=0),fi|=S,e.lanes=S,e.memoizedState=O}}function Zc(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Wc(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Zc(l[e],n)}var gl=w(null),ca=w(0);function $c(e,n){e=Kn,ie(ca,e),ie(gl,n),Kn=e|n.baseLanes}function tr(){ie(ca,Kn),ie(gl,gl.current)}function nr(){Kn=ca.current,P(gl),P(ca)}var Qt=w(null),hn=null;function ri(e){var n=e.alternate;ie(mt,mt.current&1),ie(Qt,e),hn===null&&(n===null||gl.current!==null||n.memoizedState!==null)&&(hn=e)}function ir(e){ie(mt,mt.current),ie(Qt,e),hn===null&&(hn=e)}function ed(e){e.tag===22?(ie(mt,mt.current),ie(Qt,e),hn===null&&(hn=e)):ui()}function ui(){ie(mt,mt.current),ie(Qt,Qt.current)}function Zt(e){P(Qt),hn===e&&(hn=null),P(mt)}var mt=w(0);function da(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||uu(l)||cu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qn=0,we=null,Ze=null,yt=null,fa=!1,pl=!1,Vi=!1,ha=0,ro=0,yl=null,ty=0;function ct(){throw Error(a(321))}function lr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Xt(e[l],n[l]))return!1;return!0}function or(e,n,l,s,f,h){return qn=h,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,I.H=e===null||e.memoizedState===null?Hd:Sr,Vi=!1,h=l(s,f),Vi=!1,pl&&(h=nd(n,l,s,f)),td(e),h}function td(e){I.H=fo;var n=Ze!==null&&Ze.next!==null;if(qn=0,yt=Ze=we=null,fa=!1,ro=0,yl=null,n)throw Error(a(300));e===null||vt||(e=e.dependencies,e!==null&&ia(e)&&(vt=!0))}function nd(e,n,l,s){we=e;var f=0;do{if(pl&&(yl=null),ro=0,pl=!1,25<=f)throw Error(a(301));if(f+=1,yt=Ze=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}I.H=zd,h=n(l,s)}while(pl);return h}function ny(){var e=I.H,n=e.useState()[0];return n=typeof n.then=="function"?uo(n):n,e=e.useState()[0],(Ze!==null?Ze.memoizedState:null)!==e&&(we.flags|=1024),n}function ar(){var e=ha!==0;return ha=0,e}function sr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function rr(e){if(fa){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}fa=!1}qn=0,yt=Ze=we=null,pl=!1,ro=ha=0,yl=null}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?we.memoizedState=yt=e:yt=yt.next=e,yt}function gt(){if(Ze===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=yt===null?we.memoizedState:yt.next;if(n!==null)yt=n,Ze=e;else{if(e===null)throw we.alternate===null?Error(a(467)):Error(a(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},yt===null?we.memoizedState=yt=e:yt=yt.next=e}return yt}function ma(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(e){var n=ro;return ro+=1,yl===null&&(yl=[]),e=Jc(yl,e,n),n=we,(yt===null?n.memoizedState:yt.next)===null&&(n=n.alternate,I.H=n===null||n.memoizedState===null?Hd:Sr),e}function ga(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return uo(e);if(e.$$typeof===J)return Rt(e)}throw Error(a(438,String(e)))}function ur(e){var n=null,l=we.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=we.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=ma(),we.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=oe;return n.index++,l}function Gn(e,n){return typeof n=="function"?n(e):n}function pa(e){var n=gt();return cr(n,Ze,e)}function cr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,h=s.pending;if(h!==null){if(f!==null){var S=f.next;f.next=h.next,h.next=S}n.baseQueue=f=h,s.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var E=S=null,C=null,M=n,H=!1;do{var O=M.lane&-536870913;if(O!==M.lane?(De&O)===O:(qn&O)===O){var D=M.revertLane;if(D===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),O===dl&&(H=!0);else if((qn&D)===D){M=M.next,D===dl&&(H=!0);continue}else O={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},C===null?(E=C=O,S=h):C=C.next=O,we.lanes|=D,fi|=D;O=M.action,Vi&&l(h,O),h=M.hasEagerState?M.eagerState:l(h,O)}else D={lane:O,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},C===null?(E=C=D,S=h):C=C.next=D,we.lanes|=O,fi|=O;M=M.next}while(M!==null&&M!==n);if(C===null?S=h:C.next=E,!Xt(h,e.memoizedState)&&(vt=!0,H&&(l=fl,l!==null)))throw l;e.memoizedState=h,e.baseState=S,e.baseQueue=C,s.lastRenderedState=h}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function dr(e){var n=gt(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,h=n.memoizedState;if(f!==null){l.pending=null;var S=f=f.next;do h=e(h,S.action),S=S.next;while(S!==f);Xt(h,n.memoizedState)||(vt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,s]}function id(e,n,l){var s=we,f=gt(),h=Le;if(h){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!Xt((Ze||f).memoizedState,l);if(S&&(f.memoizedState=l,vt=!0),f=f.queue,mr(ad.bind(null,s,f,e),[e]),f.getSnapshot!==n||S||yt!==null&&yt.memoizedState.tag&1){if(s.flags|=2048,vl(9,{destroy:void 0},od.bind(null,s,f,l,n),null),et===null)throw Error(a(349));h||(qn&127)!==0||ld(s,n,l)}return l}function ld(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=we.updateQueue,n===null?(n=ma(),we.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function od(e,n,l,s){n.value=l,n.getSnapshot=s,sd(n)&&rd(e)}function ad(e,n,l){return l(function(){sd(n)&&rd(e)})}function sd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Xt(e,l)}catch{return!0}}function rd(e){var n=Di(e,2);n!==null&&Jt(n,e,2)}function fr(e){var n=qt();if(typeof e=="function"){var l=e;if(e=l(),Vi){Ke(!0);try{l()}finally{Ke(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},n}function ud(e,n,l,s){return e.baseState=l,cr(e,Ze,typeof s=="function"?s:Gn)}function iy(e,n,l,s,f){if(Ta(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){h.listeners.push(S)}};I.T!==null?l(!0):h.isTransition=!1,s(h),l=n.pending,l===null?(h.next=n.pending=h,cd(n,h)):(h.next=l.next,n.pending=l.next=h)}}function cd(e,n){var l=n.action,s=n.payload,f=e.state;if(n.isTransition){var h=I.T,S={};I.T=S;try{var E=l(f,s),C=I.S;C!==null&&C(S,E),dd(e,n,E)}catch(M){hr(e,n,M)}finally{h!==null&&S.types!==null&&(h.types=S.types),I.T=h}}else try{h=l(f,s),dd(e,n,h)}catch(M){hr(e,n,M)}}function dd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){fd(e,n,s)},function(s){return hr(e,n,s)}):fd(e,n,l)}function fd(e,n,l){n.status="fulfilled",n.value=l,hd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,cd(e,l)))}function hr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,hd(n),n=n.next;while(n!==s)}e.action=null}function hd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function md(e,n){return n}function gd(e,n){if(Le){var l=et.formState;if(l!==null){e:{var s=we;if(Le){if(tt){t:{for(var f=tt,h=fn;f.nodeType!==8;){if(!h){f=null;break t}if(f=mn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){tt=mn(f.nextSibling),s=f.data==="F!";break e}}ii(s)}s=!1}s&&(n=l[0])}}return l=qt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:n},l.queue=s,l=Ud.bind(null,we,s),s.dispatch=l,s=fr(!1),h=Tr.bind(null,we,!1,s.queue),s=qt(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,l=iy.bind(null,we,f,h,l),f.dispatch=l,s.memoizedState=e,[n,l,!1]}function pd(e){var n=gt();return yd(n,Ze,e)}function yd(e,n,l){if(n=cr(e,n,md)[0],e=pa(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=uo(n)}catch(S){throw S===hl?aa:S}else s=n;n=gt();var f=n.queue,h=f.dispatch;return l!==n.memoizedState&&(we.flags|=2048,vl(9,{destroy:void 0},ly.bind(null,f,l),null)),[s,h,e]}function ly(e,n){e.action=n}function vd(e){var n=gt(),l=Ze;if(l!==null)return yd(n,l,e);gt(),n=n.memoizedState,l=gt();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function vl(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=we.updateQueue,n===null&&(n=ma(),we.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Td(){return gt().memoizedState}function ya(e,n,l,s){var f=qt();we.flags|=e,f.memoizedState=vl(1|n,{destroy:void 0},l,s===void 0?null:s)}function va(e,n,l,s){var f=gt();s=s===void 0?null:s;var h=f.memoizedState.inst;Ze!==null&&s!==null&&lr(s,Ze.memoizedState.deps)?f.memoizedState=vl(n,h,l,s):(we.flags|=e,f.memoizedState=vl(1|n,h,l,s))}function Sd(e,n){ya(8390656,8,e,n)}function mr(e,n){va(2048,8,e,n)}function oy(e){we.flags|=4;var n=we.updateQueue;if(n===null)n=ma(),we.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function bd(e){var n=gt().memoizedState;return oy({ref:n,nextImpl:e}),function(){if((Be&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function xd(e,n){return va(4,2,e,n)}function Ed(e,n){return va(4,4,e,n)}function Cd(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wd(e,n,l){l=l!=null?l.concat([e]):null,va(4,4,Cd.bind(null,n,e),l)}function gr(){}function _d(e,n){var l=gt();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&lr(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Ad(e,n){var l=gt();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&lr(n,s[1]))return s[0];if(s=e(),Vi){Ke(!0);try{e()}finally{Ke(!1)}}return l.memoizedState=[s,n],s}function pr(e,n,l){return l===void 0||(qn&1073741824)!==0&&(De&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Rf(),we.lanes|=e,fi|=e,l)}function Nd(e,n,l,s){return Xt(l,n)?l:gl.current!==null?(e=pr(e,l,s),Xt(e,n)||(vt=!0),e):(qn&42)===0||(qn&1073741824)!==0&&(De&261930)===0?(vt=!0,e.memoizedState=l):(e=Rf(),we.lanes|=e,fi|=e,n)}function Rd(e,n,l,s,f){var h=X.p;X.p=h!==0&&8>h?h:8;var S=I.T,E={};I.T=E,Tr(e,!1,n,l);try{var C=f(),M=I.S;if(M!==null&&M(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=ey(C,s);co(e,n,H,en(e))}else co(e,n,s,en(e))}catch(O){co(e,n,{then:function(){},status:"rejected",reason:O},en())}finally{X.p=h,S!==null&&E.types!==null&&(S.types=E.types),I.T=S}}function ay(){}function yr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var f=Md(e).queue;Rd(e,f,n,se,l===null?ay:function(){return Id(e),l(s)})}function Md(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:se},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Id(e){var n=Md(e);n.next===null&&(n=e.alternate.memoizedState),co(e,n.next.queue,{},en())}function vr(){return Rt(No)}function Dd(){return gt().memoizedState}function kd(){return gt().memoizedState}function sy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=en();e=ai(l);var s=si(n,e,l);s!==null&&(Jt(s,n,l),oo(s,n,l)),n={cache:Ks()},e.payload=n;return}n=n.return}}function ry(e,n,l){var s=en();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ta(e)?Ld(n,l):(l=Ps(e,n,l,s),l!==null&&(Jt(l,e,s),Pd(l,n,s)))}function Ud(e,n,l){var s=en();co(e,n,l,s)}function co(e,n,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ta(e))Ld(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var S=n.lastRenderedState,E=h(S,l);if(f.hasEagerState=!0,f.eagerState=E,Xt(E,S))return $o(e,n,f,0),et===null&&Wo(),!1}catch{}finally{}if(l=Ps(e,n,f,s),l!==null)return Jt(l,e,s),Pd(l,n,s),!0}return!1}function Tr(e,n,l,s){if(s={lane:2,revertLane:Zr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ta(e)){if(n)throw Error(a(479))}else n=Ps(e,l,s,2),n!==null&&Jt(n,e,2)}function Ta(e){var n=e.alternate;return e===we||n!==null&&n===we}function Ld(e,n){pl=fa=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Pd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,qo(e,l)}}var fo={readContext:Rt,use:ga,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};fo.useEffectEvent=ct;var Hd={readContext:Rt,use:ga,useCallback:function(e,n){return qt().memoizedState=[e,n===void 0?null:n],e},useContext:Rt,useEffect:Sd,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ya(4194308,4,Cd.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ya(4194308,4,e,n)},useInsertionEffect:function(e,n){ya(4,2,e,n)},useMemo:function(e,n){var l=qt();n=n===void 0?null:n;var s=e();if(Vi){Ke(!0);try{e()}finally{Ke(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=qt();if(l!==void 0){var f=l(n);if(Vi){Ke(!0);try{l(n)}finally{Ke(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=ry.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var n=qt();return e={current:e},n.memoizedState=e},useState:function(e){e=fr(e);var n=e.queue,l=Ud.bind(null,we,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:gr,useDeferredValue:function(e,n){var l=qt();return pr(l,e,n)},useTransition:function(){var e=fr(!1);return e=Rd.bind(null,we,e.queue,!0,!1),qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=we,f=qt();if(Le){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),et===null)throw Error(a(349));(De&127)!==0||ld(s,n,l)}f.memoizedState=l;var h={value:l,getSnapshot:n};return f.queue=h,Sd(ad.bind(null,s,h,e),[e]),s.flags|=2048,vl(9,{destroy:void 0},od.bind(null,s,h,l,n),null),l},useId:function(){var e=qt(),n=et.identifierPrefix;if(Le){var l=Cn,s=En;l=(s&~(1<<32-Qe(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ha++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=ty++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vr,useFormState:gd,useActionState:gd,useOptimistic:function(e){var n=qt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Tr.bind(null,we,!0,l),l.dispatch=n,[e,n]},useMemoCache:ur,useCacheRefresh:function(){return qt().memoizedState=sy.bind(null,we)},useEffectEvent:function(e){var n=qt(),l={impl:e};return n.memoizedState=l,function(){if((Be&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Sr={readContext:Rt,use:ga,useCallback:_d,useContext:Rt,useEffect:mr,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:Ed,useMemo:Ad,useReducer:pa,useRef:Td,useState:function(){return pa(Gn)},useDebugValue:gr,useDeferredValue:function(e,n){var l=gt();return Nd(l,Ze.memoizedState,e,n)},useTransition:function(){var e=pa(Gn)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:uo(e),n]},useSyncExternalStore:id,useId:Dd,useHostTransitionStatus:vr,useFormState:pd,useActionState:pd,useOptimistic:function(e,n){var l=gt();return ud(l,Ze,e,n)},useMemoCache:ur,useCacheRefresh:kd};Sr.useEffectEvent=bd;var zd={readContext:Rt,use:ga,useCallback:_d,useContext:Rt,useEffect:mr,useImperativeHandle:wd,useInsertionEffect:xd,useLayoutEffect:Ed,useMemo:Ad,useReducer:dr,useRef:Td,useState:function(){return dr(Gn)},useDebugValue:gr,useDeferredValue:function(e,n){var l=gt();return Ze===null?pr(l,e,n):Nd(l,Ze.memoizedState,e,n)},useTransition:function(){var e=dr(Gn)[0],n=gt().memoizedState;return[typeof e=="boolean"?e:uo(e),n]},useSyncExternalStore:id,useId:Dd,useHostTransitionStatus:vr,useFormState:vd,useActionState:vd,useOptimistic:function(e,n){var l=gt();return Ze!==null?ud(l,Ze,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ur,useCacheRefresh:kd};zd.useEffectEvent=bd;function br(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:b({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var xr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=en(),f=ai(s);f.payload=n,l!=null&&(f.callback=l),n=si(e,f,s),n!==null&&(Jt(n,e,s),oo(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=en(),f=ai(s);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=si(e,f,s),n!==null&&(Jt(n,e,s),oo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=en(),s=ai(l);s.tag=2,n!=null&&(s.callback=n),n=si(e,s,l),n!==null&&(Jt(n,e,l),oo(n,e,l))}};function qd(e,n,l,s,f,h,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,S):n.prototype&&n.prototype.isPureReactComponent?!Zl(l,s)||!Zl(f,h):!0}function Gd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&xr.enqueueReplaceState(n,n.state,null)}function Bi(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=b({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Vd(e){Zo(e)}function Bd(e){console.error(e)}function Od(e){Zo(e)}function Sa(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Fd(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Er(e,n,l){return l=ai(l),l.tag=3,l.payload={element:null},l.callback=function(){Sa(e,n)},l}function Yd(e){return e=ai(e),e.tag=3,e}function Jd(e,n,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var h=s.value;e.payload=function(){return f(h)},e.callback=function(){Fd(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Fd(n,l,s),typeof f!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function uy(e,n,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&cl(n,l,f,!0),l=Qt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?Da():l.alternate===null&&dt===0&&(dt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===sa?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Xr(e,s,f)),!1;case 22:return l.flags|=65536,s===sa?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Xr(e,s,f)),!1}throw Error(a(435,l.tag))}return Xr(e,s,f),Da(),!1}if(Le)return n=Qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Bs&&(e=Error(a(422),{cause:s}),eo(un(e,l)))):(s!==Bs&&(n=Error(a(423),{cause:s}),eo(un(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=un(s,l),f=Er(e.stateNode,s,f),$s(e,f),dt!==4&&(dt=2)),!1;var h=Error(a(520),{cause:s});if(h=un(h,l),So===null?So=[h]:So.push(h),dt!==4&&(dt=2),n===null)return!0;s=un(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Er(l.stateNode,s,e),$s(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(hi===null||!hi.has(h))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Yd(f),Jd(f,e,l,s),$s(l,f),!1}l=l.return}while(l!==null);return!1}var Cr=Error(a(461)),vt=!1;function Mt(e,n,l,s){n.child=e===null?Qc(n,null,l,s):Gi(n,e.child,l,s)}function Kd(e,n,l,s,f){l=l.render;var h=n.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return Pi(n),s=or(e,n,l,S,h,f),E=ar(),e!==null&&!vt?(sr(e,n,f),Vn(e,n,f)):(Le&&E&&Gs(n),n.flags|=1,Mt(e,n,s,f),n.child)}function Xd(e,n,l,s,f){if(e===null){var h=l.type;return typeof h=="function"&&!Hs(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,jd(e,n,h,s,f)):(e=ta(l.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Dr(e,f)){var S=h.memoizedProps;if(l=l.compare,l=l!==null?l:Zl,l(S,s)&&e.ref===n.ref)return Vn(e,n,f)}return n.flags|=1,e=Ln(h,s),e.ref=n.ref,e.return=n,n.child=e}function jd(e,n,l,s,f){if(e!==null){var h=e.memoizedProps;if(Zl(h,s)&&e.ref===n.ref)if(vt=!1,n.pendingProps=s=h,Dr(e,f))(e.flags&131072)!==0&&(vt=!0);else return n.lanes=e.lanes,Vn(e,n,f)}return wr(e,n,l,s,f)}function Qd(e,n,l,s){var f=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~h}else s=0,n.child=null;return Zd(e,n,h,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oa(n,h!==null?h.cachePool:null),h!==null?$c(n,h):tr(),ed(n);else return s=n.lanes=536870912,Zd(e,n,h!==null?h.baseLanes|l:l,l,s)}else h!==null?(oa(n,h.cachePool),$c(n,h),ui(),n.memoizedState=null):(e!==null&&oa(n,null),tr(),ui());return Mt(e,n,f,l),n.child}function ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zd(e,n,l,s,f){var h=js();return h=h===null?null:{parent:pt._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&oa(n,null),tr(),ed(n),e!==null&&cl(e,n,s,!0),n.childLanes=f,null}function ba(e,n){return n=Ea({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wd(e,n,l){return Gi(n,e.child,null,l),e=ba(n,n.pendingProps),e.flags|=2,Zt(n),n.memoizedState=null,e}function cy(e,n,l){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Le){if(s.mode==="hidden")return e=ba(n,s),n.lanes=536870912,ho(null,e);if(ir(n),(e=tt)?(e=dh(e,fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:En,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},l=Lc(e),l.return=n,n.child=l,Nt=n,tt=null)):e=null,e===null)throw ii(n);return n.lanes=536870912,null}return ba(n,s)}var h=e.memoizedState;if(h!==null){var S=h.dehydrated;if(ir(n),f)if(n.flags&256)n.flags&=-257,n=Wd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(vt||cl(e,n,l,!1),f=(l&e.childLanes)!==0,vt||f){if(s=et,s!==null&&(S=Go(s,l),S!==0&&S!==h.retryLane))throw h.retryLane=S,Di(e,S),Jt(s,e,S),Cr;Da(),n=Wd(e,n,l)}else e=h.treeContext,tt=mn(S.nextSibling),Nt=n,Le=!0,ni=null,fn=!1,e!==null&&zc(n,e),n=ba(n,s),n.flags|=4096;return n}return e=Ln(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function xa(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function wr(e,n,l,s,f){return Pi(n),l=or(e,n,l,s,void 0,f),s=ar(),e!==null&&!vt?(sr(e,n,f),Vn(e,n,f)):(Le&&s&&Gs(n),n.flags|=1,Mt(e,n,l,f),n.child)}function $d(e,n,l,s,f,h){return Pi(n),n.updateQueue=null,l=nd(n,s,l,f),td(e),s=ar(),e!==null&&!vt?(sr(e,n,h),Vn(e,n,h)):(Le&&s&&Gs(n),n.flags|=1,Mt(e,n,l,h),n.child)}function ef(e,n,l,s,f){if(Pi(n),n.stateNode===null){var h=al,S=l.contextType;typeof S=="object"&&S!==null&&(h=Rt(S)),h=new l(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=xr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},Zs(n),S=l.contextType,h.context=typeof S=="object"&&S!==null?Rt(S):al,h.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(br(n,l,S,s),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(S=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),S!==h.state&&xr.enqueueReplaceState(h,h.state,null),so(n,s,h,f),ao(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var E=n.memoizedProps,C=Bi(l,E);h.props=C;var M=h.context,H=l.contextType;S=al,typeof H=="object"&&H!==null&&(S=Rt(H));var O=l.getDerivedStateFromProps;H=typeof O=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||M!==S)&&Gd(n,h,s,S),oi=!1;var D=n.memoizedState;h.state=D,so(n,s,h,f),ao(),M=n.memoizedState,E||D!==M||oi?(typeof O=="function"&&(br(n,l,O,s),M=n.memoizedState),(C=oi||qd(n,l,C,s,D,M,S))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=M),h.props=s,h.state=M,h.context=S,s=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,Ws(e,n),S=n.memoizedProps,H=Bi(l,S),h.props=H,O=n.pendingProps,D=h.context,M=l.contextType,C=al,typeof M=="object"&&M!==null&&(C=Rt(M)),E=l.getDerivedStateFromProps,(M=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S!==O||D!==C)&&Gd(n,h,s,C),oi=!1,D=n.memoizedState,h.state=D,so(n,s,h,f),ao();var k=n.memoizedState;S!==O||D!==k||oi||e!==null&&e.dependencies!==null&&ia(e.dependencies)?(typeof E=="function"&&(br(n,l,E,s),k=n.memoizedState),(H=oi||qd(n,l,H,s,D,k,C)||e!==null&&e.dependencies!==null&&ia(e.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,k,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,k,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=k),h.props=s,h.state=k,h.context=C,s=H):(typeof h.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,xa(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=Gi(n,e.child,null,f),n.child=Gi(n,null,l,f)):Mt(e,n,l,f),n.memoizedState=h.state,e=n.child):e=Vn(e,n,f),e}function tf(e,n,l,s){return Ui(),n.flags|=256,Mt(e,n,l,s),n.child}var _r={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ar(e){return{baseLanes:e,cachePool:Fc()}}function Nr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=$t),e}function nf(e,n,l){var s=n.pendingProps,f=!1,h=(n.flags&128)!==0,S;if((S=h)||(S=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Le){if(f?ri(n):ui(),(e=tt)?(e=dh(e,fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ti!==null?{id:En,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},l=Lc(e),l.return=n,n.child=l,Nt=n,tt=null)):e=null,e===null)throw ii(n);return cu(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,f?(ui(),f=n.mode,E=Ea({mode:"hidden",children:E},f),s=ki(s,f,l,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=Ar(l),s.childLanes=Nr(e,S,l),n.memoizedState=_r,ho(null,s)):(ri(n),Rr(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)n.flags&256?(ri(n),n.flags&=-257,n=Mr(e,n,l)):n.memoizedState!==null?(ui(),n.child=e.child,n.flags|=128,n=null):(ui(),E=s.fallback,f=n.mode,s=Ea({mode:"visible",children:s.children},f),E=ki(E,f,l,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,Gi(n,e.child,null,l),s=n.child,s.memoizedState=Ar(l),s.childLanes=Nr(e,S,l),n.memoizedState=_r,n=ho(null,s));else if(ri(n),cu(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var M=S.dgst;S=M,s=Error(a(419)),s.stack="",s.digest=S,eo({value:s,source:null,stack:null}),n=Mr(e,n,l)}else if(vt||cl(e,n,l,!1),S=(l&e.childLanes)!==0,vt||S){if(S=et,S!==null&&(s=Go(S,l),s!==0&&s!==C.retryLane))throw C.retryLane=s,Di(e,s),Jt(S,e,s),Cr;uu(E)||Da(),n=Mr(e,n,l)}else uu(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,tt=mn(E.nextSibling),Nt=n,Le=!0,ni=null,fn=!1,e!==null&&zc(n,e),n=Rr(n,s.children),n.flags|=4096);return n}return f?(ui(),E=s.fallback,f=n.mode,C=e.child,M=C.sibling,s=Ln(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,M!==null?E=Ln(M,E):(E=ki(E,f,l,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,ho(null,s),s=n.child,E=e.child.memoizedState,E===null?E=Ar(l):(f=E.cachePool,f!==null?(C=pt._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Fc(),E={baseLanes:E.baseLanes|l,cachePool:f}),s.memoizedState=E,s.childLanes=Nr(e,S,l),n.memoizedState=_r,ho(e.child,s)):(ri(n),l=e.child,e=l.sibling,l=Ln(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function Rr(e,n){return n=Ea({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ea(e,n){return e=jt(22,e,null,n),e.lanes=0,e}function Mr(e,n,l){return Gi(n,e.child,null,l),e=Rr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function lf(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ys(e.return,n,l)}function Ir(e,n,l,s,f,h){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:h}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=f,S.treeForkCount=h)}function of(e,n,l){var s=n.pendingProps,f=s.revealOrder,h=s.tail;s=s.children;var S=mt.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,ie(mt,S),Mt(e,n,s,l),s=Le?$l:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lf(e,l,n);else if(e.tag===19)lf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&da(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Ir(n,!1,f,l,h,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&da(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Ir(n,!0,l,null,h,s);break;case"together":Ir(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Vn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),fi|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(cl(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=Ln(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Ln(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Dr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ia(e)))}function dy(e,n,l){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),li(n,pt,e.memoizedState.cache),Ui();break;case 27:case 5:St(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:li(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ir(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(ri(n),n.flags|=128,null):(l&n.child.childLanes)!==0?nf(e,n,l):(ri(n),e=Vn(e,n,l),e!==null?e.sibling:null);ri(n);break;case 19:var f=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(cl(e,n,l,!1),s=(l&n.childLanes)!==0),f){if(s)return of(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(mt,mt.current),s)break;return null;case 22:return n.lanes=0,Qd(e,n,l,n.pendingProps);case 24:li(n,pt,e.memoizedState.cache)}return Vn(e,n,l)}function af(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)vt=!0;else{if(!Dr(e,l)&&(n.flags&128)===0)return vt=!1,dy(e,n,l);vt=(e.flags&131072)!==0}else vt=!1,Le&&(n.flags&1048576)!==0&&Hc(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=zi(n.elementType),n.type=e,typeof e=="function")Hs(e)?(s=Bi(e,s),n.tag=1,n=ef(null,n,e,s,l)):(n.tag=0,n=wr(null,n,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===F){n.tag=11,n=Kd(null,n,e,s,l);break e}else if(f===V){n.tag=14,n=Xd(null,n,e,s,l);break e}}throw n=Me(e)||e,Error(a(306,n,""))}}return n;case 0:return wr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,f=Bi(s,n.pendingProps),ef(e,n,s,f,l);case 3:e:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;f=h.element,Ws(e,n),so(n,s,null,l);var S=n.memoizedState;if(s=S.cache,li(n,pt,s),s!==h.cache&&Js(n,[pt],l,!0),ao(),s=S.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=tf(e,n,s,l);break e}else if(s!==f){f=un(Error(a(424)),n),eo(f),n=tf(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=mn(e.firstChild),Nt=n,Le=!0,ni=null,fn=!0,l=Qc(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ui(),s===f){n=Vn(e,n,l);break e}Mt(e,n,s,l)}n=n.child}return n;case 26:return xa(e,n),e===null?(l=yh(n.type,null,n.pendingProps,null))?n.memoizedState=l:Le||(l=n.type,e=n.pendingProps,s=qa(be.current).createElement(l),s[bt]=n,s[Dt]=e,It(s,l,e),Ue(s),n.stateNode=s):n.memoizedState=yh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return St(n),e===null&&Le&&(s=n.stateNode=mh(n.type,n.pendingProps,be.current),Nt=n,fn=!0,f=tt,yi(n.type)?(du=f,tt=mn(s.firstChild)):tt=f),Mt(e,n,n.pendingProps.children,l),xa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Le&&((f=s=tt)&&(s=Vy(s,n.type,n.pendingProps,fn),s!==null?(n.stateNode=s,Nt=n,tt=mn(s.firstChild),fn=!1,f=!0):f=!1),f||ii(n)),St(n),f=n.type,h=n.pendingProps,S=e!==null?e.memoizedProps:null,s=h.children,au(f,h)?s=null:S!==null&&au(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=or(e,n,ny,null,null,l),No._currentValue=f),xa(e,n),Mt(e,n,s,l),n.child;case 6:return e===null&&Le&&((e=l=tt)&&(l=By(l,n.pendingProps,fn),l!==null?(n.stateNode=l,Nt=n,tt=null,e=!0):e=!1),e||ii(n)),null;case 13:return nf(e,n,l);case 4:return at(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Gi(n,null,s,l):Mt(e,n,s,l),n.child;case 11:return Kd(e,n,n.type,n.pendingProps,l);case 7:return Mt(e,n,n.pendingProps,l),n.child;case 8:return Mt(e,n,n.pendingProps.children,l),n.child;case 12:return Mt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,li(n,n.type,s.value),Mt(e,n,s.children,l),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,Pi(n),f=Rt(f),s=s(f),n.flags|=1,Mt(e,n,s,l),n.child;case 14:return Xd(e,n,n.type,n.pendingProps,l);case 15:return jd(e,n,n.type,n.pendingProps,l);case 19:return of(e,n,l);case 31:return cy(e,n,l);case 22:return Qd(e,n,l,n.pendingProps);case 24:return Pi(n),s=Rt(pt),e===null?(f=js(),f===null&&(f=et,h=Ks(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=l),f=h),n.memoizedState={parent:s,cache:f},Zs(n),li(n,pt,f)):((e.lanes&l)!==0&&(Ws(e,n),so(n,null,null,l),ao()),f=e.memoizedState,h=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),li(n,pt,s)):(s=h.cache,li(n,pt,s),s!==f.cache&&Js(n,[pt],l,!0))),Mt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bn(e){e.flags|=4}function kr(e,n,l,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(kf())e.flags|=8192;else throw qi=sa,Qs}else e.flags&=-16777217}function sf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xh(n))if(kf())e.flags|=8192;else throw qi=sa,Qs}function Ca(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ho():536870912,e.lanes|=n,xl|=n)}function mo(e,n){if(!Le)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function fy(e,n,l){var s=n.pendingProps;switch(Vs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(n),null;case 1:return nt(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zn(pt),pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ul(n)?Bn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Os())),nt(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(Bn(n),h!==null?(nt(n),sf(n,h)):(nt(n),kr(n,f,null,s,l))):h?h!==e.memoizedState?(Bn(n),nt(n),sf(n,h)):(nt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&Bn(n),nt(n),kr(n,f,e,s,l)),null;case 27:if(Lt(n),l=be.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Bn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return nt(n),null}e=ae.current,ul(n)?qc(n):(e=mh(f,s,l),n.stateNode=e,Bn(n))}return nt(n),null;case 5:if(Lt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&Bn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return nt(n),null}if(h=ae.current,ul(n))qc(n);else{var S=qa(be.current);switch(h){case 1:h=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=S.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?S.createElement(f,{is:s.is}):S.createElement(f)}}h[bt]=n,h[Dt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=h;e:switch(It(h,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Bn(n)}}return nt(n),kr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&Bn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=be.current,ul(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,f=Nt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[bt]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||ih(e.nodeValue,l)),e||ii(n,!0)}else e=qa(e).createTextNode(s),e[bt]=n,n.stateNode=e}return nt(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=ul(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[bt]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),e=!1}else l=Os(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Zt(n),n):(Zt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return nt(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ul(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[bt]=n}else Ui(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;nt(n),f=!1}else f=Os(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Zt(n),n):(Zt(n),null)}return Zt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Ca(n,n.updateQueue),nt(n),null);case 4:return pe(),e===null&&tu(n.stateNode.containerInfo),nt(n),null;case 10:return zn(n.type),nt(n),null;case 19:if(P(mt),s=n.memoizedState,s===null)return nt(n),null;if(f=(n.flags&128)!==0,h=s.rendering,h===null)if(f)mo(s,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=da(e),h!==null){for(n.flags|=128,mo(s,!1),e=h.updateQueue,n.updateQueue=e,Ca(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Uc(l,e),l=l.sibling;return ie(mt,mt.current&1|2),Le&&Pn(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&_t()>Ra&&(n.flags|=128,f=!0,mo(s,!1),n.lanes=4194304)}else{if(!f)if(e=da(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Ca(n,e),mo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Le)return nt(n),null}else 2*_t()-s.renderingStartTime>Ra&&l!==536870912&&(n.flags|=128,f=!0,mo(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,l=mt.current,ie(mt,f?l&1|2:l&1),Le&&Pn(n,s.treeForkCount),e):(nt(n),null);case 22:case 23:return Zt(n),nr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(nt(n),n.subtreeFlags&6&&(n.flags|=8192)):nt(n),l=n.updateQueue,l!==null&&Ca(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&P(Hi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zn(pt),nt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function hy(e,n){switch(Vs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zn(pt),pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Lt(n),null;case 31:if(n.memoizedState!==null){if(Zt(n),n.alternate===null)throw Error(a(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Zt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ui()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(mt),null;case 4:return pe(),null;case 10:return zn(n.type),null;case 22:case 23:return Zt(n),nr(),e!==null&&P(Hi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zn(pt),null;case 25:return null;default:return null}}function rf(e,n){switch(Vs(n),n.tag){case 3:zn(pt),pe();break;case 26:case 27:case 5:Lt(n);break;case 4:pe();break;case 31:n.memoizedState!==null&&Zt(n);break;case 13:Zt(n);break;case 19:P(mt);break;case 10:zn(n.type);break;case 22:case 23:Zt(n),nr(),e!==null&&P(Hi);break;case 24:zn(pt)}}function go(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var h=l.create,S=l.inst;s=h(),S.destroy=s}l=l.next}while(l!==f)}}catch(E){je(n,n.return,E)}}function ci(e,n,l){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var h=f.next;s=h;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,f=n;var C=l,M=E;try{M()}catch(H){je(f,C,H)}}}s=s.next}while(s!==h)}}catch(H){je(n,n.return,H)}}function uf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Wc(n,l)}catch(s){je(e,e.return,s)}}}function cf(e,n,l){l.props=Bi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){je(e,n,s)}}function po(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){je(e,n,f)}}function wn(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){je(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){je(e,n,f)}else l.current=null}function df(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){je(e,e.return,f)}}function Ur(e,n,l){try{var s=e.stateNode;Ly(s,e.type,l,n),s[Dt]=n}catch(f){je(e,e.return,f)}}function ff(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&yi(e.type)||e.tag===4}function Lr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&yi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=kn));else if(s!==4&&(s===27&&yi(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Pr(e,n,l),e=e.sibling;e!==null;)Pr(e,n,l),e=e.sibling}function wa(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&yi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(wa(e,n,l),e=e.sibling;e!==null;)wa(e,n,l),e=e.sibling}function hf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);It(n,s,l),n[bt]=e,n[Dt]=l}catch(h){je(e,e.return,h)}}var On=!1,Tt=!1,Hr=!1,mf=typeof WeakSet=="function"?WeakSet:Set,wt=null;function my(e,n){if(e=e.containerInfo,lu=Ja,e=wc(e),Ms(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var S=0,E=-1,C=-1,M=0,H=0,O=e,D=null;t:for(;;){for(var k;O!==l||f!==0&&O.nodeType!==3||(E=S+f),O!==h||s!==0&&O.nodeType!==3||(C=S+s),O.nodeType===3&&(S+=O.nodeValue.length),(k=O.firstChild)!==null;)D=O,O=k;for(;;){if(O===e)break t;if(D===l&&++M===f&&(E=S),D===h&&++H===s&&(C=S),(k=O.nextSibling)!==null)break;O=D,D=O.parentNode}O=k}l=E===-1||C===-1?null:{start:E,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(ou={focusedElem:e,selectionRange:l},Ja=!1,wt=n;wt!==null;)if(n=wt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,wt=e;else for(;wt!==null;){switch(n=wt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,f=h.memoizedProps,h=h.memoizedState,s=l.stateNode;try{var me=Bi(l.type,f);e=s.getSnapshotBeforeUpdate(me,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(Se){je(l,l.return,Se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)ru(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,wt=e;break}wt=n.return}}function gf(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Yn(e,l),s&4&&go(5,l);break;case 1:if(Yn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){je(l,l.return,S)}else{var f=Bi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){je(l,l.return,S)}}s&64&&uf(l),s&512&&po(l,l.return);break;case 3:if(Yn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Wc(e,n)}catch(S){je(l,l.return,S)}}break;case 27:n===null&&s&4&&hf(l);case 26:case 5:Yn(e,l),n===null&&s&4&&df(l),s&512&&po(l,l.return);break;case 12:Yn(e,l);break;case 31:Yn(e,l),s&4&&vf(e,l);break;case 13:Yn(e,l),s&4&&Tf(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Ey.bind(null,l),Oy(e,l))));break;case 22:if(s=l.memoizedState!==null||On,!s){n=n!==null&&n.memoizedState!==null||Tt,f=On;var h=Tt;On=s,(Tt=n)&&!h?Jn(e,l,(l.subtreeFlags&8772)!==0):Yn(e,l),On=f,Tt=h}break;case 30:break;default:Yn(e,l)}}function pf(e){var n=e.alternate;n!==null&&(e.alternate=null,pf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ce(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Bt=!1;function Fn(e,n,l){for(l=l.child;l!==null;)yf(e,n,l),l=l.sibling}function yf(e,n,l){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(ut,l)}catch{}switch(l.tag){case 26:Tt||wn(l,n),Fn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Tt||wn(l,n);var s=lt,f=Bt;yi(l.type)&&(lt=l.stateNode,Bt=!1),Fn(e,n,l),wo(l.stateNode),lt=s,Bt=f;break;case 5:Tt||wn(l,n);case 6:if(s=lt,f=Bt,lt=null,Fn(e,n,l),lt=s,Bt=f,lt!==null)if(Bt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(h){je(l,n,h)}else try{lt.removeChild(l.stateNode)}catch(h){je(l,n,h)}break;case 18:lt!==null&&(Bt?(e=lt,uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ml(e)):uh(lt,l.stateNode));break;case 4:s=lt,f=Bt,lt=l.stateNode.containerInfo,Bt=!0,Fn(e,n,l),lt=s,Bt=f;break;case 0:case 11:case 14:case 15:ci(2,l,n),Tt||ci(4,l,n),Fn(e,n,l);break;case 1:Tt||(wn(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&cf(l,n,s)),Fn(e,n,l);break;case 21:Fn(e,n,l);break;case 22:Tt=(s=Tt)||l.memoizedState!==null,Fn(e,n,l),Tt=s;break;default:Fn(e,n,l)}}function vf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ml(e)}catch(l){je(n,n.return,l)}}}function Tf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(l){je(n,n.return,l)}}function gy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new mf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new mf),n;default:throw Error(a(435,e.tag))}}function _a(e,n){var l=gy(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var f=Cy.bind(null,e,s);s.then(f,f)}})}function Ot(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],h=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(yi(E.type)){lt=E.stateNode,Bt=!1;break e}break;case 5:lt=E.stateNode,Bt=!1;break e;case 3:case 4:lt=E.stateNode.containerInfo,Bt=!0;break e}E=E.return}if(lt===null)throw Error(a(160));yf(h,S,f),lt=null,Bt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sf(n,e),n=n.sibling}var Tn=null;function Sf(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Ft(e),s&4&&(ci(3,e,e.return),go(3,e),ci(5,e,e.return));break;case 1:Ot(n,e),Ft(e),s&512&&(Tt||l===null||wn(l,l.return)),s&64&&On&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=Tn;if(Ot(n,e),Ft(e),s&512&&(Tt||l===null||wn(l,l.return)),s&4){var h=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":h=f.getElementsByTagName("title")[0],(!h||h[ce]||h[bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(s),f.head.insertBefore(h,f.querySelector("head > title"))),It(h,s,l),h[bt]=e,Ue(h),s=h;break e;case"link":var S=Sh("link","href",f).get(s+(l.href||""));if(S){for(var E=0;E<S.length;E++)if(h=S[E],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(E,1);break t}}h=f.createElement(s),It(h,s,l),f.head.appendChild(h);break;case"meta":if(S=Sh("meta","content",f).get(s+(l.content||""))){for(E=0;E<S.length;E++)if(h=S[E],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(E,1);break t}}h=f.createElement(s),It(h,s,l),f.head.appendChild(h);break;default:throw Error(a(468,s))}h[bt]=e,Ue(h),s=h}e.stateNode=s}else bh(f,e.type,e.stateNode);else e.stateNode=Th(f,s,e.memoizedProps);else h!==s?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,s===null?bh(f,e.type,e.stateNode):Th(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ur(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ot(n,e),Ft(e),s&512&&(Tt||l===null||wn(l,l.return)),l!==null&&s&4&&Ur(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ot(n,e),Ft(e),s&512&&(Tt||l===null||wn(l,l.return)),e.flags&32){f=e.stateNode;try{$i(f,"")}catch(me){je(e,e.return,me)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Ur(e,f,l!==null?l.memoizedProps:f)),s&1024&&(Hr=!0);break;case 6:if(Ot(n,e),Ft(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(me){je(e,e.return,me)}}break;case 3:if(Ba=null,f=Tn,Tn=Ga(n.containerInfo),Ot(n,e),Tn=f,Ft(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Ml(n.containerInfo)}catch(me){je(e,e.return,me)}Hr&&(Hr=!1,bf(e));break;case 4:s=Tn,Tn=Ga(e.stateNode.containerInfo),Ot(n,e),Ft(e),Tn=s;break;case 12:Ot(n,e),Ft(e);break;case 31:Ot(n,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_a(e,s)));break;case 13:Ot(n,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Na=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_a(e,s)));break;case 22:f=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,M=On,H=Tt;if(On=M||f,Tt=H||C,Ot(n,e),Tt=H,On=M,Ft(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||C||On||Tt||Oi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(h=C.stateNode,f)S=h.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=C.stateNode;var O=C.memoizedProps.style,D=O!=null&&O.hasOwnProperty("display")?O.display:null;E.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(me){je(C,C.return,me)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(me){je(C,C.return,me)}}}else if(n.tag===18){if(l===null){C=n;try{var k=C.stateNode;f?ch(k,!0):ch(C.stateNode,!1)}catch(me){je(C,C.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,_a(e,l))));break;case 19:Ot(n,e),Ft(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,_a(e,s)));break;case 30:break;case 21:break;default:Ot(n,e),Ft(e)}}function Ft(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(ff(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,h=Lr(e);wa(e,h,f);break;case 5:var S=l.stateNode;l.flags&32&&($i(S,""),l.flags&=-33);var E=Lr(e);wa(e,E,S);break;case 3:case 4:var C=l.stateNode.containerInfo,M=Lr(e);Pr(e,M,C);break;default:throw Error(a(161))}}catch(H){je(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function bf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;bf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gf(e,n.alternate,n),n=n.sibling}function Oi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ci(4,n,n.return),Oi(n);break;case 1:wn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&cf(n,n.return,l),Oi(n);break;case 27:wo(n.stateNode);case 26:case 5:wn(n,n.return),Oi(n);break;case 22:n.memoizedState===null&&Oi(n);break;case 30:Oi(n);break;default:Oi(n)}e=e.sibling}}function Jn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,h=n,S=h.flags;switch(h.tag){case 0:case 11:case 15:Jn(f,h,l),go(4,h);break;case 1:if(Jn(f,h,l),s=h,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){je(s,s.return,M)}if(s=h,f=s.updateQueue,f!==null){var E=s.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Zc(C[f],E)}catch(M){je(s,s.return,M)}}l&&S&64&&uf(h),po(h,h.return);break;case 27:hf(h);case 26:case 5:Jn(f,h,l),l&&s===null&&S&4&&df(h),po(h,h.return);break;case 12:Jn(f,h,l);break;case 31:Jn(f,h,l),l&&S&4&&vf(f,h);break;case 13:Jn(f,h,l),l&&S&4&&Tf(f,h);break;case 22:h.memoizedState===null&&Jn(f,h,l),po(h,h.return);break;case 30:break;default:Jn(f,h,l)}n=n.sibling}}function zr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&to(l))}function qr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&to(e))}function Sn(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xf(e,n,l,s),n=n.sibling}function xf(e,n,l,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Sn(e,n,l,s),f&2048&&go(9,n);break;case 1:Sn(e,n,l,s);break;case 3:Sn(e,n,l,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&to(e)));break;case 12:if(f&2048){Sn(e,n,l,s),e=n.stateNode;try{var h=n.memoizedProps,S=h.id,E=h.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){je(n,n.return,C)}}else Sn(e,n,l,s);break;case 31:Sn(e,n,l,s);break;case 13:Sn(e,n,l,s);break;case 23:break;case 22:h=n.stateNode,S=n.alternate,n.memoizedState!==null?h._visibility&2?Sn(e,n,l,s):yo(e,n):h._visibility&2?Sn(e,n,l,s):(h._visibility|=2,Tl(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&zr(S,n);break;case 24:Sn(e,n,l,s),f&2048&&qr(n.alternate,n);break;default:Sn(e,n,l,s)}}function Tl(e,n,l,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,S=n,E=l,C=s,M=S.flags;switch(S.tag){case 0:case 11:case 15:Tl(h,S,E,C,f),go(8,S);break;case 23:break;case 22:var H=S.stateNode;S.memoizedState!==null?H._visibility&2?Tl(h,S,E,C,f):yo(h,S):(H._visibility|=2,Tl(h,S,E,C,f)),f&&M&2048&&zr(S.alternate,S);break;case 24:Tl(h,S,E,C,f),f&&M&2048&&qr(S.alternate,S);break;default:Tl(h,S,E,C,f)}n=n.sibling}}function yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,f=s.flags;switch(s.tag){case 22:yo(l,s),f&2048&&zr(s.alternate,s);break;case 24:yo(l,s),f&2048&&qr(s.alternate,s);break;default:yo(l,s)}n=n.sibling}}var vo=8192;function Sl(e,n,l){if(e.subtreeFlags&vo)for(e=e.child;e!==null;)Ef(e,n,l),e=e.sibling}function Ef(e,n,l){switch(e.tag){case 26:Sl(e,n,l),e.flags&vo&&e.memoizedState!==null&&t0(l,Tn,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,n,l);break;case 3:case 4:var s=Tn;Tn=Ga(e.stateNode.containerInfo),Sl(e,n,l),Tn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=vo,vo=16777216,Sl(e,n,l),vo=s):Sl(e,n,l));break;default:Sl(e,n,l)}}function Cf(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function To(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];wt=s,_f(s,e)}Cf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(e),e=e.sibling}function wf(e){switch(e.tag){case 0:case 11:case 15:To(e),e.flags&2048&&ci(9,e,e.return);break;case 3:To(e);break;case 12:To(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Aa(e)):To(e);break;default:To(e)}}function Aa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];wt=s,_f(s,e)}Cf(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ci(8,n,n.return),Aa(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Aa(n));break;default:Aa(n)}e=e.sibling}}function _f(e,n){for(;wt!==null;){var l=wt;switch(l.tag){case 0:case 11:case 15:ci(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:to(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,wt=s;else e:for(l=e;wt!==null;){s=wt;var f=s.sibling,h=s.return;if(pf(s),s===l){wt=null;break e}if(f!==null){f.return=h,wt=f;break e}wt=h}}}var py={getCacheForType:function(e){var n=Rt(pt),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return Rt(pt).controller.signal}},yy=typeof WeakMap=="function"?WeakMap:Map,Be=0,et=null,Ne=null,De=0,Xe=0,Wt=null,di=!1,bl=!1,Gr=!1,Kn=0,dt=0,fi=0,Fi=0,Vr=0,$t=0,xl=0,So=null,Yt=null,Br=!1,Na=0,Af=0,Ra=1/0,Ma=null,hi=null,xt=0,mi=null,El=null,Xn=0,Or=0,Fr=null,Nf=null,bo=0,Yr=null;function en(){return(Be&2)!==0&&De!==0?De&-De:I.T!==null?Zr():Bl()}function Rf(){if($t===0)if((De&536870912)===0||Le){var e=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),$t=e}else $t=536870912;return e=Qt.current,e!==null&&(e.flags|=32),$t}function Jt(e,n,l){(e===et&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Cl(e,0),gi(e,De,$t,!1)),Ai(e,l),((Be&2)===0||e!==et)&&(e===et&&((Be&2)===0&&(Fi|=l),dt===4&&gi(e,De,$t,!1)),_n(e))}function Mf(e,n,l){if((Be&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||_i(e,n),f=s?Sy(e,n):Kr(e,n,!0),h=s;do{if(f===0){bl&&!s&&gi(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!vy(l)){f=Kr(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;f=So;var C=E.current.memoizedState.isDehydrated;if(C&&(Cl(E,S).flags|=256),S=Kr(E,S,!1),S!==2){if(Gr&&!C){E.errorRecoveryDisabledLanes|=h,Fi|=h,f=4;break e}h=Yt,Yt=f,h!==null&&(Yt===null?Yt=h:Yt.push.apply(Yt,h))}f=S}if(h=!1,f!==2)continue}}if(f===1){Cl(e,0),gi(e,n,0,!0);break}e:{switch(s=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:gi(s,n,$t,!di);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=Na+300-_t(),10<f)){if(gi(s,n,$t,!di),Qi(s,0,!0)!==0)break e;Xn=n,s.timeoutHandle=sh(If.bind(null,s,l,Yt,Ma,Br,n,$t,Fi,xl,di,h,"Throttled",-0,0),f);break e}If(s,l,Yt,Ma,Br,n,$t,Fi,xl,di,h,null,-0,0)}}break}while(!0);_n(e)}function If(e,n,l,s,f,h,S,E,C,M,H,O,D,k){if(e.timeoutHandle=-1,O=n.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Ef(n,h,O);var me=(h&62914560)===h?Na-_t():(h&4194048)===h?Af-_t():0;if(me=n0(O,me),me!==null){Xn=h,e.cancelPendingCommit=me(qf.bind(null,e,n,h,l,s,f,S,E,C,H,O,null,D,k)),gi(e,h,S,!M);return}}qf(e,n,h,l,s,f,S,E,C)}function vy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],h=f.getSnapshot;f=f.value;try{if(!Xt(h(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gi(e,n,l,s){n&=~Vr,n&=~Fi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var h=31-Qe(f),S=1<<h;s[h]=-1,f&=~S}l!==0&&zo(e,l,n)}function Ia(){return(Be&6)===0?(xo(0),!1):!0}function Jr(){if(Ne!==null){if(Xe===0)var e=Ne.return;else e=Ne,Hn=Li=null,rr(e),ml=null,io=0,e=Ne;for(;e!==null;)rf(e.alternate,e),e=e.return;Ne=null}}function Cl(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,zy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Xn=0,Jr(),et=e,Ne=l=Ln(e.current,null),De=n,Xe=0,Wt=null,di=!1,bl=_i(e,n),Gr=!1,xl=$t=Vr=Fi=fi=dt=0,Yt=So=null,Br=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Qe(s),h=1<<f;n|=e[f],s&=~h}return Kn=n,Wo(),l}function Df(e,n){we=null,I.H=fo,n===hl||n===aa?(n=Kc(),Xe=3):n===Qs?(n=Kc(),Xe=4):Xe=n===Cr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Wt=n,Ne===null&&(dt=1,Sa(e,un(n,e.current)))}function kf(){var e=Qt.current;return e===null?!0:(De&4194048)===De?hn===null:(De&62914560)===De||(De&536870912)!==0?e===hn:!1}function Uf(){var e=I.H;return I.H=fo,e===null?fo:e}function Lf(){var e=I.A;return I.A=py,e}function Da(){dt=4,di||(De&4194048)!==De&&Qt.current!==null||(bl=!0),(fi&134217727)===0&&(Fi&134217727)===0||et===null||gi(et,De,$t,!1)}function Kr(e,n,l){var s=Be;Be|=2;var f=Uf(),h=Lf();(et!==e||De!==n)&&(Ma=null,Cl(e,n)),n=!1;var S=dt;e:do try{if(Xe!==0&&Ne!==null){var E=Ne,C=Wt;switch(Xe){case 8:Jr(),S=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(n=!0);var M=Xe;if(Xe=0,Wt=null,wl(e,E,C,M),l&&bl){S=0;break e}break;default:M=Xe,Xe=0,Wt=null,wl(e,E,C,M)}}Ty(),S=dt;break}catch(H){Df(e,H)}while(!0);return n&&e.shellSuspendCounter++,Hn=Li=null,Be=s,I.H=f,I.A=h,Ne===null&&(et=null,De=0,Wo()),S}function Ty(){for(;Ne!==null;)Pf(Ne)}function Sy(e,n){var l=Be;Be|=2;var s=Uf(),f=Lf();et!==e||De!==n?(Ma=null,Ra=_t()+500,Cl(e,n)):bl=_i(e,n);e:do try{if(Xe!==0&&Ne!==null){n=Ne;var h=Wt;t:switch(Xe){case 1:Xe=0,Wt=null,wl(e,n,h,1);break;case 2:case 9:if(Yc(h)){Xe=0,Wt=null,Hf(n);break}n=function(){Xe!==2&&Xe!==9||et!==e||(Xe=7),_n(e)},h.then(n,n);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Yc(h)?(Xe=0,Wt=null,Hf(n)):(Xe=0,Wt=null,wl(e,n,h,7));break;case 5:var S=null;switch(Ne.tag){case 26:S=Ne.memoizedState;case 5:case 27:var E=Ne;if(S?xh(S):E.stateNode.complete){Xe=0,Wt=null;var C=E.sibling;if(C!==null)Ne=C;else{var M=E.return;M!==null?(Ne=M,ka(M)):Ne=null}break t}}Xe=0,Wt=null,wl(e,n,h,5);break;case 6:Xe=0,Wt=null,wl(e,n,h,6);break;case 8:Jr(),dt=6;break e;default:throw Error(a(462))}}by();break}catch(H){Df(e,H)}while(!0);return Hn=Li=null,I.H=s,I.A=f,Be=l,Ne!==null?0:(et=null,De=0,Wo(),dt)}function by(){for(;Ne!==null&&!Xi();)Pf(Ne)}function Pf(e){var n=af(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,n===null?ka(e):Ne=n}function Hf(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=$d(l,n,n.pendingProps,n.type,void 0,De);break;case 11:n=$d(l,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:rr(n);default:rf(l,n),n=Ne=Uc(n,Kn),n=af(l,n,Kn)}e.memoizedProps=e.pendingProps,n===null?ka(e):Ne=n}function wl(e,n,l,s){Hn=Li=null,rr(n),ml=null,io=0;var f=n.return;try{if(uy(e,f,n,l,De)){dt=1,Sa(e,un(l,e.current)),Ne=null;return}}catch(h){if(f!==null)throw Ne=f,h;dt=1,Sa(e,un(l,e.current)),Ne=null;return}n.flags&32768?(Le||s===1?e=!0:bl||(De&536870912)!==0?e=!1:(di=e=!0,(s===2||s===9||s===3||s===6)&&(s=Qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),zf(n,e)):ka(n)}function ka(e){var n=e;do{if((n.flags&32768)!==0){zf(n,di);return}e=n.return;var l=fy(n.alternate,n,Kn);if(l!==null){Ne=l;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=e}while(n!==null);dt===0&&(dt=5)}function zf(e,n){do{var l=hy(e.alternate,e);if(l!==null){l.flags&=32767,Ne=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=l}while(e!==null);dt=6,Ne=null}function qf(e,n,l,s,f,h,S,E,C){e.cancelPendingCommit=null;do Ua();while(xt!==0);if((Be&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Ls,hs(e,l,h,S,E,C),e===et&&(Ne=et=null,De=0),El=n,mi=e,Xn=l,Or=h,Fr=f,Nf=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wy(Fe,function(){return Ff(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=I.T,I.T=null,f=X.p,X.p=2,S=Be,Be|=4;try{my(e,n,l)}finally{Be=S,X.p=f,I.T=s}}xt=1,Gf(),Vf(),Bf()}}function Gf(){if(xt===1){xt=0;var e=mi,n=El,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var s=X.p;X.p=2;var f=Be;Be|=4;try{Sf(n,e);var h=ou,S=wc(e.containerInfo),E=h.focusedElem,C=h.selectionRange;if(S!==E&&E&&E.ownerDocument&&Cc(E.ownerDocument.documentElement,E)){if(C!==null&&Ms(E)){var M=C.start,H=C.end;if(H===void 0&&(H=M),"selectionStart"in E)E.selectionStart=M,E.selectionEnd=Math.min(H,E.value.length);else{var O=E.ownerDocument||document,D=O&&O.defaultView||window;if(D.getSelection){var k=D.getSelection(),me=E.textContent.length,Se=Math.min(C.start,me),$e=C.end===void 0?Se:Math.min(C.end,me);!k.extend&&Se>$e&&(S=$e,$e=Se,Se=S);var N=Ec(E,Se),A=Ec(E,$e);if(N&&A&&(k.rangeCount!==1||k.anchorNode!==N.node||k.anchorOffset!==N.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var R=O.createRange();R.setStart(N.node,N.offset),k.removeAllRanges(),Se>$e?(k.addRange(R),k.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),k.addRange(R))}}}}for(O=[],k=E;k=k.parentNode;)k.nodeType===1&&O.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<O.length;E++){var q=O[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ja=!!lu,ou=lu=null}finally{Be=f,X.p=s,I.T=l}}e.current=n,xt=2}}function Vf(){if(xt===2){xt=0;var e=mi,n=El,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var s=X.p;X.p=2;var f=Be;Be|=4;try{gf(e,n.alternate,n)}finally{Be=f,X.p=s,I.T=l}}xt=3}}function Bf(){if(xt===4||xt===3){xt=0,ql();var e=mi,n=El,l=Xn,s=Nf;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?xt=5:(xt=0,El=mi=null,Of(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(hi=null),Ni(l),n=n.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(ut,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=I.T,f=X.p,X.p=2,I.T=null;try{for(var h=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];h(E.value,{componentStack:E.stack})}}finally{I.T=n,X.p=f}}(Xn&3)!==0&&Ua(),_n(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Yr?bo++:(bo=0,Yr=e):bo=0,xo(0)}}function Of(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,to(n)))}function Ua(){return Gf(),Vf(),Bf(),Ff()}function Ff(){if(xt!==5)return!1;var e=mi,n=Or;Or=0;var l=Ni(Xn),s=I.T,f=X.p;try{X.p=32>l?32:l,I.T=null,l=Fr,Fr=null;var h=mi,S=Xn;if(xt=0,El=mi=null,Xn=0,(Be&6)!==0)throw Error(a(331));var E=Be;if(Be|=4,wf(h.current),xf(h,h.current,S,l),Be=E,xo(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(ut,h)}catch{}return!0}finally{X.p=f,I.T=s,Of(e,n)}}function Yf(e,n,l){n=un(l,n),n=Er(e.stateNode,n,2),e=si(e,n,2),e!==null&&(Ai(e,2),_n(e))}function je(e,n,l){if(e.tag===3)Yf(e,e,l);else for(;n!==null;){if(n.tag===3){Yf(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hi===null||!hi.has(s))){e=un(l,e),l=Yd(2),s=si(n,l,2),s!==null&&(Jd(l,s,n,e),Ai(s,2),_n(s));break}}n=n.return}}function Xr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new yy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(l)||(Gr=!0,f.add(l),e=xy.bind(null,e,n,l),n.then(e,e))}function xy(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,et===e&&(De&l)===l&&(dt===4||dt===3&&(De&62914560)===De&&300>_t()-Na?(Be&2)===0&&Cl(e,0):Vr|=l,xl===De&&(xl=0)),_n(e)}function Jf(e,n){n===0&&(n=Ho()),e=Di(e,n),e!==null&&(Ai(e,n),_n(e))}function Ey(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Jf(e,l)}function Cy(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Jf(e,l)}function wy(e,n){return Et(e,n)}var La=null,_l=null,jr=!1,Pa=!1,Qr=!1,pi=0;function _n(e){e!==_l&&e.next===null&&(_l===null?La=_l=e:_l=_l.next=e),Pa=!0,jr||(jr=!0,Ay())}function xo(e,n){if(!Qr&&Pa){Qr=!0;do for(var l=!1,s=La;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var h=0;else{var S=s.suspendedLanes,E=s.pingedLanes;h=(1<<31-Qe(42|e)+1)-1,h&=f&~(S&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Qf(s,h))}else h=De,h=Qi(s,s===et?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||_i(s,h)||(l=!0,Qf(s,h));s=s.next}while(l);Qr=!1}}function _y(){Kf()}function Kf(){Pa=jr=!1;var e=0;pi!==0&&Hy()&&(e=pi);for(var n=_t(),l=null,s=La;s!==null;){var f=s.next,h=Xf(s,n);h===0?(s.next=null,l===null?La=f:l.next=f,f===null&&(_l=l)):(l=s,(e!==0||(h&3)!==0)&&(Pa=!0)),s=f}xt!==0&&xt!==5||xo(e),pi!==0&&(pi=0)}function Xf(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var S=31-Qe(h),E=1<<S,C=f[S];C===-1?((E&l)===0||(E&s)!==0)&&(f[S]=fs(E,n)):C<=n&&(e.expiredLanes|=E),h&=~E}if(n=et,l=De,l=Qi(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Nn(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||_i(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Nn(s),Ni(l)){case 2:case 8:l=He;break;case 32:l=Fe;break;case 268435456:l=Ye;break;default:l=Fe}return s=jf.bind(null,e),l=Et(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Nn(s),e.callbackPriority=2,e.callbackNode=null,2}function jf(e,n){if(xt!==0&&xt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ua()&&e.callbackNode!==l)return null;var s=De;return s=Qi(e,e===et?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Mf(e,s,n),Xf(e,_t()),e.callbackNode!=null&&e.callbackNode===l?jf.bind(null,e):null)}function Qf(e,n){if(Ua())return null;Mf(e,n,!0)}function Ay(){qy(function(){(Be&6)!==0?Et(he,_y):Kf()})}function Zr(){if(pi===0){var e=dl;e===0&&(e=At,At<<=1,(At&261888)===0&&(At=256)),pi=e}return pi}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fo(""+e)}function Wf(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Ny(e,n,l,s,f){if(n==="submit"&&l&&l.stateNode===f){var h=Zf((f[Dt]||null).action),S=s.submitter;S&&(n=(n=S[Dt]||null)?Zf(n.formAction):S.getAttribute("formAction"),n!==null&&(h=n,S=null));var E=new Xo("action","action",null,s,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(pi!==0){var C=S?Wf(f,S):new FormData(f);yr(l,{pending:!0,data:C,method:f.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=S?Wf(f,S):new FormData(f),yr(l,{pending:!0,data:C,method:f.method,action:h},h,C))},currentTarget:f}]})}}for(var Wr=0;Wr<Us.length;Wr++){var $r=Us[Wr],Ry=$r.toLowerCase(),My=$r[0].toUpperCase()+$r.slice(1);vn(Ry,"on"+My)}vn(Nc,"onAnimationEnd"),vn(Rc,"onAnimationIteration"),vn(Mc,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Jp,"onTransitionRun"),vn(Kp,"onTransitionStart"),vn(Xp,"onTransitionCancel"),vn(Ic,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function $f(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var S=s.length-1;0<=S;S--){var E=s[S],C=E.instance,M=E.currentTarget;if(E=E.listener,C!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=M;try{h(f)}catch(H){Zo(H)}f.currentTarget=null,h=C}else for(S=0;S<s.length;S++){if(E=s[S],C=E.instance,M=E.currentTarget,E=E.listener,C!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=M;try{h(f)}catch(H){Zo(H)}f.currentTarget=null,h=C}}}}function Re(e,n){var l=n[K];l===void 0&&(l=n[K]=new Set);var s=e+"__bubble";l.has(s)||(eh(n,e,2,!1),l.add(s))}function eu(e,n,l){var s=0;n&&(s|=4),eh(l,e,s,n)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[Ha]){e[Ha]=!0,on.forEach(function(l){l!=="selectionchange"&&(Iy.has(l)||eu(l,!1,e),eu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ha]||(n[Ha]=!0,eu("selectionchange",!1,n))}}function eh(e,n,l,s){switch(Rh(n)){case 2:var f=o0;break;case 8:f=a0;break;default:f=pu}l=f.bind(null,n,l,e),f=void 0,!bs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function nu(e,n,l,s,f){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===f)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;E!==null;){if(S=de(E),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=h=S;continue e}E=E.parentNode}}s=s.return}lc(function(){var M=h,H=Ts(l),O=[];e:{var D=Dc.get(e);if(D!==void 0){var k=Xo,me=e;switch(e){case"keypress":if(Jo(l)===0)break e;case"keydown":case"keyup":k=Cp;break;case"focusin":me="focus",k=ws;break;case"focusout":me="blur",k=ws;break;case"beforeblur":case"afterblur":k=ws;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ap;break;case Nc:case Rc:case Mc:k=gp;break;case Ic:k=Rp;break;case"scroll":case"scrollend":k=cp;break;case"wheel":k=Ip;break;case"copy":case"cut":case"paste":k=yp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=uc;break;case"toggle":case"beforetoggle":k=kp}var Se=(n&4)!==0,$e=!Se&&(e==="scroll"||e==="scrollend"),N=Se?D!==null?D+"Capture":null:D;Se=[];for(var A=M,R;A!==null;){var q=A;if(R=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||R===null||N===null||(q=Fl(A,N),q!=null&&Se.push(Co(A,q,R))),$e)break;A=A.return}0<Se.length&&(D=new k(D,me,null,l,H),O.push({event:D,listeners:Se}))}}if((n&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",D&&l!==vs&&(me=l.relatedTarget||l.fromElement)&&(de(me)||me[Y]))break e;if((k||D)&&(D=H.window===H?H:(D=H.ownerDocument)?D.defaultView||D.parentWindow:window,k?(me=l.relatedTarget||l.toElement,k=M,me=me?de(me):null,me!==null&&($e=d(me),Se=me.tag,me!==$e||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(k=null,me=M),k!==me)){if(Se=sc,q="onMouseLeave",N="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(Se=uc,q="onPointerLeave",N="onPointerEnter",A="pointer"),$e=k==null?D:Pe(k),R=me==null?D:Pe(me),D=new Se(q,A+"leave",k,l,H),D.target=$e,D.relatedTarget=R,q=null,de(H)===M&&(Se=new Se(N,A+"enter",me,l,H),Se.target=R,Se.relatedTarget=$e,q=Se),$e=q,k&&me)t:{for(Se=Dy,N=k,A=me,R=0,q=N;q;q=Se(q))R++;q=0;for(var ve=A;ve;ve=Se(ve))q++;for(;0<R-q;)N=Se(N),R--;for(;0<q-R;)A=Se(A),q--;for(;R--;){if(N===A||A!==null&&N===A.alternate){Se=N;break t}N=Se(N),A=Se(A)}Se=null}else Se=null;k!==null&&th(O,D,k,Se,!1),me!==null&&$e!==null&&th(O,$e,me,Se,!0)}}e:{if(D=M?Pe(M):window,k=D.nodeName&&D.nodeName.toLowerCase(),k==="select"||k==="input"&&D.type==="file")var qe=yc;else if(gc(D))if(vc)qe=Op;else{qe=Vp;var ge=Gp}else k=D.nodeName,!k||k.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&ys(M.elementType)&&(qe=yc):qe=Bp;if(qe&&(qe=qe(e,M))){pc(O,qe,l,H);break e}ge&&ge(e,D,M),e==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&ps(D,"number",D.value)}switch(ge=M?Pe(M):window,e){case"focusin":(gc(ge)||ge.contentEditable==="true")&&(il=ge,Is=M,Wl=null);break;case"focusout":Wl=Is=il=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,_c(O,l,H);break;case"selectionchange":if(Yp)break;case"keydown":case"keyup":_c(O,l,H)}var _e;if(As)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else nl?hc(e,l)&&(ke="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ke="onCompositionStart");ke&&(cc&&l.locale!=="ko"&&(nl||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&nl&&(_e=oc()):(ei=H,xs="value"in ei?ei.value:ei.textContent,nl=!0)),ge=za(M,ke),0<ge.length&&(ke=new rc(ke,e,null,l,H),O.push({event:ke,listeners:ge}),_e?ke.data=_e:(_e=mc(l),_e!==null&&(ke.data=_e)))),(_e=Lp?Pp(e,l):Hp(e,l))&&(ke=za(M,"onBeforeInput"),0<ke.length&&(ge=new rc("onBeforeInput","beforeinput",null,l,H),O.push({event:ge,listeners:ke}),ge.data=_e)),Ny(O,e,M,l,H)}$f(O,n)})}function Co(e,n,l){return{instance:e,listener:n,currentTarget:l}}function za(e,n){for(var l=n+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Fl(e,l),f!=null&&s.unshift(Co(e,f,h)),f=Fl(e,n),f!=null&&s.push(Co(e,f,h))),e.tag===3)return s;e=e.return}return[]}function Dy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function th(e,n,l,s,f){for(var h=n._reactName,S=[];l!==null&&l!==s;){var E=l,C=E.alternate,M=E.stateNode;if(E=E.tag,C!==null&&C===s)break;E!==5&&E!==26&&E!==27||M===null||(C=M,f?(M=Fl(l,h),M!=null&&S.unshift(Co(l,M,C))):f||(M=Fl(l,h),M!=null&&S.push(Co(l,M,C)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var ky=/\r\n?/g,Uy=/\u0000|\uFFFD/g;function nh(e){return(typeof e=="string"?e:""+e).replace(ky,`
`).replace(Uy,"")}function ih(e,n){return n=nh(n),nh(e)===n}function We(e,n,l,s,f,h){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||$i(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&$i(e,""+s);break;case"className":Bo(e,"class",s);break;case"tabIndex":Bo(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Bo(e,l,s);break;case"style":nc(e,s,h);break;case"data":if(n!=="object"){Bo(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Fo(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&We(e,n,"name",f.name,f,null),We(e,n,"formEncType",f.formEncType,f,null),We(e,n,"formMethod",f.formMethod,f,null),We(e,n,"formTarget",f.formTarget,f,null)):(We(e,n,"encType",f.encType,f,null),We(e,n,"method",f.method,f,null),We(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Fo(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=kn);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Fo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Vo(e,"popover",s);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Vo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=rp.get(l)||l,Vo(e,l,s))}}function iu(e,n,l,s,f,h){switch(l){case"style":nc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?$i(e,s):(typeof s=="number"||typeof s=="bigint")&&$i(e,""+s);break;case"onScroll":s!=null&&Re("scroll",e);break;case"onScrollEnd":s!=null&&Re("scrollend",e);break;case"onClick":s!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!In.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),h=e[Dt]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof s=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Vo(e,l,s)}}}function It(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var s=!1,f=!1,h;for(h in l)if(l.hasOwnProperty(h)){var S=l[h];if(S!=null)switch(h){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(e,n,h,S,l,null)}}f&&We(e,n,"srcSet",l.srcSet,l,null),s&&We(e,n,"src",l.src,l,null);return;case"input":Re("invalid",e);var E=h=S=f=null,C=null,M=null;for(s in l)if(l.hasOwnProperty(s)){var H=l[s];if(H!=null)switch(s){case"name":f=H;break;case"type":S=H;break;case"checked":C=H;break;case"defaultChecked":M=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:We(e,n,s,H,l,null)}}Wu(e,h,E,C,M,S,f,!1);return;case"select":Re("invalid",e),s=S=h=null;for(f in l)if(l.hasOwnProperty(f)&&(E=l[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:We(e,n,f,E,l,null)}n=h,l=S,e.multiple=!!s,n!=null?Wi(e,!!s,n,!1):l!=null&&Wi(e,!!s,l,!0);return;case"textarea":Re("invalid",e),h=f=s=null;for(S in l)if(l.hasOwnProperty(S)&&(E=l[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:We(e,n,S,E,l,null)}ec(e,s,f,h);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:We(e,n,C,s,l,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(s=0;s<Eo.length;s++)Re(Eo[s],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in l)if(l.hasOwnProperty(M)&&(s=l[M],s!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:We(e,n,M,s,l,null)}return;default:if(ys(n)){for(H in l)l.hasOwnProperty(H)&&(s=l[H],s!==void 0&&iu(e,n,H,s,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(s=l[E],s!=null&&We(e,n,E,s,l,null))}function Ly(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,S=null,E=null,C=null,M=null,H=null;for(k in l){var O=l[k];if(l.hasOwnProperty(k)&&O!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":C=O;default:s.hasOwnProperty(k)||We(e,n,k,null,s,O)}}for(var D in s){var k=s[D];if(O=l[D],s.hasOwnProperty(D)&&(k!=null||O!=null))switch(D){case"type":h=k;break;case"name":f=k;break;case"checked":M=k;break;case"defaultChecked":H=k;break;case"value":S=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==O&&We(e,n,D,k,s,O)}}gs(e,S,E,C,M,H,h,f);return;case"select":k=S=E=D=null;for(h in l)if(C=l[h],l.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":k=C;default:s.hasOwnProperty(h)||We(e,n,h,null,s,C)}for(f in s)if(h=s[f],C=l[f],s.hasOwnProperty(f)&&(h!=null||C!=null))switch(f){case"value":D=h;break;case"defaultValue":E=h;break;case"multiple":S=h;default:h!==C&&We(e,n,f,h,s,C)}n=E,l=S,s=k,D!=null?Wi(e,!!l,D,!1):!!s!=!!l&&(n!=null?Wi(e,!!l,n,!0):Wi(e,!!l,l?[]:"",!1));return;case"textarea":k=D=null;for(E in l)if(f=l[E],l.hasOwnProperty(E)&&f!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:We(e,n,E,null,s,f)}for(S in s)if(f=s[S],h=l[S],s.hasOwnProperty(S)&&(f!=null||h!=null))switch(S){case"value":D=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&We(e,n,S,f,s,h)}$u(e,D,k);return;case"option":for(var me in l)if(D=l[me],l.hasOwnProperty(me)&&D!=null&&!s.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:We(e,n,me,null,s,D)}for(C in s)if(D=s[C],k=l[C],s.hasOwnProperty(C)&&D!==k&&(D!=null||k!=null))switch(C){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:We(e,n,C,D,s,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)D=l[Se],l.hasOwnProperty(Se)&&D!=null&&!s.hasOwnProperty(Se)&&We(e,n,Se,null,s,D);for(M in s)if(D=s[M],k=l[M],s.hasOwnProperty(M)&&D!==k&&(D!=null||k!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:We(e,n,M,D,s,k)}return;default:if(ys(n)){for(var $e in l)D=l[$e],l.hasOwnProperty($e)&&D!==void 0&&!s.hasOwnProperty($e)&&iu(e,n,$e,void 0,s,D);for(H in s)D=s[H],k=l[H],!s.hasOwnProperty(H)||D===k||D===void 0&&k===void 0||iu(e,n,H,D,s,k);return}}for(var N in l)D=l[N],l.hasOwnProperty(N)&&D!=null&&!s.hasOwnProperty(N)&&We(e,n,N,null,s,D);for(O in s)D=s[O],k=l[O],!s.hasOwnProperty(O)||D===k||D==null&&k==null||We(e,n,O,D,s,k)}function lh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],h=f.transferSize,S=f.initiatorType,E=f.duration;if(h&&E&&lh(S)){for(S=0,E=f.responseEnd,s+=1;s<l.length;s++){var C=l[s],M=C.startTime;if(M>E)break;var H=C.transferSize,O=C.initiatorType;H&&lh(O)&&(C=C.responseEnd,S+=H*(C<E?1:(E-M)/(C-M)))}if(--s,n+=8*(h+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lu=null,ou=null;function qa(e){return e.nodeType===9?e:e.ownerDocument}function oh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ah(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function au(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var su=null;function Hy(){var e=window.event;return e&&e.type==="popstate"?e===su?!1:(su=e,!0):(su=null,!1)}var sh=typeof setTimeout=="function"?setTimeout:void 0,zy=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,qy=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(e){return rh.resolve(null).then(e).catch(Gy)}:sh;function Gy(e){setTimeout(function(){throw e})}function yi(e){return e==="head"}function uh(e,n){var l=n,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),Ml(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")wo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,wo(l);for(var h=l.firstChild;h;){var S=h.nextSibling,E=h.nodeName;h[ce]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=S}}else l==="body"&&wo(e.ownerDocument.body);l=f}while(l);Ml(n)}function ch(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function ru(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ru(l),Ce(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Vy(e,n,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ce])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=mn(e.nextSibling),e===null)break}return null}function By(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=mn(e.nextSibling),e===null))return null;return e}function dh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=mn(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Oy(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var du=null;function fh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return mn(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function hh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function mh(e,n,l){switch(n=qa(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function wo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ce(e)}var gn=new Map,gh=new Set;function Ga(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=X.d;X.d={f:Fy,r:Yy,D:Jy,C:Ky,L:Xy,m:jy,X:Zy,S:Qy,M:Wy};function Fy(){var e=jn.f(),n=Ia();return e||n}function Yy(e){var n=xe(e);n!==null&&n.tag===5&&n.type==="form"?Id(n):jn.r(e)}var Al=typeof document>"u"?null:document;function ph(e,n,l){var s=Al;if(s&&typeof n=="string"&&n){var f=sn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),gh.has(f)||(gh.add(f),e={rel:e,crossOrigin:l,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),It(n,"link",e),Ue(n),s.head.appendChild(n)))}}function Jy(e){jn.D(e),ph("dns-prefetch",e,null)}function Ky(e,n){jn.C(e,n),ph("preconnect",e,n)}function Xy(e,n,l){jn.L(e,n,l);var s=Al;if(s&&e&&n){var f='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+sn(l.imageSizes)+'"]')):f+='[href="'+sn(e)+'"]';var h=f;switch(n){case"style":h=Nl(e);break;case"script":h=Rl(e)}gn.has(h)||(e=b({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),gn.set(h,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(_o(h))||n==="script"&&s.querySelector(Ao(h))||(n=s.createElement("link"),It(n,"link",e),Ue(n),s.head.appendChild(n)))}}function jy(e,n){jn.m(e,n);var l=Al;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+sn(s)+'"][href="'+sn(e)+'"]',h=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Rl(e)}if(!gn.has(h)&&(e=b({rel:"modulepreload",href:e},n),gn.set(h,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ao(h)))return}s=l.createElement("link"),It(s,"link",e),Ue(s),l.head.appendChild(s)}}}function Qy(e,n,l){jn.S(e,n,l);var s=Al;if(s&&e){var f=Oe(s).hoistableStyles,h=Nl(e);n=n||"default";var S=f.get(h);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(_o(h)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},l),(l=gn.get(h))&&fu(e,l);var C=S=s.createElement("link");Ue(C),It(C,"link",e),C._p=new Promise(function(M,H){C.onload=M,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Va(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:E},f.set(h,S)}}}function Zy(e,n){jn.X(e,n);var l=Al;if(l&&e){var s=Oe(l).hoistableScripts,f=Rl(e),h=s.get(f);h||(h=l.querySelector(Ao(f)),h||(e=b({src:e,async:!0},n),(n=gn.get(f))&&hu(e,n),h=l.createElement("script"),Ue(h),It(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function Wy(e,n){jn.M(e,n);var l=Al;if(l&&e){var s=Oe(l).hoistableScripts,f=Rl(e),h=s.get(f);h||(h=l.querySelector(Ao(f)),h||(e=b({src:e,async:!0,type:"module"},n),(n=gn.get(f))&&hu(e,n),h=l.createElement("script"),Ue(h),It(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function yh(e,n,l,s){var f=(f=be.current)?Ga(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Nl(l.href),l=Oe(f).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Nl(l.href);var h=Oe(f).hoistableStyles,S=h.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,S),(h=f.querySelector(_o(e)))&&!h._p&&(S.instance=h,S.state.loading=5),gn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gn.set(e,l),h||$y(f,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rl(l),l=Oe(f).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Nl(e){return'href="'+sn(e)+'"'}function _o(e){return'link[rel="stylesheet"]['+e+"]"}function vh(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function $y(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),It(n,"link",l),Ue(n),e.head.appendChild(n))}function Rl(e){return'[src="'+sn(e)+'"]'}function Ao(e){return"script[async]"+e}function Th(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+sn(l.href)+'"]');if(s)return n.instance=s,Ue(s),s;var f=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ue(s),It(s,"style",f),Va(s,l.precedence,e),n.instance=s;case"stylesheet":f=Nl(l.href);var h=e.querySelector(_o(f));if(h)return n.state.loading|=4,n.instance=h,Ue(h),h;s=vh(l),(f=gn.get(f))&&fu(s,f),h=(e.ownerDocument||e).createElement("link"),Ue(h);var S=h;return S._p=new Promise(function(E,C){S.onload=E,S.onerror=C}),It(h,"link",s),n.state.loading|=4,Va(h,l.precedence,e),n.instance=h;case"script":return h=Rl(l.src),(f=e.querySelector(Ao(h)))?(n.instance=f,Ue(f),f):(s=l,(f=gn.get(h))&&(s=b({},l),hu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ue(f),It(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Va(s,l.precedence,e));return n.instance}function Va(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,h=f,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===n)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ba=null;function Sh(e,n,l){if(Ba===null){var s=new Map,f=Ba=new Map;f.set(l,s)}else f=Ba,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var h=l[f];if(!(h[ce]||h[bt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var S=h.getAttribute(n)||"";S=e+S;var E=s.get(S);E?E.push(h):s.set(S,[h])}}return s}function bh(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function e0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function t0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=Nl(s.href),h=n.querySelector(_o(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Oa.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,Ue(h);return}h=n.ownerDocument||n,s=vh(s),(f=gn.get(f))&&fu(s,f),h=h.createElement("link"),Ue(h);var S=h;S._p=new Promise(function(E,C){S.onload=E,S.onerror=C}),It(h,"link",s),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Oa.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var mu=0;function n0(e,n){return e.stylesheets&&e.count===0&&Ya(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ya(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&mu===0&&(mu=62500*Py());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ya(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>mu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Oa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ya(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fa=null;function Ya(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fa=new Map,n.forEach(i0,e),Fa=null,Oa.call(e))}function i0(e,n){if(!(n.state.loading&4)){var l=Fa.get(e);if(l)var s=l.get(null);else{l=new Map,Fa.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var S=f[h];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}f=n.instance,S=f.getAttribute("data-precedence"),h=l.get(S)||s,h===s&&l.set(null,f),l.set(S,f),this.count++,s=Oa.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var No={$$typeof:J,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function l0(e,n,l,s,f,h,S,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.hiddenUpdates=Gl(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Eh(e,n,l,s,f,h,S,E,C,M,H,O){return e=new l0(e,n,l,S,C,M,H,O,E),n=1,h===!0&&(n|=24),h=jt(3,null,null,n),e.current=h,h.stateNode=e,n=Ks(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:l,cache:n},Zs(h),e}function Ch(e){return e?(e=al,e):al}function wh(e,n,l,s,f,h){f=Ch(f),s.context===null?s.context=f:s.pendingContext=f,s=ai(n),s.payload={element:l},h=h===void 0?null:h,h!==null&&(s.callback=h),l=si(e,s,n),l!==null&&(Jt(l,e,n),oo(l,e,n))}function _h(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function gu(e,n){_h(e,n),(e=e.alternate)&&_h(e,n)}function Ah(e){if(e.tag===13||e.tag===31){var n=Di(e,67108864);n!==null&&Jt(n,e,67108864),gu(e,67108864)}}function Nh(e){if(e.tag===13||e.tag===31){var n=en();n=Vl(n);var l=Di(e,n);l!==null&&Jt(l,e,n),gu(e,n)}}var Ja=!0;function o0(e,n,l,s){var f=I.T;I.T=null;var h=X.p;try{X.p=2,pu(e,n,l,s)}finally{X.p=h,I.T=f}}function a0(e,n,l,s){var f=I.T;I.T=null;var h=X.p;try{X.p=8,pu(e,n,l,s)}finally{X.p=h,I.T=f}}function pu(e,n,l,s){if(Ja){var f=yu(s);if(f===null)nu(e,n,s,Ka,l),Mh(e,s);else if(r0(f,e,n,l,s))s.stopPropagation();else if(Mh(e,s),n&4&&-1<s0.indexOf(e)){for(;f!==null;){var h=xe(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var S=Mn(h.pendingLanes);if(S!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var C=1<<31-Qe(S);E.entanglements[1]|=C,S&=~C}_n(h),(Be&6)===0&&(Ra=_t()+500,xo(0))}}break;case 31:case 13:E=Di(h,2),E!==null&&Jt(E,h,2),Ia(),gu(h,2)}if(h=yu(s),h===null&&nu(e,n,s,Ka,l),h===f)break;f=h}f!==null&&s.stopPropagation()}else nu(e,n,s,null,l)}}function yu(e){return e=Ts(e),vu(e)}var Ka=null;function vu(e){if(Ka=null,e=de(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=m(n),e!==null)return e;e=null}else if(l===31){if(e=p(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ka=e,null}function Rh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ji()){case he:return 2;case He:return 8;case Fe:case st:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var Tu=!1,vi=null,Ti=null,Si=null,Ro=new Map,Mo=new Map,bi=[],s0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mh(e,n){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(n.pointerId)}}function Io(e,n,l,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},n!==null&&(n=xe(n),n!==null&&Ah(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function r0(e,n,l,s,f){switch(n){case"focusin":return vi=Io(vi,e,n,l,s,f),!0;case"dragenter":return Ti=Io(Ti,e,n,l,s,f),!0;case"mouseover":return Si=Io(Si,e,n,l,s,f),!0;case"pointerover":var h=f.pointerId;return Ro.set(h,Io(Ro.get(h)||null,e,n,l,s,f)),!0;case"gotpointercapture":return h=f.pointerId,Mo.set(h,Io(Mo.get(h)||null,e,n,l,s,f)),!0}return!1}function Ih(e){var n=de(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=m(l),n!==null){e.blockedOn=n,Ol(e.priority,function(){Nh(l)});return}}else if(n===31){if(n=p(l),n!==null){e.blockedOn=n,Ol(e.priority,function(){Nh(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=yu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);vs=s,l.target.dispatchEvent(s),vs=null}else return n=xe(l),n!==null&&Ah(n),e.blockedOn=l,!1;n.shift()}return!0}function Dh(e,n,l){Xa(e)&&l.delete(n)}function u0(){Tu=!1,vi!==null&&Xa(vi)&&(vi=null),Ti!==null&&Xa(Ti)&&(Ti=null),Si!==null&&Xa(Si)&&(Si=null),Ro.forEach(Dh),Mo.forEach(Dh)}function ja(e,n){e.blockedOn===n&&(e.blockedOn=null,Tu||(Tu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,u0)))}var Qa=null;function kh(e){Qa!==e&&(Qa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qa===e&&(Qa=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(vu(s||l)===null)continue;break}var h=xe(l);h!==null&&(e.splice(n,3),n-=3,yr(h,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function Ml(e){function n(C){return ja(C,e)}vi!==null&&ja(vi,e),Ti!==null&&ja(Ti,e),Si!==null&&ja(Si,e),Ro.forEach(n),Mo.forEach(n);for(var l=0;l<bi.length;l++){var s=bi[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<bi.length&&(l=bi[0],l.blockedOn===null);)Ih(l),l.blockedOn===null&&bi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],h=l[s+1],S=f[Dt]||null;if(typeof h=="function")S||kh(l);else if(S){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,S=h[Dt]||null)E=S.formAction;else if(vu(f)!==null)continue}else E=S.action;typeof E=="function"?l[s+1]=E:(l.splice(s,3),s-=3),kh(l)}}}function Uh(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Su(e){this._internalRoot=e}Za.prototype.render=Su.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=en();wh(l,s,e,n,null,null)},Za.prototype.unmount=Su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;wh(e.current,2,null,e,null,null),Ia(),n[Y]=null}};function Za(e){this._internalRoot=e}Za.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bl();e={blockedOn:null,target:e,priority:n};for(var l=0;l<bi.length&&n!==0&&n<bi[l].priority;l++);bi.splice(l,0,e),l===0&&Ih(e)}};var Lh=t.version;if(Lh!=="19.2.0")throw Error(a(527,Lh,"19.2.0"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var c0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{ut=Wa.inject(c0),Je=Wa}catch{}}return ko.createRoot=function(e,n){if(!u(e))throw Error(a(299));var l=!1,s="",f=Vd,h=Bd,S=Od;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Eh(e,1,!1,null,null,l,s,null,f,h,S,Uh),e[Y]=n.current,tu(e),new Su(n)},ko.hydrateRoot=function(e,n,l){if(!u(e))throw Error(a(299));var s=!1,f="",h=Vd,S=Bd,E=Od,C=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=Eh(e,1,!0,n,l??null,s,f,C,h,S,E,Uh),n.context=Ch(null),l=n.current,s=en(),s=Vl(s),f=ai(s),f.callback=null,si(l,f,s),l=s,n.current.lanes=l,Ai(n,l),_n(n),e[Y]=n.current,tu(e),new Za(n)},ko.version="19.2.0",ko}var Yh;function b0(){if(Yh)return Eu.exports;Yh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Eu.exports=S0(),Eu.exports}var x0=b0();const E0=wg(x0),_g=({forceFull:i=!1})=>T.jsxs("div",{className:"flex items-center",title:"PHOTOBOOKVIETNAM Album Builder",children:[i&&T.jsxs("span",{className:"inline text-3xl",style:{fontFamily:"'Fjalla One', sans-serif",letterSpacing:"-0.075em",textShadow:"1px 1px 3px rgba(0, 0, 0, 0.5)"},children:[T.jsx("span",{className:"text-black",children:"PHOTOBOOK"}),T.jsx("span",{className:"text-cyan-200",children:"VIETNAM"})]}),!i&&T.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",style:{fontFamily:"'Fjalla One', sans-serif",textShadow:"1px 1px 3px rgba(0, 0, 0, 0.5)"},children:[T.jsx("span",{className:"text-black text-base",style:{letterSpacing:"-0.05em"},children:"PHOTOBOOK"}),T.jsx("span",{className:"text-cyan-200 text-base",style:{letterSpacing:"-0.05em",marginTop:"-0.25rem"},children:"VIETNAM"})]})]}),Nu=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),Ag=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),C0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 4.5h13.5M12 4.5v15m-3.75 0h7.5"})}),w0=({className:i="w-6 h-6"})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h4.5a3 3 0 013 3v4.5a3 3 0 01-3 3h-4.5V6.75z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 12h4.5"})]}),_0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l-4.5 15"})}),A0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),N0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-12.75 5.25h9"})}),R0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),M0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 8.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 018.25 20.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),I0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),D0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),k0=({className:i="w-6 h-6"})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Jh=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})}),Kh=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})}),U0=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),Xh=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l6-6m0 0l-6-6m6 6H9a6 6 0 000 12h3"})}),Gt=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),L0=({className:i="w-5 h-5"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),P0=({className:i="w-3 h-3"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),H0=({className:i="w-5 h-5"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),z0=({className:i="w-6 h-6"})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5v6m3-3h-6",strokeWidth:2})]}),Yi=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),ns=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456L20.5 17.25l-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),qu=({className:i="w-4 h-4"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-11.667 0a8.25 8.25 0 0111.667 0l3.181 3.183m0 0V19.645m0-4.992a8.25 8.25 0 01-11.667 0M2.985 19.644l3.181-3.182m0 0l-3.181 3.182m0 0l3.181-3.182"})}),jh=({className:i="w-4 h-4"})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[T.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),T.jsx("path",{d:"M12 21a9 9 0 1 1 0 -18a9 8 0 0 1 9 8a4.5 4 0 0 1 -4.5 4h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),T.jsx("circle",{cx:"7.5",cy:"10.5",r:".5",fill:"currentColor"}),T.jsx("circle",{cx:"12",cy:"7.5",r:".5",fill:"currentColor"}),T.jsx("circle",{cx:"16.5",cy:"10.5",r:".5",fill:"currentColor"})]}),q0=({className:i="w-6 h-6"})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Au={en:{welcomeTitle:"Album Builder",welcomeSubtitle:"please choose album size to start",or:"or",loadExistingProject:"Load an Existing Project",albumSize:"Album size",pagesOverview:"Pages overview",totalPages:"TOTAL PAGES",totalImages:"TOTAL IMAGES",submitProject:"Submit Project",submitProjectMobile:"Submit",langEN:"English",langVN:"Ting Vit",toggleOverviewTitle:"Toggle Page Overview",changeLanguageTitle:"Settings",myProjects:"My Projects",settings:"Settings",language:"Language",aiResolution:"AI Resolution",addSpread:"Add Spread (2 Pages)",pagesLabel:"Pages {start}-{end}",dropPhotoHere:"Drop Photo Here",changeLayout:"Change Layout",addText:"Add Text",addOverlayImage:"Add Image Overlay",addSticker:"Add Sticker",dropImagesToUpload:"Drop images to upload",libraryEmptyTitle:"Your library is empty",libraryEmptySubtitle:"Drag & drop photos here, or use the 'Add Photos' button.",designForMe:"AUTO DESIGN",designForMeMobile:"DESIGN FOR ME",designRandom:"RANDOM DESIGN",clear:"CLEAR",addPhotos:"+ ADD PHOTOS",removeImageTitle:"Remove image",chooseLayout:"Choose a Layout",designForMeTitle:'"Design For Me" - Choose an Album Theme',designForMeSubtitle:"Select one layout to apply to all pages.",selectAlbumSize:"Select Album Size",chooseTextStyle:"Choose a Text Style",chooseSticker:"Choose a Sticker",chooseBackground:"Choose a Background",randomDesignTitle:"Configure Random Design",randomDesignSubtitle:"Select which layouts to include in the randomization.",designOptionsTitle:"Design Options",selectAll:"Select All",selectNone:"Deselect All",cancel:"Cancel",confirmRandomization:"Randomize with {count} Layouts",chooseEffect:"Choose an Effect",projectManagerTitle:"Project Manager",saveAsNewProject:"Save As New Project",projectNamePlaceholder:"Enter project name...",save:"Save",saving:"Saving...",load:"Load",delete:"Delete",noSavedProjects:"No saved projects yet.",confirmDelete:"Are you sure?",newProject:"New Project",confirmNewProject:"Are you sure you want to start a new project? Any unsaved changes will be lost.",currentProject:"Current Project",submissionTitle:"Submit Your Project",submissionFormTitle:"Your Order Details",submissionOrderDetailsMessage:"Please provide your contact information so we can process your order.",fullNameLabel:"Full Name",phoneLabel:"Mobile Phone",emailLabel:"Email (Optional)",addressLabel:"Shipping Address (Optional)",validationFullNameRequired:"Full name is required.",validationPhoneRequired:"Mobile phone is required.",submissionButton:"Submit Project to Production",submissionPreparing:"Generating print-ready files...",submissionUploading:"Uploading...",submissionSuccessTitle:"Project Submitted Successfully!",submissionSuccessMessage:"Your project has been sent to production. We will contact you shortly.",submissionErrorTitle:"Upload Failed",submissionErrorMessage:"An error occurred while submitting your project. Please check your internet connection and try again.",submissionErrorAutoSaveFailed:"Auto-save failed before submission. Please try saving manually from the Project Manager.",submissionErrorNoImages:"Cannot submit a project with no images. Please add photos to your library first.",submissionErrorNoPlacedImages:"Cannot submit a project with no photos placed in the album. Please drag your photos from the library onto the pages first.",submissionWaitMessage:"Please keep this window open. High-resolution rendering may take several minutes for large albums.",retry:"Retry",close:"Close",zoom:"Zoom:",rotateLeftTitle:"Rotate Left",rotateRightTitle:"Rotate Right",flipHorizontalTitle:"Flip Horizontal",flipVerticalTitle:"Flip Vertical",doubleClickToEdit:"Double click to edit photo",doubleTapToEdit:"Tap twice to edit photo",back:"Back",aiRetouch:"AI Retouch",skinRetouch:"Skin Retouch",blurBackground:"Blur Background",aiRetouching:"AI is retouching...",replaceBackground:"Replace Background",editPhoto:"Edit photo",downloadImage:"Download image",downloadError:"Could not download the image.",effects:"Effects",colorGrading:"Color Grading",filterNone:"None",filterVintage:"Vintage",filterLomo:"Lomo",filterClarendon:"Clarendon",filterGingham:"Gingham",filterMoon:"Moon",filterNashville:"Nashville",filterXpro2:"X-Pro II",filterWillow:"Willow",removeTextTitle:"Remove text",removeStickerTitle:"Remove sticker",rotateStickerTitle:"Rotate sticker",mobileDragHint:"Touch and hold to move the photo.",aiStoryTitle:"AI Generated Story",aiStoryGenerating:"Generating your story...",copied:"Copied!",copyToClipboard:"Copy to Clipboard"},vn:{welcomeTitle:"App Thit K Album",welcomeSubtitle:"Vui lng chn kch thc album",or:"hoc",loadExistingProject:"M mt d n c sn",albumSize:"Kch thc album",pagesOverview:"Xem tt c trang",totalPages:"S TRANG",totalImages:"TNG S NH",submitProject:"Hon tt & t hng",submitProjectMobile:"Gi in",langEN:"English",langVN:"Ting Vit",toggleOverviewTitle:"Chuyn i ch  xem tng quan",changeLanguageTitle:"Ci t",myProjects:"D n",settings:"Ci t",language:"Ngn ng",aiResolution:" phn gii AI",addSpread:"Thm trang i",pagesLabel:"Trang {start}-{end}",dropPhotoHere:"Th nh vo y",changeLayout:"Thay i b cc",addText:"Thm ch",addOverlayImage:"Thm nh ni",addSticker:"Thm nhn dn",dropImagesToUpload:"Th nh  ti ln",libraryEmptyTitle:"Th vin ca bn trng",libraryEmptySubtitle:"Ko v th nh vo y, hoc s dng nt 'Thm nh'.",designForMe:"Dn trang t ng",designForMeMobile:"Thit k nhanh",designRandom:"Dn trang ngu nhin",clear:"XA HT",addPhotos:"+ THM NH",removeImageTitle:"Xa nh",chooseLayout:"Chn mt b cc",designForMeTitle:"Chn 1 layout cho tt c trang",designForMeSubtitle:"Chn mt b cc  p dng cho tt c cc trang.",selectAlbumSize:"Chn kch thc Album",chooseTextStyle:"Chn mt kiu ch",chooseSticker:"Chn mt nhn dn",chooseBackground:"Chn mt nh nn",randomDesignTitle:"Cu hnh Thit k Ngu nhin",randomDesignSubtitle:"Chn cc b cc bn mun s dng  to ngu nhin.",designOptionsTitle:"Ty chn Thit k",selectAll:"Chn tt c",selectNone:"B chn tt c",cancel:"Hy",confirmRandomization:"To ngu nhin vi {count} b cc",chooseEffect:"Chn mt hiu ng",projectManagerTitle:"Qun l d n",saveAsNewProject:"Lu thnh d n mi",projectNamePlaceholder:"Nhp tn d n...",save:"Lu",saving:"ang lu...",load:"Ti",delete:"Xa",noSavedProjects:"Cha c d n no c lu.",confirmDelete:"Bn chc ch?",newProject:"D n mi",confirmNewProject:"Bn c chc chn mun bt u mt d n mi khng? Mi thay i cha c lu s b mt.",currentProject:"D n hin ti",submissionTitle:"Gi n hng ca bn",submissionFormTitle:"Thng tin n hng ca bn",submissionOrderDetailsMessage:"Vui lng cung cp thng tin lin h ca bn  chng ti c th x l n hng.",fullNameLabel:"H v Tn",phoneLabel:"S in Thoi",emailLabel:"Email (Khng bt buc)",addressLabel:"a ch giao hng (Khng bt buc)",validationFullNameRequired:"Vui lng nhp h v tn.",validationPhoneRequired:"Vui lng nhp s in thoi.",submissionButton:"Xc nhn t hng",submissionPreparing:"ang to cc file sn sng  in...",submissionUploading:"ang ti ln...",submissionSuccessTitle:"Gi n hng thnh cng!",submissionSuccessMessage:"Album ca bn  c gi i sn xut. Chng ti s lin h vi bn sm.",submissionErrorTitle:"Ti ln tht bi",submissionErrorMessage:" xy ra li khi gi d n ca bn. Vui lng kim tra kt ni internet v th li.",submissionErrorAutoSaveFailed:"T ng lu khng thnh cng trc khi gi. Vui lng th lu th cng t Trnh qun l d n.",submissionErrorNoImages:"Khng th gi d n khng c nh. Vui lng thm nh vo th vin trc.",submissionErrorNoPlacedImages:"Khng th gi d n khng c nh no c t trong album. Vui lng ko nh t th vin vo cc trang trc.",submissionWaitMessage:"Vui lng gi ca s ny m. Vic kt xut   phn gii cao c th mt vi pht i vi cc album ln.",retry:"Th li",close:"ng",zoom:"Thu phng:",rotateLeftTitle:"Xoay tri",rotateRightTitle:"Xoay phi",flipHorizontalTitle:"Lt ngang",flipVerticalTitle:"Lt dc",doubleClickToEdit:"Nhp p  sa nh",doubleTapToEdit:"Chm hai ln  sa nh",back:"Quay li",aiRetouch:"Chnh sa AI",skinRetouch:"Lm mn da",blurBackground:"Lm m nn",aiRetouching:"AI ang chnh sa...",replaceBackground:"Thay nn",editPhoto:"Sa nh",downloadImage:"Ti nh xung",downloadError:"Khng th ti nh xung.",effects:"Hiu ng",colorGrading:"Chnh mu",filterNone:"Gc",filterVintage:"C in",filterLomo:"Lomo",filterClarendon:"Clarendon",filterGingham:"Gingham",filterMoon:"Trng en",filterNashville:"Nashville",filterXpro2:"X-Pro II",filterWillow:"Willow",removeTextTitle:"Xa ch",removeStickerTitle:"Xa nhn dn",rotateStickerTitle:"Xoay nhn dn",mobileDragHint:"Chm v gi  di chuyn nh.",aiStoryTitle:"Cu chuyn do AI to",aiStoryGenerating:"ang to cu chuyn ca bn...",copied:" sao chp!",copyToClipboard:"Sao chp"}},Ng=j.createContext(void 0),ft=()=>{const i=j.useContext(Ng);if(!i)throw new Error("useI18n must be used within an I18nProvider");return i},G0=({children:i})=>{const[t,o]=j.useState("vn"),u={language:t,setLanguage:o,t:(d,m)=>{let y=(Au[t]||Au.en)[d]||Au.en[d]||d;return m&&Object.keys(m).forEach(g=>{const v=new RegExp(`\\{${g}\\}`,"g");y=y.replace(v,String(m[g]))}),y}};return T.jsx(Ng.Provider,{value:u,children:i})},V0=({totalPages:i,isOverviewMode:t,onSubmitProject:o,onToggleOverview:a,onDesignForMe:u,onDesignRandom:d,isDesignDisabled:m,onOpenProjectManager:p,isMobile:y,onOpenMobileDesignPicker:g,aiResolution:v,setAiResolution:b})=>{const[x,_]=j.useState(!1),[L,U]=j.useState(!1),ee=j.useRef(null),z=j.useRef(null),{language:G,setLanguage:J,t:F}=ft();return j.useEffect(()=>{const te=ne=>{ee.current&&!ee.current.contains(ne.target)&&_(!1),z.current&&!z.current.contains(ne.target)&&U(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]),T.jsxs("header",{className:"flex items-stretch shadow-sm border-b border-gray-300",children:[T.jsxs("div",{className:"bg-cyan-500 flex-shrink-0 flex items-center space-x-2 px-2 md:px-4 py-2",children:[T.jsxs("div",{className:"relative md:hidden",ref:z,children:[T.jsx("button",{onClick:()=>U(te=>!te),className:"p-2 rounded-lg text-black hover:bg-cyan-600/50","aria-label":"Open menu","aria-haspopup":"true","aria-expanded":L,children:T.jsx(q0,{className:"w-6 h-6"})}),L&&T.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-gray-700 rounded-md shadow-lg z-50 border border-gray-600 text-gray-200",role:"menu",children:T.jsxs("div",{className:"p-2 space-y-1",children:[T.jsxs("button",{onClick:()=>{p(),U(!1)},className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-600",role:"menuitem",children:[T.jsx(Nu,{className:"w-5 h-5 text-gray-300"}),T.jsx("span",{children:F("myProjects")})]}),T.jsxs("button",{onClick:()=>{d(),U(!1)},disabled:m,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",role:"menuitem",children:[T.jsx(qu,{className:"w-5 h-5 text-green-400"}),T.jsx("span",{children:F("designRandom")})]}),T.jsx("div",{className:"border-t border-gray-600 my-1 !mx-2"}),T.jsx("div",{className:"px-3 pt-2 pb-1 text-xs text-gray-400 font-semibold uppercase",children:F("settings")}),T.jsxs("div",{className:"px-3 py-1",children:[T.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:F("language")}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>{J("en"),U(!1)},className:`flex-1 py-1 rounded text-sm ${G==="en"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"EN"}),T.jsx("button",{onClick:()=>{J("vn"),U(!1)},className:`flex-1 py-1 rounded text-sm ${G==="vn"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"VN"})]})]}),T.jsxs("div",{className:"px-3 py-1 pb-3",children:[T.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:F("aiResolution")}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>{b("2K"),U(!1)},className:`flex-1 py-1 rounded text-sm ${v==="2K"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"2K"}),T.jsx("button",{onClick:()=>{b("4K"),U(!1)},className:`flex-1 py-1 rounded text-sm ${v==="4K"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:"4K"})]})]})]})})]}),T.jsx(_g,{})]}),T.jsxs("div",{className:"bg-gray-800 flex-grow flex items-center justify-between px-2 md:px-4 py-2",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsxs("button",{onClick:p,className:"hidden md:flex items-center space-x-2 px-4 py-2 rounded-lg bg-gray-700 text-gray-200 hover:bg-gray-600 transition-colors",title:F("myProjects"),children:[T.jsx(Nu,{className:"w-5 h-5"}),T.jsx("span",{className:"text-sm font-semibold",children:F("myProjects")})]}),T.jsx("div",{className:"h-6 border-l border-gray-600 hidden md:block"}),T.jsx("button",{onClick:y?g:u,disabled:m,className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-200 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold transition-colors",title:F(y?"designForMeMobile":"designForMe"),children:F(y?"designForMeMobile":"designForMe")}),T.jsx("button",{onClick:d,disabled:m,className:"hidden md:block px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 text-sm disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:F("designRandom")})]}),T.jsxs("div",{className:"flex items-center space-x-2 md:space-x-6",children:[T.jsxs("button",{onClick:a,className:`hidden md:flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-colors ${t?"bg-red-500 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,title:F("toggleOverviewTitle"),children:[T.jsx(I0,{className:"w-5 h-5"}),T.jsx("span",{className:"hidden md:inline text-sm font-semibold",children:F("pagesOverview")})]}),T.jsxs("div",{className:"relative hidden md:block",ref:ee,children:[T.jsxs("button",{onClick:()=>_(te=>!te),className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-gray-700 text-gray-200 hover:bg-gray-600 transition-colors",title:F("settings"),children:[T.jsx(k0,{className:"w-5 h-5"}),T.jsx("span",{className:"text-sm font-semibold",children:F("settings")})]}),x&&T.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white rounded-md shadow-lg z-50 border border-gray-200 p-4",children:[T.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4 border-b pb-2",children:F("settings")}),T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:F("language")}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs("button",{onClick:()=>J("en"),className:`flex-1 flex items-center justify-center px-3 py-2 rounded-md border text-sm transition-colors ${G==="en"?"bg-blue-50 border-blue-500 text-blue-700 font-semibold":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[T.jsx("span",{children:F("langEN")}),G==="en"&&T.jsx(Yi,{className:"w-4 h-4 ml-1"})]}),T.jsxs("button",{onClick:()=>J("vn"),className:`flex-1 flex items-center justify-center px-3 py-2 rounded-md border text-sm transition-colors ${G==="vn"?"bg-blue-50 border-blue-500 text-blue-700 font-semibold":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[T.jsx("span",{children:F("langVN")}),G==="vn"&&T.jsx(Yi,{className:"w-4 h-4 ml-1"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:F("aiResolution")}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsxs("button",{onClick:()=>b("2K"),className:`flex-1 flex items-center justify-center px-3 py-2 rounded-md border text-sm transition-colors ${v==="2K"?"bg-blue-50 border-blue-500 text-blue-700 font-semibold":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[T.jsx("span",{children:"2K"}),v==="2K"&&T.jsx(Yi,{className:"w-4 h-4 ml-1"})]}),T.jsxs("button",{onClick:()=>b("4K"),className:`flex-1 flex items-center justify-center px-3 py-2 rounded-md border text-sm transition-colors ${v==="4K"?"bg-blue-50 border-blue-500 text-blue-700 font-semibold":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[T.jsx("span",{children:"4K"}),v==="4K"&&T.jsx(Yi,{className:"w-4 h-4 ml-1"})]})]})]})]})]}),T.jsx("div",{className:"h-6 border-l border-gray-600 hidden md:block"}),T.jsx("div",{className:"text-right text-xs hidden md:block",children:T.jsxs("p",{className:"text-gray-400",children:[F("totalPages")," ",T.jsx("span",{className:"font-bold text-white",children:i})]})}),T.jsx("div",{className:"flex items-center",children:T.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white font-semibold rounded-md shadow hover:bg-blue-600 text-sm transition-colors",children:[T.jsx(Ag,{className:"w-5 h-5"}),T.jsx("span",{className:"hidden md:inline",children:F("submitProject")}),T.jsx("span",{className:"md:hidden",children:F("submitProjectMobile")})]})})]})]})]})},Po={"single-full":{id:"single-full",name:"Full Bleed Single Image",name_vn:"Mt nh trn l",gridTemplateColumns:"1fr",gridTemplateRows:"1fr",gap:"0",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"}]},"two-equal-vertical-split":{id:"two-equal-vertical-split",name:"Two Equal Vertical (Spread)",name_vn:"Hai nh dc bng nhau (Trang i)",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr",gap:"0.125rem",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"feature-left":{id:"feature-left",name:"Feature Left",name_vn:"Ni bt bn tri",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"}]},"feature-right":{id:"feature-right",name:"Feature Right",name_vn:"Ni bt bn phi",gridTemplateColumns:"1fr 2fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 2 / 3 / 3"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"}]},"four-square":{id:"four-square",name:"Four Square",name_vn:"Bn  vung",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"},{id:"slot-4",gridArea:"2 / 2 / 3 / 3"}]},"panorama-top-split":{id:"panorama-top-split",name:"Panorama Top Split",name_vn:"Panorama trn",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"2fr 1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 3"},{id:"slot-2",gridArea:"2 / 1 / 4 / 2"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"},{id:"slot-4",gridArea:"3 / 2 / 4 / 3"}],hideOnMobile:!0},"offset-grid":{id:"offset-grid",name:"Offset Grid",name_vn:"Li lch",gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(4, 1fr)",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 4"},{id:"slot-2",gridArea:"1 / 4 / 3 / 6"},{id:"slot-3",gridArea:"3 / 1 / 5 / 3"},{id:"slot-4",gridArea:"3 / 3 / 5 / 6"}]},"vertical-stack-right":{id:"vertical-stack-right",name:"Vertical Stack Right",name_vn:"Chng dc bn phi",gridTemplateColumns:"3fr 2fr",gridTemplateRows:"1fr 1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 4 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"},{id:"slot-4",gridArea:"3 / 2 / 4 / 3"}],hideOnMobile:!0},"five-photo-story":{id:"five-photo-story",name:"Five Photo Story",name_vn:"Cu chuyn nm nh",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridTemplateRows:"2fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 5"},{id:"slot-2",gridArea:"2 / 1 / 3 / 2"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"},{id:"slot-4",gridArea:"2 / 3 / 3 / 4"},{id:"slot-5",gridArea:"2 / 4 / 3 / 5"}],hideOnMobile:!0},"left-triple-stack":{id:"left-triple-stack",name:"Left Triple Stack",name_vn:"Ba nh dc bn tri",gridTemplateColumns:"1fr 2fr",gridTemplateRows:"repeat(3, 1fr)",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 2 / 4 / 3"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"},{id:"slot-4",gridArea:"3 / 1 / 4 / 2"}],hideOnMobile:!0},"left-split-feature":{id:"left-split-feature",name:"Left Split Feature",name_vn:"Ni bt chia i tri",gridTemplateColumns:"1fr 2fr",gridTemplateRows:"2fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 2 / 3 / 3"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"}]},"offset-vertical-split":{id:"offset-vertical-split",name:"Offset Vertical Split",name_vn:"Chia dc lch",gridTemplateColumns:"2fr 3fr",gridTemplateRows:"1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"trio-left-tall":{id:"trio-left-tall",name:"Trio Left Tall",name_vn:"B ba dc tri",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"}]},"main-left-vertical":{id:"main-left-vertical",name:"Main Left Vertical",name_vn:"nh chnh dc tri",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"centered-horizontal-pair":{id:"centered-horizontal-pair",name:"Centered Horizontal Pair",name_vn:"Cp nh ngang gia",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 8fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"2 / 1 / 3 / 2"},{id:"slot-2",gridArea:"2 / 2 / 3 / 3"}]},"tall-with-two-sides":{id:"tall-with-two-sides",name:"Tall with Two Sides",name_vn:"Dc vi hai bn",gridTemplateColumns:"2fr 1fr 1fr",gridTemplateRows:"1fr 8fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 4 / 2"},{id:"slot-2",gridArea:"2 / 2 / 3 / 3"},{id:"slot-3",gridArea:"2 / 3 / 3 / 4"}]},"asymmetric-four":{id:"asymmetric-four",name:"Asymmetric Four",name_vn:"Bn nh bt i xng",gridTemplateColumns:"1fr 1fr 2fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 3 / 3 / 4"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"1 / 2 / 2 / 3"},{id:"slot-4",gridArea:"2 / 1 / 3 / 3"}]},"mosaic-story":{id:"mosaic-story",name:"Mosaic Story",name_vn:"Cu chuyn Mosaic",gridTemplateColumns:"repeat(4, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 3"},{id:"slot-2",gridArea:"1 / 3 / 2 / 5"},{id:"slot-3",gridArea:"2 / 1 / 4 / 3"},{id:"slot-4",gridArea:"2 / 3 / 3 / 5"},{id:"slot-5",gridArea:"3 / 3 / 4 / 5"}],hideOnMobile:!0},"feature-left-two-right-stack":{id:"feature-left-two-right-stack",name:"Feature Left, Two Right Stack",name_vn:"Tri ni bt, hai nh dc phi",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"}]},"dominant-left-portrait":{id:"dominant-left-portrait",name:"Dominant Left, Portrait Right",name_vn:"Tri chnh, phi ph",gridTemplateColumns:"3fr 2fr",gridTemplateRows:"1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"feature-left-mosaic-right":{id:"feature-left-mosaic-right",name:"Feature Left, Mosaic Right",name_vn:"Tri chnh, phi mosaic",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 3"},{id:"slot-2",gridArea:"1 / 3 / 2 / 4"},{id:"slot-3",gridArea:"1 / 4 / 2 / 5"},{id:"slot-4",gridArea:"2 / 3 / 3 / 4"},{id:"slot-5",gridArea:"2 / 4 / 3 / 5"}]}},Ll=Object.values(Po),B0=({isMobile:i,onSelectLayout:t,onClose:o})=>{const{language:a,t:u}=ft(),d=i?Ll.filter(m=>!m.hideOnMobile):Ll;return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:u("chooseLayout")}),T.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.map(m=>T.jsxs("div",{className:"cursor-pointer group",onClick:()=>t(m.id),children:[T.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200 rounded-md aspect-[2/1] p-1 grid",style:{gridTemplateColumns:m.gridTemplateColumns,gridTemplateRows:m.gridTemplateRows,gap:"4px"},children:m.slots.map(p=>T.jsx("div",{className:"bg-gray-300 rounded-sm",style:{gridArea:p.gridArea}},p.id))}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:a==="vn"?m.name_vn:m.name})]},m.id))})})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let O0,F0;function Y0(){return{geminiUrl:O0,vertexUrl:F0}}function J0(i,t,o,a){var u,d;if(!(i!=null&&i.baseUrl)){const m=Y0();return t?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zn{}function ue(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const d=t[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,t,o){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const p=m.slice(0,-2);if(!(p in i))if(Array.isArray(o))i[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[p])){const y=i[p];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];c(v,t.slice(d+1),o[g])}else for(const g of y)c(g,t.slice(d+1),o)}return}else if(m.endsWith("[0]")){const p=m.slice(0,-3);p in i||(i[p]=[{}]);const y=i[p];c(y[0],t.slice(d+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],u=i[a];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function r(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const u=t[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(p=>r(p,t.slice(a+1),o)):o}else return o}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function K0(i,t){for(const[o,a]of Object.entries(t)){const u=o.split("."),d=a.split("."),m=new Set;let p=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){p=y;break}if(p!==-1&&d.length>p)for(let y=p;y<d.length;y++){const g=d[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&m.add(g)}Ru(i,u,d,0,m)}}function Ru(i,t,o,a,u){if(a>=t.length||typeof i!="object"||i===null)return;const d=t[a];if(d.endsWith("[]")){const m=d.slice(0,-2),p=i;if(m in p&&Array.isArray(p[m]))for(const y of p[m])Ru(y,t,o,a+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,p=Object.keys(m).filter(g=>!g.startsWith("_")&&!u.has(g)),y={};for(const g of p)y[g]=m[g];for(const[g,v]of Object.entries(y)){const b=[];for(const x of o.slice(a))x==="*"?b.push(g):b.push(x);c(m,b,v)}for(const g of p)delete m[g]}}else{const m=i;d in m&&Ru(m[d],t,o,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X0(i){const t={},o=r(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=r(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function j0(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],Z0(m)),t}function Q0(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response"]);return m!=null&&c(t,["response"],W0(m)),t}function Z0(i){const t={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>$0(m))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function W0(i){const t={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>ev(m))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function $0(i){const t={},o=r(i,["video"]);return o!=null&&c(t,["video"],av(o)),t}function ev(i){const t={},o=r(i,["_self"]);return o!=null&&c(t,["video"],sv(o)),t}function tv(i){const t={},o=r(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function nv(i){const t={},o=r(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function iv(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response"]);return m!=null&&c(t,["response"],lv(m)),t}function lv(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function Rg(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response"]);return m!=null&&c(t,["response"],ov(m)),t}function ov(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function av(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Gu(a));const u=r(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function sv(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Gu(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Qh||(Qh={}));var Zh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Zh||(Zh={}));var Wh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Wh||(Wh={}));var Ei;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ei||(Ei={}));var $h;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})($h||($h={}));var em;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(em||(em={}));var tm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(tm||(tm={}));var nm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nm||(nm={}));var im;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(im||(im={}));var lm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(lm||(lm={}));var om;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(om||(om={}));var am;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(am||(am={}));var sm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(sm||(sm={}));var rm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(rm||(rm={}));var um;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(um||(um={}));var cm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cm||(cm={}));var dm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dm||(dm={}));var fm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(fm||(fm={}));var hm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hm||(hm={}));var is;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(is||(is={}));var mm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(mm||(mm={}));var gm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(gm||(gm={}));var pm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(pm||(pm={}));var Mu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mu||(Mu={}));var ym;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ym||(ym={}));var vm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vm||(vm={}));var Tm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Tm||(Tm={}));var Sm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Sm||(Sm={}));var bm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(bm||(bm={}));var xm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xm||(xm={}));var Em;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Em||(Em={}));var Cm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Cm||(Cm={}));var wm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(wm||(wm={}));var _m;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(_m||(_m={}));var Am;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Am||(Am={}));var Nm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Nm||(Nm={}));var Rm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rm||(Rm={}));var Mm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Mm||(Mm={}));var Im;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Im||(Im={}));var Dm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Dm||(Dm={}));var km;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(km||(km={}));var Um;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Um||(Um={}));var Lm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Lm||(Lm={}));var Pm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Pm||(Pm={}));var Hm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Hm||(Hm={}));var zm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(zm||(zm={}));var qm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qm||(qm={}));var Gm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Gm||(Gm={}));var Vm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vm||(Vm={}));var Bm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bm||(Bm={}));var Om;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Om||(Om={}));var Fm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Fm||(Fm={}));var Ym;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ym||(Ym={}));var Jm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Jm||(Jm={}));var Il;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Il||(Il={}));class Iu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Uo{get text(){var t,o,a,u,d,m,p,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const b=[];for(const x of(y=(p=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[_,L]of Object.entries(x))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(L!==null||L!==void 0)&&b.push(_);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,g+=x.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,o,a,u,d,m,p,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const b of(y=(p=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[x,_]of Object.entries(b))x!=="inlineData"&&(_!==null||_!==void 0)&&v.push(x);b.inlineData&&typeof b.inlineData.data=="string"&&(g+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,a,u,d,m,p,y;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,o,a,u,d,m,p,y,g;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,a,u,d,m,p,y,g;if(((u=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Km{}class Xm{}class rv{}class uv{}class cv{}class dv{}class jm{}class Qm{}class Zm{}class fv{}class ls{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ls;let u;const d=t;return o?u=Q0(d):u=j0(d),Object.assign(a,u),a}}class Wm{}class $m{}class eg{}class hv{}class mv{}class gv{}class Vu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Vu,d=iv(t);return Object.assign(a,d),a}}class pv{}class yv{}class vv{}class tg{}class Tv{get text(){var t,o,a;let u="",d=!1;const m=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&m.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,u+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,o,a;let u="";const d=[];for(const m of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[p,y]of Object.entries(m))p!=="inlineData"&&y!==null&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class Sv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Bu,d=Rg(t);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Mg(i,t){const o=Ve(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Ig(i){return Array.isArray(i)?i.map(t=>os(t)):[os(i)]}function os(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Dg(i){const t=os(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kg(i){const t=os(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function ng(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Ug(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>ng(t)):[ng(i)]}function Du(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ig(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function lg(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Ut(i){if(i==null)throw new Error("ContentUnion is required");return Du(i)?i:{role:"user",parts:Ug(i)}}function Ou(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=Ut(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=Ut(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Ut(o)):[Ut(t)]}function pn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ig(i)||lg(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ut(i)]}const t=[],o=[],a=Du(i[0]);for(const u of i){const d=Du(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(u);else{if(ig(u)||lg(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return a||t.push({role:"user",parts:Ug(o)}),t}function bv(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Ei).includes(o[0].toUpperCase())?o[0].toUpperCase():Ei.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Ei).includes(a.toUpperCase())?a.toUpperCase():Ei.TYPE_UNSPECIFIED})}}function Dl(i){const t={},o=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&bv(i.type,t);for(const[m,p]of Object.entries(i))if(p!=null)if(m=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;t.type=Object.values(Ei).includes(p.toUpperCase())?p.toUpperCase():Ei.TYPE_UNSPECIFIED}else if(o.includes(m))t[m]=Dl(p);else if(a.includes(m)){const y=[];for(const g of p){if(g.type=="null"){t.nullable=!0;continue}y.push(Dl(g))}t[m]=y}else if(u.includes(m)){const y={};for(const[g,v]of Object.entries(p))y[g]=Dl(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=p}return t}function Fu(i){return Dl(i)}function Yu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Ju(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Pl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Dl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Dl(t.response));return i}function Hl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function xv(i,t,o,a=1){const u=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:u?`${o}/${t}`:t}function Wn(i,t){if(typeof t!="string")throw new Error("name must be a string");return xv(i,t,"cachedContents")}function Lg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function wi(i){return Gu(i)}function Ev(i){return i!=null&&typeof i=="object"&&"name"in i}function Cv(i){return i!=null&&typeof i=="object"&&"video"in i}function wv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Pg(i){var t;let o;if(Ev(i)&&(o=i.name),!(wv(i)&&(o=i.uri,o===void 0))&&!(Cv(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Hg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function zg(i){for(const t of["models","tunedModels","publisherModels"])if(_v(i,t))return i[t];return[]}function _v(i,t){return i!==null&&typeof i=="object"&&t in i}function Av(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Nv(i,t={}){const o=[],a=new Set;for(const u of i){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=Av(u,t);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function qg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Rv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Gg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function zl(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Vg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mv(i){const t={},o=r(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>cT(m))),c(t,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["inlinedEmbedContentResponses"],d)}return t}function Iv(i){const t={},o=r(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function Dv(i){const t={},o=r(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(t,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function es(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(t,["state"],Vg(u));const d=r(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const m=r(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const p=r(i,["metadata","updateTime"]);p!=null&&c(t,["updateTime"],p);const y=r(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=r(i,["metadata","output"]);return g!=null&&c(t,["dest"],Mv(Gg(g))),t}function ku(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["state"]);u!=null&&c(t,["state"],Vg(u));const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["createTime"]);m!=null&&c(t,["createTime"],m);const p=r(i,["startTime"]);p!=null&&c(t,["startTime"],p);const y=r(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const v=r(i,["model"]);v!=null&&c(t,["model"],v);const b=r(i,["inputConfig"]);b!=null&&c(t,["src"],kv(b));const x=r(i,["outputConfig"]);x!=null&&c(t,["dest"],Iv(Gg(x)));const _=r(i,["completionStats"]);return _!=null&&c(t,["completionStats"],_),t}function kv(i){const t={},o=r(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=r(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function Uv(i,t){const o={};if(r(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(t,["fileName"]);a!=null&&c(o,["fileName"],a);const u=r(t,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>uT(i,m))),c(o,["requests","requests"],d)}return o}function Lv(i){const t={},o=r(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(t,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Pv(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Hv(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],zl(i,a)),o}function zv(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],zl(i,a)),o}function qv(i){const t={},o=r(i,["content"]);o!=null&&c(t,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],Gv(a));const u=r(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const p=r(i,["groundingMetadata"]);p!=null&&c(t,["groundingMetadata"],p);const y=r(i,["index"]);y!=null&&c(t,["index"],y);const g=r(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=r(i,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["safetyRatings"],x)}const b=r(i,["urlContextMetadata"]);return b!=null&&c(t,["urlContextMetadata"],b),t}function Gv(i){const t={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["citations"],a)}return t}function Bg(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>yT(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function Vv(i,t){const o={},a=r(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Bv(i,t){const o={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["dest"]);return t!==void 0&&u!=null&&c(t,["outputConfig"],Dv(Rv(u))),o}function og(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["src"]);u!=null&&c(o,["batch","inputConfig"],Uv(i,qg(i,u)));const d=r(t,["config"]);return d!=null&&Vv(d,o),o}function Ov(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["model"],Ve(i,a));const u=r(t,["src"]);u!=null&&c(o,["inputConfig"],Lv(qg(i,u)));const d=r(t,["config"]);return d!=null&&Bv(d,o),o}function Fv(i,t){const o={},a=r(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function Yv(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["src"]);u!=null&&c(o,["batch","inputConfig"],Wv(i,u));const d=r(t,["config"]);return d!=null&&Fv(d,o),o}function Jv(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],zl(i,a)),o}function Kv(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],zl(i,a)),o}function Xv(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);return d!=null&&c(t,["error"],d),t}function jv(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);return d!=null&&c(t,["error"],d),t}function Qv(i,t){const o={},a=r(t,["contents"]);if(a!=null){let d=Ou(i,a);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["requests[]","request","content"],d)}const u=r(t,["config"]);return u!=null&&(c(o,["_self"],Zv(u,o)),K0(o,{"requests[].*":"requests[].request.*"})),o}function Zv(i,t){const o={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Wv(i,t){const o={},a=r(t,["fileName"]);a!=null&&c(o,["file_name"],a);const u=r(t,["inlinedRequests"]);return u!=null&&c(o,["requests"],Qv(i,u)),o}function $v(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function eT(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tT(i){const t={},o=r(i,["mode"]);o!=null&&c(t,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nT(i,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Bg(Ut(u)));const d=r(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(t,["topP"]);m!=null&&c(a,["topP"],m);const p=r(t,["topK"]);p!=null&&c(a,["topK"],p);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=r(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const b=r(t,["responseLogprobs"]);b!=null&&c(a,["responseLogprobs"],b);const x=r(t,["logprobs"]);x!=null&&c(a,["logprobs"],x);const _=r(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const L=r(t,["frequencyPenalty"]);L!=null&&c(a,["frequencyPenalty"],L);const U=r(t,["seed"]);U!=null&&c(a,["seed"],U);const ee=r(t,["responseMimeType"]);ee!=null&&c(a,["responseMimeType"],ee);const z=r(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Fu(z));const G=r(t,["responseJsonSchema"]);if(G!=null&&c(a,["responseJsonSchema"],G),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=r(t,["safetySettings"]);if(o!==void 0&&J!=null){let fe=J;Array.isArray(fe)&&(fe=fe.map(Ae=>vT(Ae))),c(o,["safetySettings"],fe)}const F=r(t,["tools"]);if(o!==void 0&&F!=null){let fe=Hl(F);Array.isArray(fe)&&(fe=fe.map(Ae=>ST(Pl(Ae)))),c(o,["tools"],fe)}const te=r(t,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],TT(te)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=r(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],Wn(i,ne));const V=r(t,["responseModalities"]);V!=null&&c(a,["responseModalities"],V);const Z=r(t,["mediaResolution"]);Z!=null&&c(a,["mediaResolution"],Z);const B=r(t,["speechConfig"]);if(B!=null&&c(a,["speechConfig"],Yu(B)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=r(t,["thinkingConfig"]);oe!=null&&c(a,["thinkingConfig"],oe);const Q=r(t,["imageConfig"]);return Q!=null&&c(a,["imageConfig"],rT(Q)),a}function iT(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>qv(g))),c(t,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(t,["responseId"],m);const p=r(i,["usageMetadata"]);return p!=null&&c(t,["usageMetadata"],p),t}function lT(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],zl(i,a)),o}function oT(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],zl(i,a)),o}function aT(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function sT(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function rT(i){const t={},o=r(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function uT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["request","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let p=pn(u);Array.isArray(p)&&(p=p.map(y=>Bg(y))),c(o,["request","contents"],p)}const d=r(t,["metadata"]);d!=null&&c(o,["metadata"],d);const m=r(t,["config"]);return m!=null&&c(o,["request","generationConfig"],nT(i,m,r(o,["request"],{}))),o}function cT(i){const t={},o=r(i,["response"]);o!=null&&c(t,["response"],iT(o));const a=r(i,["error"]);return a!=null&&c(t,["error"],a),t}function dT(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function fT(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);t!==void 0&&u!=null&&c(t,["_query","pageToken"],u);const d=r(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),o}function hT(i){const t={},o=r(i,["config"]);return o!=null&&dT(o,t),t}function mT(i){const t={},o=r(i,["config"]);return o!=null&&fT(o,t),t}function gT(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>es(m))),c(t,["batchJobs"],d)}return t}function pT(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>ku(m))),c(t,["batchJobs"],d)}return t}function yT(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],$v(d));const m=r(i,["functionCall"]);m!=null&&c(t,["functionCall"],eT(m));const p=r(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],Pv(y));const g=r(i,["text"]);g!=null&&c(t,["text"],g);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const b=r(i,["thoughtSignature"]);b!=null&&c(t,["thoughtSignature"],b);const x=r(i,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function vT(i){const t={},o=r(i,["category"]);if(o!=null&&c(t,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function TT(i){const t={},o=r(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],tT(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ST(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(b=>b)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=r(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],aT(p));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],sT(y));const g=r(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Qn||(Qn={}));class Ji{constructor(t,o,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,u)}init(t,o,a){var u,d;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bT extends Zn{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Ji(Qn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=og(this.apiClient,t),a=o._url,u=ue("{model}:batchGenerateContent",a),p=o.batch.inputConfig.requests,y=p.requests,g=[];for(const v of y){const b=Object.assign({},v);if(b.systemInstruction){const x=b.systemInstruction;delete b.systemInstruction;const _=b.request;_.systemInstruction=x,b.request=_}g.push(b)}return p.requests=g,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(m)a.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Ov(this.apiClient,t);return p=ue("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ku(v))}else{const g=og(this.apiClient,t);return p=ue("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>es(v))}}async createEmbeddingsInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Yv(this.apiClient,t);return d=ue("{model}:asyncBatchEmbedContent",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>es(y))}}async get(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=oT(this.apiClient,t);return p=ue("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ku(v))}else{const g=lT(this.apiClient,t);return p=ue("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>es(v))}}async cancel(t){var o,a,u,d;let m="",p={};if(this.apiClient.isVertexAI()){const y=zv(this.apiClient,t);m=ue("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Hv(this.apiClient,t);m=ue("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=mT(t);return p=ue("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=pT(v),x=new tg;return Object.assign(x,b),x})}else{const g=hT(t);return p=ue("batches",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=gT(v),x=new tg;return Object.assign(x,b),x})}}async delete(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Kv(this.apiClient,t);return p=ue("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>jv(v))}else{const g=Jv(this.apiClient,t);return p=ue("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>Xv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ag(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>YT(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function ET(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const d=r(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=r(i,["contents"]);if(t!==void 0&&m!=null){let v=pn(m);Array.isArray(v)&&(v=v.map(b=>ag(b))),c(t,["contents"],v)}const p=r(i,["systemInstruction"]);t!==void 0&&p!=null&&c(t,["systemInstruction"],ag(Ut(p)));const y=r(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(b=>KT(b))),c(t,["tools"],v)}const g=r(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],JT(g)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function CT(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const d=r(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=r(i,["contents"]);if(t!==void 0&&m!=null){let b=pn(m);Array.isArray(b)&&(b=b.map(x=>x)),c(t,["contents"],b)}const p=r(i,["systemInstruction"]);t!==void 0&&p!=null&&c(t,["systemInstruction"],Ut(p));const y=r(i,["tools"]);if(t!==void 0&&y!=null){let b=y;Array.isArray(b)&&(b=b.map(x=>XT(x))),c(t,["tools"],b)}const g=r(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const v=r(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function wT(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["model"],Mg(i,a));const u=r(t,["config"]);return u!=null&&ET(u,o),o}function _T(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["model"],Mg(i,a));const u=r(t,["config"]);return u!=null&&CT(u,o),o}function AT(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function NT(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function RT(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function MT(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function IT(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DT(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kT(i){const t={},o=r(i,["mode"]);o!=null&&c(t,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UT(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(t,["description"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(t,["response"],m);const p=r(i,["responseJsonSchema"]);return p!=null&&c(t,["responseJsonSchema"],p),t}function LT(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function PT(i,t){const o={},a=r(t,["name"]);return a!=null&&c(o,["_url","name"],Wn(i,a)),o}function HT(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function zT(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function qT(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function GT(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function VT(i){const t={},o=r(i,["config"]);return o!=null&&qT(o,t),t}function BT(i){const t={},o=r(i,["config"]);return o!=null&&GT(o,t),t}function OT(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function FT(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function YT(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],IT(d));const m=r(i,["functionCall"]);m!=null&&c(t,["functionCall"],DT(m));const p=r(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],xT(y));const g=r(i,["text"]);g!=null&&c(t,["text"],g);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const b=r(i,["thoughtSignature"]);b!=null&&c(t,["thoughtSignature"],b);const x=r(i,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function JT(i){const t={},o=r(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],kT(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function KT(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(b=>b)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=r(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],HT(p));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],zT(y));const g=r(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function XT(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(x=>UT(x))),c(t,["functionDeclarations"],b)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const p=r(i,["enterpriseWebSearch"]);p!=null&&c(t,["enterpriseWebSearch"],p);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=r(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function jT(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),o}function QT(i,t){const o={},a=r(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const u=r(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),o}function ZT(i,t){const o={},a=r(t,["name"]);a!=null&&c(o,["_url","name"],Wn(i,a));const u=r(t,["config"]);return u!=null&&jT(u,o),o}function WT(i,t){const o={},a=r(t,["name"]);a!=null&&c(o,["_url","name"],Wn(i,a));const u=r(t,["config"]);return u!=null&&QT(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $T extends Zn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ji(Qn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=_T(this.apiClient,t);return p=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const g=wT(this.apiClient,t);return p=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=PT(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const g=LT(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=NT(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=MT(v),x=new $m;return Object.assign(x,b),x})}else{const g=AT(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=RT(v),x=new $m;return Object.assign(x,b),x})}}async update(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=WT(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const g=ZT(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=BT(t);return p=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=FT(v),x=new eg;return Object.assign(x,b),x})}else{const g=VT(t);return p=ue("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=OT(v),x=new eg;return Object.assign(x,b),x})}}}function sg(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(i){return this instanceof it?(this.v=i,this):new it(i)}function kl(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(_){return function(L){return Promise.resolve(L).then(_,b)}}function p(_,L){a[_]&&(u[_]=function(U){return new Promise(function(ee,z){d.push([_,U,ee,z])>1||y(_,U)})},L&&(u[_]=L(u[_])))}function y(_,L){try{g(a[_](L))}catch(U){x(d[0][3],U)}}function g(_){_.value instanceof it?Promise.resolve(_.value.v).then(v,b):x(d[0][2],_)}function v(_){y("next",_)}function b(_){y("throw",_)}function x(_,L){_(L),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Lo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof sg=="function"?sg(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(m){return new Promise(function(p,y){m=i[d](m),u(p,y,m.done,m.value)})}}function u(d,m,p,y){Promise.resolve(y).then(function(g){d({value:g,done:p})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Og(o)}function Og(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function tS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function rg(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const u=[];let d=!0;for(;a<o&&i[a].role==="model";)u.push(i[a]),d&&!Og(i[a])&&(d=!1),a++;d?t.push(...u):t.pop()}return t}class nS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new iS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class iS{constructor(t,o,a,u={},d=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),tS(d)}async sendMessage(t){var o;await this.sendPromise;const a=Ut(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,p;const y=await u,g=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let x=[];v!=null&&(x=(p=v.slice(b))!==null&&p!==void 0?p:[]);const _=g?[g]:[];this.recordHistory(a,_,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var o;await this.sendPromise;const a=Ut(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(t=!1){const o=t?rg(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var a,u;return kl(this,arguments,function*(){var m,p,y,g;const v=[];try{for(var b=!0,x=Lo(t),_;_=yield it(x.next()),m=_.done,!m;b=!0){g=_.value,b=!1;const L=g;if(eS(L)){const U=(u=(a=L.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;U!==void 0&&v.push(U)}yield yield it(L)}}catch(L){p={error:L}}finally{try{!b&&!m&&(y=x.return)&&(yield it(y.call(x)))}finally{if(p)throw p.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...rg(a)):this.history.push(t),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ss extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ss.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lS(i){const t={},o=r(i,["file"]);return o!=null&&c(t,["file"],o),t}function oS(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function aS(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","file"],Pg(o)),t}function sS(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function rS(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","file"],Pg(o)),t}function uS(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function cS(i){const t={},o=r(i,["config"]);return o!=null&&uS(o,t),t}function dS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fS extends Zn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ji(Qn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cS(t);return d=ue("files",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=dS(y),v=new pv;return Object.assign(v,g),v})}}async createInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=lS(t);return d=ue("upload/v1beta/files",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=oS(y),v=new yv;return Object.assign(v,g),v})}}async get(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=rS(t);return d=ue("files/{file}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=aS(t);return d=ue("files/{file}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=sS(y),v=new vv;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ts(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function hS(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>RS(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function mS(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function gS(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pS(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(t,["description"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(t,["response"],m);const p=r(i,["responseJsonSchema"]);return p!=null&&c(t,["responseJsonSchema"],p),t}function yS(i){const t={},o=r(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const p=r(i,["frequencyPenalty"]);p!=null&&c(t,["frequencyPenalty"],p);const y=r(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=r(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=r(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const b=r(i,["presencePenalty"]);b!=null&&c(t,["presencePenalty"],b);const x=r(i,["responseLogprobs"]);x!=null&&c(t,["responseLogprobs"],x);const _=r(i,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const L=r(i,["responseModalities"]);L!=null&&c(t,["responseModalities"],L);const U=r(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const ee=r(i,["routingConfig"]);ee!=null&&c(t,["routingConfig"],ee);const z=r(i,["seed"]);z!=null&&c(t,["seed"],z);const G=r(i,["speechConfig"]);G!=null&&c(t,["speechConfig"],Fg(G));const J=r(i,["stopSequences"]);J!=null&&c(t,["stopSequences"],J);const F=r(i,["temperature"]);F!=null&&c(t,["temperature"],F);const te=r(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ne=r(i,["topK"]);ne!=null&&c(t,["topK"],ne);const V=r(i,["topP"]);if(V!=null&&c(t,["topP"],V),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vS(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function TS(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function SS(i,t){const o={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const p=r(i,["topK"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topK"],p);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const b=r(i,["speechConfig"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","speechConfig"],Ju(b));const x=r(i,["thinkingConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","thinkingConfig"],x);const _=r(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const L=r(i,["systemInstruction"]);t!==void 0&&L!=null&&c(t,["setup","systemInstruction"],hS(Ut(L)));const U=r(i,["tools"]);if(t!==void 0&&U!=null){let ne=Hl(U);Array.isArray(ne)&&(ne=ne.map(V=>IS(Pl(V)))),c(t,["setup","tools"],ne)}const ee=r(i,["sessionResumption"]);t!==void 0&&ee!=null&&c(t,["setup","sessionResumption"],MS(ee));const z=r(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const G=r(i,["outputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","outputAudioTranscription"],G);const J=r(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const F=r(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const te=r(i,["proactivity"]);return t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),o}function bS(i,t){const o={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],yS(a));const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const p=r(i,["topK"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topK"],p);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const b=r(i,["speechConfig"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","speechConfig"],Fg(Ju(b)));const x=r(i,["thinkingConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","thinkingConfig"],x);const _=r(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const L=r(i,["systemInstruction"]);t!==void 0&&L!=null&&c(t,["setup","systemInstruction"],Ut(L));const U=r(i,["tools"]);if(t!==void 0&&U!=null){let ne=Hl(U);Array.isArray(ne)&&(ne=ne.map(V=>DS(Pl(V)))),c(t,["setup","tools"],ne)}const ee=r(i,["sessionResumption"]);t!==void 0&&ee!=null&&c(t,["setup","sessionResumption"],ee);const z=r(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const G=r(i,["outputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","outputAudioTranscription"],G);const J=r(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const F=r(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const te=r(i,["proactivity"]);return t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),o}function xS(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["setup","model"],Ve(i,a));const u=r(t,["config"]);return u!=null&&c(o,["config"],SS(u,o)),o}function ES(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["setup","model"],Ve(i,a));const u=r(t,["config"]);return u!=null&&c(o,["config"],bS(u,o)),o}function CS(i){const t={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function wS(i){const t={},o=r(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["weightedPrompts"],a)}return t}function _S(i){const t={},o=r(i,["media"]);if(o!=null){let g=Ig(o);Array.isArray(g)&&(g=g.map(v=>ts(v))),c(t,["mediaChunks"],g)}const a=r(i,["audio"]);a!=null&&c(t,["audio"],ts(kg(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(t,["video"],ts(Dg(d)));const m=r(i,["text"]);m!=null&&c(t,["text"],m);const p=r(i,["activityStart"]);p!=null&&c(t,["activityStart"],p);const y=r(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function AS(i){const t={},o=r(i,["media"]);if(o!=null){let g=Ig(o);Array.isArray(g)&&(g=g.map(v=>v)),c(t,["mediaChunks"],g)}const a=r(i,["audio"]);a!=null&&c(t,["audio"],kg(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(t,["video"],Dg(d));const m=r(i,["text"]);m!=null&&c(t,["text"],m);const p=r(i,["activityStart"]);p!=null&&c(t,["activityStart"],p);const y=r(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function NS(i){const t={},o=r(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=r(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(t,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const m=r(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],kS(m));const p=r(i,["goAway"]);p!=null&&c(t,["goAway"],p);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&c(t,["sessionResumptionUpdate"],y),t}function RS(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],mS(d));const m=r(i,["functionCall"]);m!=null&&c(t,["functionCall"],gS(m));const p=r(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],ts(y));const g=r(i,["text"]);g!=null&&c(t,["text"],g);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const b=r(i,["thoughtSignature"]);b!=null&&c(t,["thoughtSignature"],b);const x=r(i,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function MS(i){const t={},o=r(i,["handle"]);if(o!=null&&c(t,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Fg(i){const t={},o=r(i,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function IS(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(b=>b)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=r(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],vS(p));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],TS(y));const g=r(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function DS(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(x=>pS(x))),c(t,["functionDeclarations"],b)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const p=r(i,["enterpriseWebSearch"]);p!=null&&c(t,["enterpriseWebSearch"],p);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=r(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function kS(i){const t={},o=r(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(t,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const m=r(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const p=r(i,["totalTokenCount"]);p!=null&&c(t,["totalTokenCount"],p);const y=r(i,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(L=>L)),c(t,["promptTokensDetails"],_)}const g=r(i,["cacheTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(L=>L)),c(t,["cacheTokensDetails"],_)}const v=r(i,["candidatesTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(L=>L)),c(t,["responseTokensDetails"],_)}const b=r(i,["toolUsePromptTokensDetails"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(L=>L)),c(t,["toolUsePromptTokensDetails"],_)}const x=r(i,["trafficType"]);return x!=null&&c(t,["trafficType"],x),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function US(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function LS(i){const t={},o=r(i,["content"]);o!=null&&c(t,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],PS(a));const u=r(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=r(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const p=r(i,["groundingMetadata"]);p!=null&&c(t,["groundingMetadata"],p);const y=r(i,["index"]);y!=null&&c(t,["index"],y);const g=r(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=r(i,["safetyRatings"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(_=>_)),c(t,["safetyRatings"],x)}const b=r(i,["urlContextMetadata"]);return b!=null&&c(t,["urlContextMetadata"],b),t}function PS(i){const t={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(t,["citations"],a)}return t}function HS(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let d=pn(u);Array.isArray(d)&&(d=d.map(m=>m)),c(o,["contents"],d)}return o}function zS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(t,["tokensInfo"],u)}return t}function qS(i){const t={},o=r(i,["values"]);o!=null&&c(t,["values"],o);const a=r(i,["statistics"]);return a!=null&&c(t,["statistics"],GS(a)),t}function GS(i){const t={},o=r(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=r(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function rs(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>jb(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function VS(i){const t={},o=r(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function BS(i){const t={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function OS(i,t){const o={},a=r(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],Ut(a));const u=r(i,["tools"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>jg(p))),c(t,["tools"],m)}const d=r(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],Ub(d)),o}function FS(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(p=>rs(p))),c(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&BS(d),o}function YS(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(p=>p)),c(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&OS(d,o),o}function JS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(t,["cachedContentTokenCount"],u),t}function KS(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function XS(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],Ve(i,a)),o}function jS(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],Ve(i,a)),o}function QS(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ZS(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function WS(i,t){const o={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const p=r(i,["guidanceScale"]);t!==void 0&&p!=null&&c(t,["parameters","guidanceScale"],p);const y=r(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=r(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const b=r(i,["includeSafetyAttributes"]);t!==void 0&&b!=null&&c(t,["parameters","includeSafetyAttributes"],b);const x=r(i,["includeRaiReason"]);t!==void 0&&x!=null&&c(t,["parameters","includeRaiReason"],x);const _=r(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const L=r(i,["outputMimeType"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","mimeType"],L);const U=r(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const ee=r(i,["addWatermark"]);t!==void 0&&ee!=null&&c(t,["parameters","addWatermark"],ee);const z=r(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const G=r(i,["editMode"]);t!==void 0&&G!=null&&c(t,["parameters","editMode"],G);const J=r(i,["baseSteps"]);return t!==void 0&&J!=null&&c(t,["parameters","editConfig","baseSteps"],J),o}function $S(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["referenceImages"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>tx(y))),c(o,["instances[0]","referenceImages"],p)}const m=r(t,["config"]);return m!=null&&WS(m,o),o}function eb(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>us(d))),c(t,["generatedImages"],u)}return t}function tb(i,t){const o={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function nb(i,t){const o={},a=r(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const u=r(i,["title"]);t!==void 0&&u!=null&&c(t,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const m=r(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const p=r(i,["autoTruncate"]);return t!==void 0&&p!=null&&c(t,["parameters","autoTruncate"],p),o}function ib(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let p=Ou(i,u);Array.isArray(p)&&(p=p.map(y=>y)),c(o,["requests[]","content"],p)}const d=r(t,["config"]);d!=null&&tb(d,o);const m=r(t,["model"]);return m!==void 0&&c(o,["requests[]","model"],Ve(i,m)),o}function lb(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let m=Ou(i,u);Array.isArray(m)&&(m=m.map(p=>p)),c(o,["instances[]","content"],m)}const d=r(t,["config"]);return d!=null&&nb(d,o),o}function ob(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function ab(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>qS(m))),c(t,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function sb(i){const t={},o=r(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=r(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function rb(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ub(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cb(i){const t={},o=r(i,["mode"]);o!=null&&c(t,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function db(i){const t={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(t,["description"],o);const a=r(i,["name"]);a!=null&&c(t,["name"],a);const u=r(i,["parameters"]);u!=null&&c(t,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=r(i,["response"]);m!=null&&c(t,["response"],m);const p=r(i,["responseJsonSchema"]);return p!=null&&c(t,["responseJsonSchema"],p),t}function fb(i,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],rs(Ut(u)));const d=r(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(t,["topP"]);m!=null&&c(a,["topP"],m);const p=r(t,["topK"]);p!=null&&c(a,["topK"],p);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=r(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const b=r(t,["responseLogprobs"]);b!=null&&c(a,["responseLogprobs"],b);const x=r(t,["logprobs"]);x!=null&&c(a,["logprobs"],x);const _=r(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const L=r(t,["frequencyPenalty"]);L!=null&&c(a,["frequencyPenalty"],L);const U=r(t,["seed"]);U!=null&&c(a,["seed"],U);const ee=r(t,["responseMimeType"]);ee!=null&&c(a,["responseMimeType"],ee);const z=r(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Fu(z));const G=r(t,["responseJsonSchema"]);if(G!=null&&c(a,["responseJsonSchema"],G),r(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=r(t,["safetySettings"]);if(o!==void 0&&J!=null){let fe=J;Array.isArray(fe)&&(fe=fe.map(Ae=>nx(Ae))),c(o,["safetySettings"],fe)}const F=r(t,["tools"]);if(o!==void 0&&F!=null){let fe=Hl(F);Array.isArray(fe)&&(fe=fe.map(Ae=>ux(Pl(Ae)))),c(o,["tools"],fe)}const te=r(t,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],rx(te)),r(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=r(t,["cachedContent"]);o!==void 0&&ne!=null&&c(o,["cachedContent"],Wn(i,ne));const V=r(t,["responseModalities"]);V!=null&&c(a,["responseModalities"],V);const Z=r(t,["mediaResolution"]);Z!=null&&c(a,["mediaResolution"],Z);const B=r(t,["speechConfig"]);if(B!=null&&c(a,["speechConfig"],Yu(B)),r(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=r(t,["thinkingConfig"]);oe!=null&&c(a,["thinkingConfig"],oe);const Q=r(t,["imageConfig"]);return Q!=null&&c(a,["imageConfig"],qb(Q)),a}function hb(i,t,o){const a={},u=r(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Ut(u));const d=r(t,["temperature"]);d!=null&&c(a,["temperature"],d);const m=r(t,["topP"]);m!=null&&c(a,["topP"],m);const p=r(t,["topK"]);p!=null&&c(a,["topK"],p);const y=r(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=r(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=r(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const b=r(t,["responseLogprobs"]);b!=null&&c(a,["responseLogprobs"],b);const x=r(t,["logprobs"]);x!=null&&c(a,["logprobs"],x);const _=r(t,["presencePenalty"]);_!=null&&c(a,["presencePenalty"],_);const L=r(t,["frequencyPenalty"]);L!=null&&c(a,["frequencyPenalty"],L);const U=r(t,["seed"]);U!=null&&c(a,["seed"],U);const ee=r(t,["responseMimeType"]);ee!=null&&c(a,["responseMimeType"],ee);const z=r(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Fu(z));const G=r(t,["responseJsonSchema"]);G!=null&&c(a,["responseJsonSchema"],G);const J=r(t,["routingConfig"]);J!=null&&c(a,["routingConfig"],J);const F=r(t,["modelSelectionConfig"]);F!=null&&c(a,["modelConfig"],F);const te=r(t,["safetySettings"]);if(o!==void 0&&te!=null){let I=te;Array.isArray(I)&&(I=I.map(X=>X)),c(o,["safetySettings"],I)}const ne=r(t,["tools"]);if(o!==void 0&&ne!=null){let I=Hl(ne);Array.isArray(I)&&(I=I.map(X=>jg(Pl(X)))),c(o,["tools"],I)}const V=r(t,["toolConfig"]);o!==void 0&&V!=null&&c(o,["toolConfig"],V);const Z=r(t,["labels"]);o!==void 0&&Z!=null&&c(o,["labels"],Z);const B=r(t,["cachedContent"]);o!==void 0&&B!=null&&c(o,["cachedContent"],Wn(i,B));const oe=r(t,["responseModalities"]);oe!=null&&c(a,["responseModalities"],oe);const Q=r(t,["mediaResolution"]);Q!=null&&c(a,["mediaResolution"],Q);const fe=r(t,["speechConfig"]);fe!=null&&c(a,["speechConfig"],Xg(Yu(fe)));const Ae=r(t,["audioTimestamp"]);Ae!=null&&c(a,["audioTimestamp"],Ae);const Me=r(t,["thinkingConfig"]);Me!=null&&c(a,["thinkingConfig"],Me);const ze=r(t,["imageConfig"]);return ze!=null&&c(a,["imageConfig"],Gb(ze)),a}function ug(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(p=>rs(p))),c(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&c(o,["generationConfig"],fb(i,d,o)),o}function cg(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(p=>p)),c(o,["contents"],m)}const d=r(t,["config"]);return d!=null&&c(o,["generationConfig"],hb(i,d,o)),o}function dg(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>LS(g))),c(t,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=r(i,["responseId"]);m!=null&&c(t,["responseId"],m);const p=r(i,["usageMetadata"]);return p!=null&&c(t,["usageMetadata"],p),t}function fg(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["candidates"],g)}const u=r(i,["createTime"]);u!=null&&c(t,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const m=r(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const p=r(i,["responseId"]);p!=null&&c(t,["responseId"],p);const y=r(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function mb(i,t){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const p=r(i,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const y=r(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=r(i,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const v=r(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const b=r(i,["outputMimeType"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","mimeType"],b);const x=r(i,["outputCompressionQuality"]);if(t!==void 0&&x!=null&&c(t,["parameters","outputOptions","compressionQuality"],x),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=r(i,["imageSize"]);if(t!==void 0&&_!=null&&c(t,["parameters","sampleImageSize"],_),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function gb(i,t){const o={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=r(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const p=r(i,["guidanceScale"]);t!==void 0&&p!=null&&c(t,["parameters","guidanceScale"],p);const y=r(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=r(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const b=r(i,["includeSafetyAttributes"]);t!==void 0&&b!=null&&c(t,["parameters","includeSafetyAttributes"],b);const x=r(i,["includeRaiReason"]);t!==void 0&&x!=null&&c(t,["parameters","includeRaiReason"],x);const _=r(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const L=r(i,["outputMimeType"]);t!==void 0&&L!=null&&c(t,["parameters","outputOptions","mimeType"],L);const U=r(i,["outputCompressionQuality"]);t!==void 0&&U!=null&&c(t,["parameters","outputOptions","compressionQuality"],U);const ee=r(i,["addWatermark"]);t!==void 0&&ee!=null&&c(t,["parameters","addWatermark"],ee);const z=r(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const G=r(i,["imageSize"]);t!==void 0&&G!=null&&c(t,["parameters","sampleImageSize"],G);const J=r(i,["enhancePrompt"]);return t!==void 0&&J!=null&&c(t,["parameters","enhancePrompt"],J),o}function pb(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["config"]);return d!=null&&mb(d,o),o}function yb(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["config"]);return d!=null&&gb(d,o),o}function vb(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>Mb(m))),c(t,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],Jg(u)),t}function Tb(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>us(m))),c(t,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],Kg(u)),t}function Sb(i,t){const o={},a=r(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(t!==void 0&&u!=null&&c(t,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const m=r(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const p=r(i,["personGeneration"]);if(t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=r(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=r(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],cs(v));const b=r(i,["referenceImages"]);if(t!==void 0&&b!=null){let x=b;Array.isArray(x)&&(x=x.map(_=>xx(_))),c(t,["instances[0]","referenceImages"],x)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function bb(i,t){const o={},a=r(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);t!==void 0&&u!=null&&c(t,["parameters","storageUri"],u);const d=r(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const m=r(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const p=r(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const y=r(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=r(i,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const v=r(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const b=r(i,["pubsubTopic"]);t!==void 0&&b!=null&&c(t,["parameters","pubsubTopic"],b);const x=r(i,["negativePrompt"]);t!==void 0&&x!=null&&c(t,["parameters","negativePrompt"],x);const _=r(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const L=r(i,["generateAudio"]);t!==void 0&&L!=null&&c(t,["parameters","generateAudio"],L);const U=r(i,["lastFrame"]);t!==void 0&&U!=null&&c(t,["instances[0]","lastFrame"],bn(U));const ee=r(i,["referenceImages"]);if(t!==void 0&&ee!=null){let J=ee;Array.isArray(J)&&(J=J.map(F=>Ex(F))),c(t,["instances[0]","referenceImages"],J)}const z=r(i,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],bx(z));const G=r(i,["compressionQuality"]);return t!==void 0&&G!=null&&c(t,["parameters","compressionQuality"],G),o}function xb(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],_b(m)),t}function Eb(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response"]);return m!=null&&c(t,["response"],Ab(m)),t}function Cb(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["image"]);d!=null&&c(o,["instances[0]","image"],cs(d));const m=r(t,["video"]);m!=null&&c(o,["instances[0]","video"],Qg(m));const p=r(t,["source"]);p!=null&&Nb(p,o);const y=r(t,["config"]);return y!=null&&Sb(y,o),o}function wb(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(t,["image"]);d!=null&&c(o,["instances[0]","image"],bn(d));const m=r(t,["video"]);m!=null&&c(o,["instances[0]","video"],Zg(m));const p=r(t,["source"]);p!=null&&Rb(p,o);const y=r(t,["config"]);return y!=null&&bb(y,o),o}function _b(i){const t={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>Db(m))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function Ab(i){const t={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>kb(m))),c(t,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function Nb(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],cs(u));const d=r(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Qg(d)),o}function Rb(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],bn(u));const d=r(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Zg(d)),o}function Mb(i){const t={},o=r(i,["_self"]);o!=null&&c(t,["image"],Vb(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(t,["safetyAttributes"],Jg(u)),t}function us(i){const t={},o=r(i,["_self"]);o!=null&&c(t,["image"],Yg(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(t,["safetyAttributes"],Kg(u));const d=r(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function Ib(i){const t={},o=r(i,["_self"]);o!=null&&c(t,["mask"],Yg(o));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(t,["labels"],u)}return t}function Db(i){const t={},o=r(i,["video"]);return o!=null&&c(t,["video"],Tx(o)),t}function kb(i){const t={},o=r(i,["_self"]);return o!=null&&c(t,["video"],Sx(o)),t}function Ub(i){const t={},o=r(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=r(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const p=r(i,["frequencyPenalty"]);p!=null&&c(t,["frequencyPenalty"],p);const y=r(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=r(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=r(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const b=r(i,["presencePenalty"]);b!=null&&c(t,["presencePenalty"],b);const x=r(i,["responseLogprobs"]);x!=null&&c(t,["responseLogprobs"],x);const _=r(i,["responseMimeType"]);_!=null&&c(t,["responseMimeType"],_);const L=r(i,["responseModalities"]);L!=null&&c(t,["responseModalities"],L);const U=r(i,["responseSchema"]);U!=null&&c(t,["responseSchema"],U);const ee=r(i,["routingConfig"]);ee!=null&&c(t,["routingConfig"],ee);const z=r(i,["seed"]);z!=null&&c(t,["seed"],z);const G=r(i,["speechConfig"]);G!=null&&c(t,["speechConfig"],Xg(G));const J=r(i,["stopSequences"]);J!=null&&c(t,["stopSequences"],J);const F=r(i,["temperature"]);F!=null&&c(t,["temperature"],F);const te=r(i,["thinkingConfig"]);te!=null&&c(t,["thinkingConfig"],te);const ne=r(i,["topK"]);ne!=null&&c(t,["topK"],ne);const V=r(i,["topP"]);if(V!=null&&c(t,["topP"],V),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Lb(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],Ve(i,a)),o}function Pb(i,t){const o={},a=r(t,["model"]);return a!=null&&c(o,["_url","name"],Ve(i,a)),o}function Hb(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function zb(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function qb(i){const t={},o=r(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Gb(i){const t={},o=r(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=r(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const u=r(i,["outputMimeType"]);u!=null&&c(t,["imageOutputOptions","mimeType"],u);const d=r(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function Vb(i){const t={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],wi(o));const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Yg(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],wi(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function cs(i){const t={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],wi(o));const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function bn(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=r(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],wi(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function Bb(i,t,o){const a={},u=r(t,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=r(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const p=r(t,["queryBase"]);return o!==void 0&&p!=null&&c(o,["_url","models_url"],Hg(i,p)),a}function Ob(i,t,o){const a={},u=r(t,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(t,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const m=r(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const p=r(t,["queryBase"]);return o!==void 0&&p!=null&&c(o,["_url","models_url"],Hg(i,p)),a}function Fb(i,t){const o={},a=r(t,["config"]);return a!=null&&Bb(i,a,o),o}function Yb(i,t){const o={},a=r(t,["config"]);return a!=null&&Ob(i,a,o),o}function Jb(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=zg(u);Array.isArray(d)&&(d=d.map(m=>Uu(m))),c(t,["models"],d)}return t}function Kb(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=zg(u);Array.isArray(d)&&(d=d.map(m=>Lu(m))),c(t,["models"],d)}return t}function Xb(i){const t={},o=r(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=r(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(t,["dilation"],u),t}function Uu(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);u!=null&&c(t,["description"],u);const d=r(i,["version"]);d!=null&&c(t,["version"],d);const m=r(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],cx(m));const p=r(i,["inputTokenLimit"]);p!=null&&c(t,["inputTokenLimit"],p);const y=r(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=r(i,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const v=r(i,["temperature"]);v!=null&&c(t,["temperature"],v);const b=r(i,["maxTemperature"]);b!=null&&c(t,["maxTemperature"],b);const x=r(i,["topP"]);x!=null&&c(t,["topP"],x);const _=r(i,["topK"]);_!=null&&c(t,["topK"],_);const L=r(i,["thinking"]);return L!=null&&c(t,["thinking"],L),t}function Lu(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["displayName"]);a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);u!=null&&c(t,["description"],u);const d=r(i,["versionId"]);d!=null&&c(t,["version"],d);const m=r(i,["deployedModels"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(x=>sb(x))),c(t,["endpoints"],b)}const p=r(i,["labels"]);p!=null&&c(t,["labels"],p);const y=r(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],dx(y));const g=r(i,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const v=r(i,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(x=>x)),c(t,["checkpoints"],b)}return t}function jb(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],rb(d));const m=r(i,["functionCall"]);m!=null&&c(t,["functionCall"],ub(m));const p=r(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],US(y));const g=r(i,["text"]);g!=null&&c(t,["text"],g);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const b=r(i,["thoughtSignature"]);b!=null&&c(t,["thoughtSignature"],b);const x=r(i,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function Qb(i){const t={},o=r(i,["productImage"]);return o!=null&&c(t,["image"],bn(o)),t}function Zb(i,t){const o={},a=r(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);t!==void 0&&u!=null&&c(t,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const m=r(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const p=r(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const y=r(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=r(i,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const v=r(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const b=r(i,["outputCompressionQuality"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","compressionQuality"],b);const x=r(i,["enhancePrompt"]);t!==void 0&&x!=null&&c(t,["parameters","enhancePrompt"],x);const _=r(i,["labels"]);return t!==void 0&&_!=null&&c(t,["labels"],_),o}function Wb(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["source"]);u!=null&&ex(u,o);const d=r(t,["config"]);return d!=null&&Zb(d,o),o}function $b(i){const t={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>us(u))),c(t,["generatedImages"],a)}return t}function ex(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["personImage"]);t!==void 0&&u!=null&&c(t,["instances[0]","personImage","image"],bn(u));const d=r(i,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>Qb(p))),c(t,["instances[0]","productImages"],m)}return o}function tx(i){const t={},o=r(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],bn(o));const a=r(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(t,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],Xb(d));const m=r(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],VS(m));const p=r(i,["styleImageConfig"]);p!=null&&c(t,["styleImageConfig"],p);const y=r(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Jg(i){const t={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function Kg(i){const t={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function nx(i){const t={},o=r(i,["category"]);if(o!=null&&c(t,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function ix(i){const t={},o=r(i,["image"]);return o!=null&&c(t,["image"],bn(o)),t}function lx(i,t){const o={},a=r(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const u=r(i,["maxPredictions"]);t!==void 0&&u!=null&&c(t,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const m=r(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const p=r(i,["binaryColorThreshold"]);t!==void 0&&p!=null&&c(t,["parameters","binaryColorThreshold"],p);const y=r(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function ox(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["source"]);u!=null&&sx(u,o);const d=r(t,["config"]);return d!=null&&lx(d,o),o}function ax(i){const t={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Ib(u))),c(t,["generatedMasks"],a)}return t}function sx(i,t){const o={},a=r(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const u=r(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],bn(u));const d=r(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],ix(d)),o}function Xg(i){const t={},o=r(i,["languageCode"]);o!=null&&c(t,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(t,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function rx(i){const t={},o=r(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],cb(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ux(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(b=>b)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=r(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],Hb(p));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],zb(y));const g=r(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function jg(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let b=o;Array.isArray(b)&&(b=b.map(x=>db(x))),c(t,["functionDeclarations"],b)}const a=r(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(t,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=r(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const p=r(i,["enterpriseWebSearch"]);p!=null&&c(t,["enterpriseWebSearch"],p);const y=r(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const g=r(i,["googleSearch"]);g!=null&&c(t,["googleSearch"],g);const v=r(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function cx(i){const t={},o=r(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(t,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function dx(i){const t={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(t,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function fx(i,t){const o={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const d=r(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function hx(i,t){const o={},a=r(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const u=r(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const d=r(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),o}function mx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","name"],Ve(i,a));const u=r(t,["config"]);return u!=null&&fx(u,o),o}function gx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["config"]);return u!=null&&hx(u,o),o}function px(i,t){const o={},a=r(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const m=r(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const p=r(i,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);const y=r(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=r(i,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const v=r(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const b=r(i,["labels"]);t!==void 0&&b!=null&&c(t,["labels"],b);const x=r(i,["numberOfImages"]);t!==void 0&&x!=null&&c(t,["parameters","sampleCount"],x);const _=r(i,["mode"]);return t!==void 0&&_!=null&&c(t,["parameters","mode"],_),o}function yx(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["_url","model"],Ve(i,a));const u=r(t,["image"]);u!=null&&c(o,["instances[0]","image"],bn(u));const d=r(t,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=r(t,["config"]);return m!=null&&px(m,o),o}function vx(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>us(d))),c(t,["generatedImages"],u)}return t}function Tx(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],wi(a));const u=r(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function Sx(i){const t={},o=r(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],wi(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function bx(i){const t={},o=r(i,["image"]);o!=null&&c(t,["_self"],bn(o));const a=r(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function xx(i){const t={},o=r(i,["image"]);o!=null&&c(t,["image"],cs(o));const a=r(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Ex(i){const t={},o=r(i,["image"]);o!=null&&c(t,["image"],bn(o));const a=r(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Qg(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["uri"],o);const a=r(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],wi(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["encoding"],u),t}function Zg(i){const t={},o=r(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=r(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],wi(a));const u=r(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx="Content-Type",wx="X-Server-Timeout",_x="User-Agent",Pu="x-goog-api-client",Ax="1.30.0",Nx=`google-genai-sdk/${Ax}`,Rx="v1beta1",Mx="v1beta",hg=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ix{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Rx,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Mx,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const u=[this.getRequestUrlInternal(o)];return a&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[m,p]of Object.entries(t.queryParams))u.searchParams.append(m,String(p));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),t.abortSignal),this.unaryApiCall(u,d,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[u,d]of Object.entries(o))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),u=this.constructUrl(t.path,o,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),t.abortSignal),this.streamApiCall(u,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,u){if(o&&o.timeout||u){const d=new AbortController,m=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>d.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),t.signal=m}return o&&o.extraBody!==null&&Dx(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await mg(u),new Iu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await mg(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){var o;return kl(this,arguments,function*(){const u=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:p,value:y}=yield it(u.read());if(p){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=d.decode(y,{stream:!0});try{const b=JSON.parse(g);if("error"in b){const x=JSON.parse(JSON.stringify(b.error)),_=x.status,L=x.code,U=`got status: ${_}. ${JSON.stringify(b)}`;if(L>=400&&L<600)throw new ss({message:U,status:L})}}catch(b){if(b.name==="ApiError")throw b}m+=g;let v=m.match(hg);for(;v;){const b=v[1];try{const x=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield it(new Iu(x)),m=m.slice(v[0].length),v=m.match(hg)}catch(x){throw new Error(`exception parsing stream chunk ${b}. ${x}`)}}}}finally{u.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=Nx+" "+this.clientOptions.userAgentExtra;return t[_x]=o,t[Pu]=o,t[Cx]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[u,d]of Object.entries(t.headers))a.append(u,d);t.timeout&&t.timeout>0&&a.append(wx,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);u.sizeBytes=String(m.size);const p=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:m.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=p;const y={file:u},g=this.getFileName(t),v=ue("upload/v1beta/files",y._url),b=await this.fetchUploadUrl(v,u.sizeBytes,u.mimeType,g,y,o==null?void 0:o.httpOptions);return d.upload(t,b,this)}async uploadFileToFileSearchStore(t,o,a){var u;const d=this.clientOptions.uploader,m=await d.stat(o),p=String(m.size),y=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),b={};a!=null&&a.customMetadata&&(b.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(b.chunkingConfig=a.chunkingConfig);const x=await this.fetchUploadUrl(g,p,y,v,b,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,x,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,u,d,m){var p;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const g=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function mg(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw o>=400&&o<600?new ss({message:u,status:o}):new Error(u)}}function Dx(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const p=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const g=m[y],v=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const u=a(o,t);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kx="mcp_used/unknown";let Ux=!1;function Wg(i){for(const t of i)if(Lx(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Ux}function $g(i){var t;const o=(t=i[Pu])!==null&&t!==void 0?t:"";i[Pu]=(o+` ${kx}`).trimStart()}function Lx(i){return i!==null&&typeof i=="object"&&i instanceof Ku}function Px(i,t=100){return kl(this,arguments,function*(){let a,u=0;for(;u<t;){const d=yield it(i.listTools({cursor:a}));for(const m of d.tools)yield yield it(m),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Ku{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Ku(t,o)}async initialize(){var t,o,a,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var p=!0,y=(o=void 0,Lo(Px(v))),g;g=await y.next(),t=g.done,!t;p=!0){u=g.value,p=!1;const b=u;m.push(b);const x=b.name;if(d[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);d[x]=v}}catch(b){o={error:b}}finally{try{!p&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Nv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Hx(i,t,o){const a=new Sv;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(a,u),t(a)}class zx{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=Vx(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(J=>{g=J}),b=t.callbacks,x=function(){g({})},_=this.apiClient,L={onopen:x,onmessage:J=>{Hx(_,b.onmessage,J)},onerror:(o=b==null?void 0:b.onerror)!==null&&o!==void 0?o:function(J){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(J){}},U=this.webSocketFactory.create(y,Gx(m),L);U.connect(),await v;const G={setup:{model:Ve(this.apiClient,t.model)}};return U.send(JSON.stringify(G)),new qx(U,this.apiClient)}}class qx{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=wS(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=CS(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Il.PLAY)}pause(){this.sendPlaybackControl(Il.PAUSE)}stop(){this.sendPlaybackControl(Il.STOP)}resetContext(){this.sendPlaybackControl(Il.RESET_CONTEXT)}close(){this.conn.close()}}function Gx(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function Vx(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ox(i,t,o){const a=new Tv;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(i.isVertexAI()){const m=NS(d);Object.assign(a,m)}else Object.assign(a,d);t(a)}class Fx{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new zx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,u,d,m,p;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&Wg(t.config.tools)&&$g(b);const x=Xx(b);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,v);else{const B=this.apiClient.getApiKey();let oe="BidiGenerateContent",Q="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",Q="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${oe}?${Q}=${B}`}let _=()=>{};const L=new Promise(B=>{_=B}),U=t.callbacks,ee=function(){var B;(B=U==null?void 0:U.onopen)===null||B===void 0||B.call(U),_({})},z=this.apiClient,G={onopen:ee,onmessage:B=>{Ox(z,U.onmessage,B)},onerror:(o=U==null?void 0:U.onerror)!==null&&o!==void 0?o:function(B){},onclose:(a=U==null?void 0:U.onclose)!==null&&a!==void 0?a:function(B){}},J=this.webSocketFactory.create(v,Kx(x),G);J.connect(),await L;let F=Ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const B=this.apiClient.getProject(),oe=this.apiClient.getLocation();F=`projects/${B}/locations/${oe}/`+F}let te={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[is.AUDIO]}:t.config.responseModalities=[is.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(p=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[],V=[];for(const B of ne)if(this.isCallableTool(B)){const oe=B;V.push(await oe.tool())}else V.push(B);V.length>0&&(t.config.tools=V);const Z={model:F,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?te=ES(this.apiClient,Z):te=xS(this.apiClient,Z),delete te.config,J.send(JSON.stringify(te)),new Jx(J,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Yx={turnComplete:!0};class Jx{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=pn(o.turns),t.isVertexAI()||(a=a.map(u=>rs(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(Bx)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},Yx),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:AS(t)}:o={realtimeInput:_S(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function Kx(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function Xx(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gg=10;function pg(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ul(m)){u=!0;break}if(!u)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Ul(i){return"callTool"in i&&typeof i.callTool=="function"}function jx(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(u=>Ul(u)))!==null&&a!==void 0?a:!1}function yg(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,u)=>{if(Ul(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(u)}),o}function vg(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends Zn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,u,d,m,p;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!jx(o)||pg(o.config))return await this.generateContentInternal(y);const g=yg(o);if(g.length>0){const U=g.map(ee=>`tools[${ee}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let v,b;const x=pn(y.contents),_=(d=(u=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:gg;let L=0;for(;L<_&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const U=v.candidates[0].content,ee=[];for(const z of(p=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[])if(Ul(z)){const J=await z.callTool(v.functionCalls);ee.push(...J)}L++,b={role:"user",parts:ee},y.contents=pn(y.contents),y.contents.push(U),y.contents.push(b),vg(y.config)&&(x.push(U),x.push(b))}return vg(y.config)&&(v.automaticFunctionCallingHistory=x),v},this.generateContentStream=async o=>{var a,u,d,m,p;if(this.maybeMoveToResponseJsonSchem(o),pg(o.config)){const b=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(b)}const y=yg(o);if(y.length>0){const b=y.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(d=(u=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,v=(p=(m=o==null?void 0:o.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var u;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let p;return d?p={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:p={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},p}),this.list=async o=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Ji(Qn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(m),m)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var a,u,d,m,p,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(d=o.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((y=(p=o.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,u;const d=(o=t.config)===null||o===void 0?void 0:o.tools;if(!d)return t;const m=await Promise.all(d.map(async y=>Ul(y)?await y.tool():y)),p={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(p.config.tools=m,t.config&&t.config.tools&&Wg(t.config.tools)){const y=(u=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),$g(g),p.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(t){var o,a,u;const d=new Map;for(const m of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Ul(m)){const p=m,y=await p.tool();for(const g of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,p)}}return d}async processAfcStream(t){var o,a,u;const d=(u=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:gg;let m=!1,p=0;const y=await this.initAfcToolsMap(t);return(function(g,v,b){var x,_;return kl(this,arguments,function*(){for(var L,U,ee,z;p<d;){m&&(p++,m=!1);const te=yield it(g.processParamsMaybeAddMcpUsage(b)),ne=yield it(g.generateContentStreamInternal(te)),V=[],Z=[];try{for(var G=!0,J=(U=void 0,Lo(ne)),F;F=yield it(J.next()),L=F.done,!L;G=!0){z=F.value,G=!1;const B=z;if(yield yield it(B),B.candidates&&(!((x=B.candidates[0])===null||x===void 0)&&x.content)){Z.push(B.candidates[0].content);for(const oe of(_=B.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(p<d&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(oe.functionCall.name)){const Q=yield it(v.get(oe.functionCall.name).callTool([oe.functionCall]));V.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(B){U={error:B}}finally{try{!G&&!L&&(ee=J.return)&&(yield it(ee.call(J)))}finally{if(U)throw U.error}}if(V.length>0){m=!0;const B=new Uo;B.candidates=[{content:{role:"user",parts:V}}],yield yield it(B);const oe=[];oe.push(...Z),oe.push({role:"user",parts:V});const Q=pn(b.contents).concat(oe);b.contents=Q}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=cg(this.apiClient,t);return p=ue("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=fg(v),x=new Uo;return Object.assign(x,b),x})}else{const g=ug(this.apiClient,t);return p=ue("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=dg(v),x=new Uo;return Object.assign(x,b),x})}}async generateContentStreamInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=cg(this.apiClient,t);return p=ue("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(b){return kl(this,arguments,function*(){var x,_,L,U;try{for(var ee=!0,z=Lo(b),G;G=yield it(z.next()),x=G.done,!x;ee=!0){U=G.value,ee=!1;const J=U,F=fg(yield it(J.json()));F.sdkHttpResponse={headers:J.headers};const te=new Uo;Object.assign(te,F),yield yield it(te)}}catch(J){_={error:J}}finally{try{!ee&&!x&&(L=z.return)&&(yield it(L.call(z)))}finally{if(_)throw _.error}}})})}else{const g=ug(this.apiClient,t);return p=ue("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(b){return kl(this,arguments,function*(){var x,_,L,U;try{for(var ee=!0,z=Lo(b),G;G=yield it(z.next()),x=G.done,!x;ee=!0){U=G.value,ee=!1;const J=U,F=dg(yield it(J.json()));F.sdkHttpResponse={headers:J.headers};const te=new Uo;Object.assign(te,F),yield yield it(te)}}catch(J){_={error:J}}finally{try{!ee&&!x&&(L=z.return)&&(yield it(L.call(z)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=lb(this.apiClient,t);return p=ue("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=ab(v),x=new Km;return Object.assign(x,b),x})}else{const g=ib(this.apiClient,t);return p=ue("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=ob(v),x=new Km;return Object.assign(x,b),x})}}async generateImagesInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=yb(this.apiClient,t);return p=ue("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=Tb(v),x=new Xm;return Object.assign(x,b),x})}else{const g=pb(this.apiClient,t);return p=ue("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=vb(v),x=new Xm;return Object.assign(x,b),x})}}async editImageInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=$S(this.apiClient,t);return d=ue("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=eb(y),v=new rv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=yx(this.apiClient,t);return d=ue("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=vx(y),v=new uv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=Wb(this.apiClient,t);return d=ue("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=$b(y),v=new cv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=ox(this.apiClient,t);return d=ue("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=ax(y),v=new dv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Pb(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Lu(v))}else{const g=Lb(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Uu(v))}}async listInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Yb(this.apiClient,t);return p=ue("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=Kb(v),x=new jm;return Object.assign(x,b),x})}else{const g=Fb(this.apiClient,t);return p=ue("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=Jb(v),x=new jm;return Object.assign(x,b),x})}}async update(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=gx(this.apiClient,t);return p=ue("{model}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Lu(v))}else{const g=mx(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Uu(v))}}async delete(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=jS(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=ZS(v),x=new Qm;return Object.assign(x,b),x})}else{const g=XS(this.apiClient,t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=QS(v),x=new Qm;return Object.assign(x,b),x})}}async countTokens(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=YS(this.apiClient,t);return p=ue("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=KS(v),x=new Zm;return Object.assign(x,b),x})}else{const g=FS(this.apiClient,t);return p=ue("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=JS(v),x=new Zm;return Object.assign(x,b),x})}}async computeTokens(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=HS(this.apiClient,t);return d=ue("{model}:computeTokens",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const g=zS(y),v=new fv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=wb(this.apiClient,t);return p=ue("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=Eb(v),x=new ls;return Object.assign(x,b),x})}else{const g=Cb(this.apiClient,t);return p=ue("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const b=xb(v),x=new ls;return Object.assign(x,b),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends Zn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=nv(t);return p=ue("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const g=tv(t);return p=ue("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=X0(t);return d=ue("{resourceName}:fetchPredictOperation",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(i){const t={},o=r(i,["data"]);if(o!=null&&c(t,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $x(i){const t={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>rE(d))),c(t,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(t,["role"],a),t}function eE(i,t,o){const a={},u=r(t,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(t,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const m=r(t,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const p=r(t,["liveConnectConstraints"]);o!==void 0&&p!=null&&c(o,["bidiGenerateContentSetup"],sE(i,p));const y=r(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function tE(i,t){const o={},a=r(t,["config"]);return a!=null&&c(o,["config"],eE(i,a,o)),o}function nE(i){const t={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iE(i){const t={},o=r(i,["id"]);o!=null&&c(t,["id"],o);const a=r(i,["args"]);a!=null&&c(t,["args"],a);const u=r(i,["name"]);if(u!=null&&c(t,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lE(i){const t={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function oE(i){const t={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function aE(i,t){const o={},a=r(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=r(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const p=r(i,["topK"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topK"],p);const y=r(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=r(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const b=r(i,["speechConfig"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","speechConfig"],Ju(b));const x=r(i,["thinkingConfig"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","thinkingConfig"],x);const _=r(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],_);const L=r(i,["systemInstruction"]);t!==void 0&&L!=null&&c(t,["setup","systemInstruction"],$x(Ut(L)));const U=r(i,["tools"]);if(t!==void 0&&U!=null){let ne=Hl(U);Array.isArray(ne)&&(ne=ne.map(V=>cE(Pl(V)))),c(t,["setup","tools"],ne)}const ee=r(i,["sessionResumption"]);t!==void 0&&ee!=null&&c(t,["setup","sessionResumption"],uE(ee));const z=r(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const G=r(i,["outputAudioTranscription"]);t!==void 0&&G!=null&&c(t,["setup","outputAudioTranscription"],G);const J=r(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&c(t,["setup","realtimeInputConfig"],J);const F=r(i,["contextWindowCompression"]);t!==void 0&&F!=null&&c(t,["setup","contextWindowCompression"],F);const te=r(i,["proactivity"]);return t!==void 0&&te!=null&&c(t,["setup","proactivity"],te),o}function sE(i,t){const o={},a=r(t,["model"]);a!=null&&c(o,["setup","model"],Ve(i,a));const u=r(t,["config"]);return u!=null&&c(o,["config"],aE(u,o)),o}function rE(i){const t={},o=r(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(t,["fileData"],nE(d));const m=r(i,["functionCall"]);m!=null&&c(t,["functionCall"],iE(m));const p=r(i,["functionResponse"]);p!=null&&c(t,["functionResponse"],p);const y=r(i,["inlineData"]);y!=null&&c(t,["inlineData"],Wx(y));const g=r(i,["text"]);g!=null&&c(t,["text"],g);const v=r(i,["thought"]);v!=null&&c(t,["thought"],v);const b=r(i,["thoughtSignature"]);b!=null&&c(t,["thoughtSignature"],b);const x=r(i,["videoMetadata"]);return x!=null&&c(t,["videoMetadata"],x),t}function uE(i){const t={},o=r(i,["handle"]);if(o!=null&&c(t,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function cE(i){const t={},o=r(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(b=>b)),c(t,["functionDeclarations"],v)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(t,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=r(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=r(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],lE(p));const y=r(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],oE(y));const g=r(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dE(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${o}.${d}`);t.push(...u)}else t.push(o)}return t.join(",")}function fE(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const d=dE(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];u.length>0&&(p=u.map(g=>m.includes(g)?`generationConfig.${g}`:g));const y=[];d&&y.push(d),p.length>0&&y.push(...p),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class hE extends Zn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=tE(this.apiClient,t);d=ue("auth_tokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query;const y=fE(p,t.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mE(i,t){const o={},a=r(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function gE(i){const t={},o=r(i,["config"]);return o!=null&&mE(o,t),t}function pE(i,t){const o={},a=r(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function yE(i){const t={},o=r(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=r(i,["config"]);return a!=null&&pE(a,t),t}function vE(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function TE(i,t){const o={},a=r(i,["customMetadata"]);if(t!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return t!==void 0&&u!=null&&c(t,["chunkingConfig"],u),o}function SE(i){const t={},o=r(i,["name"]);o!=null&&c(t,["name"],o);const a=r(i,["metadata"]);a!=null&&c(t,["metadata"],a);const u=r(i,["done"]);u!=null&&c(t,["done"],u);const d=r(i,["error"]);d!=null&&c(t,["error"],d);const m=r(i,["response"]);return m!=null&&c(t,["response"],xE(m)),t}function bE(i){const t={},o=r(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=r(i,["fileName"]);a!=null&&c(t,["fileName"],a);const u=r(i,["config"]);return u!=null&&TE(u,t),t}function xE(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(t,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function EE(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function CE(i){const t={},o=r(i,["config"]);return o!=null&&EE(o,t),t}function wE(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["fileSearchStores"],d)}return t}function _E(i,t){const o={},a=r(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const u=r(i,["displayName"]);t!==void 0&&u!=null&&c(t,["displayName"],u);const d=r(i,["customMetadata"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>y)),c(t,["customMetadata"],p)}const m=r(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),o}function AE(i){const t={},o=r(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=r(i,["config"]);return a!=null&&_E(a,t),t}function NE(i){const t={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RE(i,t){const o={},a=r(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function ME(i){const t={},o=r(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=r(i,["config"]);return a!=null&&RE(a,t),t}function IE(i){const t={},o=r(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function DE(i,t){const o={},a=r(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const u=r(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function kE(i){const t={},o=r(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=r(i,["config"]);return a!=null&&DE(a,t),t}function UE(i){const t={},o=r(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LE extends Zn{constructor(t){super(),this.apiClient=t,this.list=async o=>new Ji(Qn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=IE(t);return d=ue("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ME(t);u=ue("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=kE(t);return d=ue("{parent}/documents",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=UE(y),v=new hv;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PE extends Zn{constructor(t,o=new LE(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Ji(Qn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gE(t);return d=ue("fileSearchStores",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vE(t);return d=ue("{name}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yE(t);u=ue("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=CE(t);return d=ue("fileSearchStores",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=wE(y),v=new mv;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AE(t);return d=ue("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=NE(y),v=new gv;return Object.assign(v,g),v})}}async importFile(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=bE(t);return d=ue("{file_search_store_name}:importFile",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),u.then(y=>{const g=SE(y),v=new Vu;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function zE(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function qE(i,t,o){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&c(t,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const m=r(i,["learningRateMultiplier"]);if(m!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=r(i,["batchSize"]);t!==void 0&&p!=null&&c(t,["tuningTask","hyperparameters","batchSize"],p);const y=r(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function GE(i,t,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const _=r(i,["validationDataset"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec"],Tg(_))}else if(u==="PREFERENCE_TUNING"){const _=r(i,["validationDataset"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec"],Tg(_))}const d=r(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const m=r(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let p=r(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const _=r(i,["epochCount"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(p==="PREFERENCE_TUNING"){const _=r(i,["epochCount"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let y=r(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const _=r(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(y==="PREFERENCE_TUNING"){const _=r(i,["learningRateMultiplier"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let g=r(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=r(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(g==="PREFERENCE_TUNING"){const _=r(i,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let v=r(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const _=r(i,["adapterSize"]);t!==void 0&&_!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(v==="PREFERENCE_TUNING"){const _=r(i,["adapterSize"]);t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=r(i,["labels"]);t!==void 0&&b!=null&&c(t,["labels"],b);const x=r(i,["beta"]);return t!==void 0&&x!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],x),a}function VE(i,t){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&WE(d);const m=r(i,["config"]);return m!=null&&qE(m,o),o}function BE(i,t){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&$E(d,o,t);const m=r(i,["config"]);return m!=null&&GE(m,o,t),o}function OE(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function FE(i,t){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function YE(i,t,o){const a={},u=r(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const d=r(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=r(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function JE(i,t,o){const a={},u=r(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const d=r(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=r(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),a}function KE(i,t){const o={},a=r(i,["config"]);return a!=null&&YE(a,o),o}function XE(i,t){const o={},a=r(i,["config"]);return a!=null&&JE(a,o),o}function jE(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>ep(p))),c(o,["tuningJobs"],m)}return o}function QE(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>Hu(p))),c(o,["tuningJobs"],m)}return o}function ZE(i,t){const o={},a=r(i,["name"]);a!=null&&c(o,["model"],a);const u=r(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function WE(i,t){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(o,["examples","examples"],u)}return o}function $E(i,t,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=r(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=r(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=r(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=r(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=r(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function ep(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Lg(d));const m=r(i,["createTime"]);m!=null&&c(o,["createTime"],m);const p=r(i,["tuningTask","startTime"]);p!=null&&c(o,["startTime"],p);const y=r(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=r(i,["description"]);v!=null&&c(o,["description"],v);const b=r(i,["baseModel"]);b!=null&&c(o,["baseModel"],b);const x=r(i,["_self"]);return x!=null&&c(o,["tunedModel"],ZE(x)),o}function Hu(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],Lg(d));const m=r(i,["createTime"]);m!=null&&c(o,["createTime"],m);const p=r(i,["startTime"]);p!=null&&c(o,["startTime"],p);const y=r(i,["endTime"]);y!=null&&c(o,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=r(i,["error"]);v!=null&&c(o,["error"],v);const b=r(i,["description"]);b!=null&&c(o,["description"],b);const x=r(i,["baseModel"]);x!=null&&c(o,["baseModel"],x);const _=r(i,["tunedModel"]);_!=null&&c(o,["tunedModel"],_);const L=r(i,["preTunedModel"]);L!=null&&c(o,["preTunedModel"],L);const U=r(i,["supervisedTuningSpec"]);U!=null&&c(o,["supervisedTuningSpec"],U);const ee=r(i,["preferenceOptimizationSpec"]);ee!=null&&c(o,["preferenceOptimizationSpec"],ee);const z=r(i,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const G=r(i,["encryptionSpec"]);G!=null&&c(o,["encryptionSpec"],G);const J=r(i,["partnerModelTuningSpec"]);J!=null&&c(o,["partnerModelTuningSpec"],J);const F=r(i,["customBaseModel"]);F!=null&&c(o,["customBaseModel"],F);const te=r(i,["experiment"]);te!=null&&c(o,["experiment"],te);const ne=r(i,["labels"]);ne!=null&&c(o,["labels"],ne);const V=r(i,["outputUri"]);V!=null&&c(o,["outputUri"],V);const Z=r(i,["pipelineJob"]);Z!=null&&c(o,["pipelineJob"],Z);const B=r(i,["serviceAccount"]);B!=null&&c(o,["serviceAccount"],B);const oe=r(i,["tunedModelDisplayName"]);oe!=null&&c(o,["tunedModelDisplayName"],oe);const Q=r(i,["veoTuningSpec"]);return Q!=null&&c(o,["veoTuningSpec"],Q),o}function eC(i,t){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["metadata"]);d!=null&&c(o,["metadata"],d);const m=r(i,["done"]);m!=null&&c(o,["done"],m);const p=r(i,["error"]);return p!=null&&c(o,["error"],p),o}function Tg(i,t){const o={},a=r(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tC extends Zn{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Ji(Qn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:Mu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=FE(t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>Hu(v))}else{const g=OE(t);return p=ue("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>ep(v))}}async listInternal(t){var o,a,u,d;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=XE(t);return p=ue("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=QE(v),x=new Wm;return Object.assign(x,b),x})}else{const g=KE(t);return p=ue("tunedModels",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(b=>{const x=b;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const b=jE(v),x=new Wm;return Object.assign(x,b),x})}}async cancel(t){var o,a,u,d;let m="",p={};if(this.apiClient.isVertexAI()){const y=zE(t);m=ue("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=HE(t);m=ue("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI()){const p=BE(t,t);return d=ue("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Hu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=VE(t);return d=ue("tunedModels",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>eC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const iC=1024*1024*8,lC=3,oC=1e3,aC=2,as="x-goog-upload-status";async function sC(i,t,o){var a;const u=await tp(i,t,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rC(i,t,o){var a;const u=await tp(i,t,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[as])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=Rg(d),p=new Bu;return Object.assign(p,m),p}async function tp(i,t,o){var a,u;let d=0,m=0,p=new Iu(new Response),y="upload";for(d=i.size;m<d;){const g=Math.min(iC,d-m),v=i.slice(m,m+g);m+g>=d&&(y+=", finalize");let b=0,x=oC;for(;b<lC&&(p=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(g)}}}),!(!((a=p==null?void 0:p.headers)===null||a===void 0)&&a[as]));)b++,await cC(x),x=x*aC;if(m+=g,((u=p==null?void 0:p.headers)===null||u===void 0?void 0:u[as])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function uC(i){return{size:i.size,type:i.type}}function cC(i){return new Promise(t=>setTimeout(t,i))}class dC{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sC(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rC(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uC(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC{create(t,o,a){return new hC(t,o,a)}}class hC{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sg="x-goog-api-key";class mC{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Sg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Sg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gC="gl-node/";class pC{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=J0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion;const u=new mC(this.apiKey);this.apiClient=new Ix({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:gC+"web",uploader:new dC,downloader:new nC}),this.models=new Qx(this.apiClient),this.live=new Fx(this.apiClient,u,new fC),this.batches=new bT(this.apiClient),this.chats=new nS(this.models,this.apiClient),this.caches=new $T(this.apiClient),this.files=new fS(this.apiClient),this.operations=new Zx(this.apiClient),this.authTokens=new hE(this.apiClient),this.tunings=new tC(this.apiClient),this.fileSearchStores=new PE(this.apiClient)}}const yC=i=>new Promise((t,o)=>{const a=new FileReader;a.onloadend=()=>{if(a.error)return o(a.error);const d=a.result.split(",")[1];t(d)},a.onerror=u=>o(u),a.readAsDataURL(i)}),vC=[{id:"floral-arch-door",name:"Floral Arch Doorway",name_vn:"Cng hoa",thumbnailUrl:"https://canvasvietnam.com/images/background1.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into A magnificent, ornate arched doorway of a stately building, lavishly adorned with a voluminous floral garland. The garland features a romantic blend of lush blush pink garden roses, smaller spray roses, and large, fluffy creamy white dahlias, interspersed with rich, dark green foliage (such as eucalyptus or ferns). The floral arrangement follows the entire arch, extending generously down both sides of the entrance, and culminates in two large, symmetrical floral arrangements flanking the base of the doorway. The doorway itself consists of double, dark, rich brown wooden doors with intricate carved panels and classic dark metal door handles/knobs. The arch is framed by light-colored stone or stucco, suggesting classic architectural details. The ground in front is a natural stone pathway, gently scattered with creamy white and pale pink rose petals. A few delicate petals appear to be floating or falling in the air, adding a whimsical touch. The scene is bathed in bright, soft natural daylight, creating gentle highlights and shadows that enhance texture and depth. The overall aesthetic is romantic, elegant, luxurious, and inviting.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"indoor-curtain-arch",name:"Indoor Curtain Arch",name_vn:"Cng trong nh",thumbnailUrl:"https://canvasvietnam.com/images/background3.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into an elegant indoor wedding ceremony backdrop. A beautiful arch is heavily decorated with white and cream roses and abundant green foliage. Two large white classical urns with matching floral arrangements stand on either side. The floor is white and strewn with white petals. In the background, soft, sheer white curtains are backlit by gentle sunlight, creating a dreamy and romantic atmosphere. Several white pillar candles are lit on the floor, adding to the warm ambiance.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"grand-window-room",name:"Grand Window Room",name_vn:"Phng ca s ln",thumbnailUrl:"https://canvasvietnam.com/images/background2.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into A grand, elegantly lit interior hall with a pristine, bright aesthetic. The central focus is a magnificent, tall, vertical display featuring objects positioned directly in front of a vast, ornate arched window. This window features intricate leaded glass detailing in the upper fanlight section, with multiple clear panes below, allowing abundant natural light to flood the space. The window is flanked by classical fluted columns with detailed golden Corinthian capitals, all set within a beautifully molded archway. The walls are smooth, rendered in a pristine palette of creamy white, ivory, and soft beige tones. The polished floor, also in light cream or white, reflects the bright light, creating a luminous and expansive feel. Sunlight streams through the window, casting soft, elongated shadows and bright highlights on the floor and architecture. The overall atmosphere is one of serene grandeur, classical elegance, and bright sophistication, reminiscent of a luxurious event space or neo-classical palace. The composition is centered, emphasizing the height and luminosity of the scene, with the [NEW SUBJECT] serving as the vibrant focal point against the softly lit architectural backdrop. Style: Neoclassical, luxurious, ethereal, bright, high-key photography, architectural elegance. Colors: Predominantly cream, ivory, soft white, pale gold accents, subtle warm undertones, with natural greens and soft blushes or colors complementary to the object.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Song H",thumbnailUrl:"https://canvasvietnam.com/images/background4.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that have setting featuring A large, central three-dimensional structure of "double happiness" () symbol is meticulously wrapped in rich, deep red satin fabric. The fabric exhibits elegant, soft folds and subtle creases, creating a luxurious, slightly ruffled texture and enhancing its three-dimensionality. Two vibrant floral arrangements adorn this red structure: one is positioned at its top-left, and the other at its bottom-right. Each arrangement features a lavish mix of crimson and scarlet flowers (such as small poinsettias or wild strawberries), delicate white or cream blossoms (like jasmine or tiny apple blossoms), clusters of bright red berries, and abundant dark green pine-like foliage. These bouquets possess depth and natural layering. Numerous individual red flower petals are scattered throughout the scene, some gently floating in the mid-air around the central red form, and a higher concentration softly resting on the ground in the bottom half of the frame. The petals are depicted with subtle variations in shape and orientation, suggesting natural movement. The background is a clean, warm, and uniform light beige or off-white, providing a neutral canvas that makes the red and green elements pop. The lighting is soft, diffuse, and even, casting gentle shadows that define the contours of the fabric-wrapped form and the textures of the floral arrangements, creating a refined and celebratory atmosphere. The overall composition is balanced and elegant, with the main subject prominently centered. The perspective is eye-level to slightly elevated, looking down just enough to show the scattered petals on the ground.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Tri tim hng",thumbnailUrl:"https://canvasvietnam.com/images/background5.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that A breathtaking, romantic landscape designed to embody the essence of love and devotion, perfect for a Valentine's Day setting. The scene is set in a vast field of delicate pink cherry blossoms, with soft petals gently swaying in the breeze. The entire landscape is immersed in a romantic pink hue, with rolling hills and distant mountains in the background, adding depth to the composition. The sky is a brilliant azure blue, scattered with fluffy white clouds, illuminated by the golden rays of the sun, casting a warm, ethereal glow over the scenery. At the center, a magnificent floral heart sculpture made entirely of vibrant pink blossoms stands as a grand centerpiece, symbolizing eternal love. The heart is adorned with delicate white butterflies, their wings shimmering in the sunlight as they flutter gracefully in the air. More pink butterflies fill the sky, creating a sense of movement and magic. The foreground is filled with blooming rose bushes and cherry blossom branches, framing the scene perfectly and adding an extra layer of depth to the composition. The soft-focus effect on the flowers in the foreground enhances the dreamy aesthetic of the scene. Everything in the image is designed to evoke an overwhelming sense of love, warmth, and happiness, making it the perfect setting for a romantic Valentine's Day celebrationan unforgettable paradise of beauty and passion
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Nn en kim tuyn",thumbnailUrl:"https://canvasvietnam.com/images/background6.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features a dramatic and deep sense of space. A powerful, defined, and volumetric light ray originates from the top-center, extending downwards and slightly fanning out, dramatically cutting through the scene and illuminating floating particles. The light source itself is unseen, implied to be off-frame. The bottom third of the image is dominated by a dense, horizontal band of finely textured, glowing glitter, resembling a magical ground or surface. The mid-ground is densely filled with numerous bokeh circles and sparkling particulate matter, varying significantly in size from large, soft-focus spheres to tiny, pinprick glimmers. The upper-left quadrant is intentionally left relatively clear to accommodate a potential main subject, while still interacting with the overall atmospheric effects. The composition should convey profound depth and a sense of wonder.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Nn en huyn o",thumbnailUrl:"https://canvasvietnam.com/images/background7.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that have detailed, atmospheric cosmic dreamscape featuring a dramatic, ethereal beam of light originating from the top center and fanning downwards through a dark, deep indigo-blue and black starry night sky. Countless small, shimmering white and silver star-like dust particles are scattered across the entire image, appearing denser and more luminous within the celestial light beam. Some larger, brighter star glints are also present, adding depth to the starry field. The overall style is dreamy, romantic, and enchanting, with a soft, glowing ambiance.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"N trng hoa",thumbnailUrl:"https://canvasvietnam.com/images/background (1).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a beautiful, grand backdrop featuring a gigantic, luxurious fabric bow in white, adorned with small, delicate 3D appliqu pastel flowers. This bow serves as an exquisite, elegant setting for the couple, draping elegantly behind and around them without overpowering their presence. The fabric has a smooth, lustrous texture (silk, satin). The background is a seamless, high-key studio backdrop in a very light, warm off-white or cream. Delicate clusters of realistic wild-style flowers and greenery in complementary pastel tones appear on the ground plane, subtly enhancing the scene. The couple should be prominently featured, taking up a significant portion of the frame, well-integrated with the grandeur of the bow. The image is illuminated by soft, diffused, and even studio lighting that creates subtle shadows and gentle highlights, emphasizing the curves and dimensionality of the main subject. The couple should be prominently featured, taking up a significant portion of the frame, well-integrated with the grandeur of the background.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Ngi nh bm bm",thumbnailUrl:"https://canvasvietnam.com/images/background (2).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring Monochromatic white ethereal scene, archways, abundant white flowers and branches, numerous white butterflies, soft lighting, serene, dreamy, elegant, wedding aesthetic, ultra realistic.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa v bm",thumbnailUrl:"https://canvasvietnam.com/images/background (3).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring a multi-tiered white circular podium or stage, suggesting a display platform. Behind this podium, there's a backdrop of white architectural arches, creating a sense of depth and elegance. The overall color scheme is predominantly white and light grey, contributing to a clean, serene, and almost heavenly atmosphere, What makes the image truly enchanting is the abundant natural elements: Delicate white flowering branches (resembling cherry blossoms or baby's breath) are artfully draped around and through the arches, as well as surrounding the base of the podium. These blossoms add texture and a soft, organic feel to the stark white architecture, Interspersed with the white flowers are clusters of light pink flowers, providing a gentle pop of color and warmth, Numerous butterflies in shades of white and soft pink are scattered throughout the scene, some appearing to fly, others resting on the branches and podium. They enhance the magical and whimsical quality of the image, suggesting movement and life. The lighting appears soft and even, highlighting the clean lines of the architecture and the delicate details of the flowers and butterflies.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Hong hn tm",thumbnailUrl:"https://canvasvietnam.com/images/background (5).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring a dreamy landscape, large arch covered in purple wisteria flowers, flying butterflies, sunset sky with purple and pink clouds, calm lake, mountains in background, serene, magical atmosphere, ultra realistic.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa trng",thumbnailUrl:"https://canvasvietnam.com/images/background (9).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring A breathtakingly ethereal and serene architectural fantasy scene. A grand, classical hallway stretches into the distance, lined with elegant white columns and majestic arches. The entire space is bathed in brilliant, soft, diffused light, emanating from a distant, unseen opening at the end of the hall, creating a strong sense of depth and a luminous, high-key atmosphere. Abundant, delicate white blossoms with subtle greenish-yellow centers cascade throughout the scene. These flowers form dense, voluminous bushes and soft, conical piles along the base of the columns and the sides of the pathway, resembling stylized floral snowdrifts. Slender, dark branches heavily laden with these white blossoms gracefully extend into the foreground and upper portions of the frame, framing the arched pathways. Some individual petals appear to gently float or fall, caught in the light. The dominant color palette is pure white, off-white, and very light grey, with subtle cool undertones of pale blue in the distant light and on the polished floor. The white architecture features intricate, baroque-inspired relief carvings on the high arches and ceiling, adding texture and grandeur. Strong, clear sunlight casts crisp, artistic shadows of the floral branches and architectural details onto the pale, reflective floor, adding depth, rhythm, and visual interest. The composition features a slightly low-angle perspective, emphasizing the grandeur of the architecture and the overwhelming beauty of the blossoms. The receding arches and layered floral arrangements create strong leading lines, drawing the eye towards the bright, mystical vanishing point. The overall style is hyperrealistic yet dreamlike and fantastical, focusing on delicate textures, soft, cinematic lighting, and a feeling of pristine tranquility.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa hong hn",thumbnailUrl:"https://canvasvietnam.com/images/background (10).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring a breathtaking, romantic backdrop featuring a majestic floral archway, richly adorned with lush pastel pink roses, lavender, and various purple blossoms. This vibrant archway stands prominently behind the couple, framing them beautifully. The background opens up to a serene, still body of water, leading to a soft, glowing horizon under a sky painted with gentle blues, purples, lavenders, and blush pinks, suggesting dawn or twilight. Numerous vibrant purple and pink butterflies flutter around the arch and above the water. Delicate, blossoming tree branches extend from the top corners of the frame, adding depth. The water's edge is adorned with dense, flowering flora, and the reflective water surface mirrors the pastel hues. The couple should be prominently positioned in the foreground, large and clearly visible, making them the central focus of this dreamy and tranquil scene. The aesthetic is fantasycore and romantic, with diffused, magical lighting.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Thin ng",thumbnailUrl:"https://canvasvietnam.com/images/background (11).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features a magnificent, ethereal classical interior. The couple should be very large, filling the majority of the vertical frame, from near the bottom edge to just below the top, making them the absolute central and dominant focus. They stand gracefully on a highly reflective white marble floor, which is dramatically filled with soft, billowy white cumulus clouds. In the background, three tall, arched windows look out onto a sky filled with more white clouds, allowing bright, atmospheric light and dramatic shafts of warm sunlight to stream into the room. The walls and ornate ceiling display intricate white classical plasterwork. The overall aesthetic is pristine, immersive, and otherworldly, with a strong sense of depth.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa trng",thumbnailUrl:"https://canvasvietnam.com/images/background (12).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features A grand, opulent archway meticulously adorned with an abundance of pristine white floral arrangements, primarily featuring dense clusters of white cherry blossoms, delicate baby's breath, and full, elegant white hydrangeas and roses, creating a lush, cascading, and voluminous effect. Numerous ethereal white and cream-colored butterflies are gracefully scattered throughout the floral arch and artfully fluttering around it, some appearing to ascend or descend. The arch frames an empty, serene space. To the left, a classic, off-white paneled wall with subtle architectural molding. To the right, tall, arched windows with sheer, translucent white curtains allow diffused, bright natural light to stream in, creating a soft glow. The floor is a seamless, luminous white, reflecting some of the light and casting subtle, elongated shadows. The overall lighting is high-key, soft, and volumetric, generating a dreamlike, airy, and elegant atmosphere with gentle backlighting from the windows. The color palette is monochromatic, dominated by pure whites, creams, ivories, and subtle off-whites, with minimal warm beige or light grey undertones in the shadows and butterfly wings. The composition is wide, with the magnificent floral arch serving as the central, dominant element, perfectly framing the empty space within. The arch extends from the floor on both sides, meeting at the top, creating a visually symmetrical yet dynamic focal point. The delicate details of each petal and butterfly wing are rendered in ultra-high resolution with a photorealistic, award-winning quality.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa thin ng",thumbnailUrl:"https://canvasvietnam.com/images/background (20).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features A grand, classical white architectural archway, heavily adorned and overflowing with abundant, delicate white blossoms and lush, subtle green foliage. The arch is centered in the frame, serving as a majestic gateway. Beyond the arch, a vibrant, clear light blue sky with soft, wispy white clouds stretches across the background. Through the archway, a distant landscape reveals pristine white steps leading up to an elevated platform, surrounded by fields of more delicate white flowers and foliage, creating a sense of depth and a serene horizon.
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"C xanh",thumbnailUrl:"https://canvasvietnam.com/images/background (15).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features The couple is positioned slightly off-center, with ample bright, natural light on their faces and attire. The background is a lush, vibrant green field with softly blurred trees and foliage, indicating a shallow depth of field (bokeh) that keeps the couple sharply in focus. The lighting is warm and soft, suggestive of a golden hour, with the sun gently backlighting the bride's veil, creating a luminous, ethereal effect. The overall mood is tender, serene, and deeply romantic. The colors are dominated by vibrant greens, pristine whites, warm skin tones, and subtle blacks.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Bi bin hong hn",thumbnailUrl:"https://canvasvietnam.com/images/background (19).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features a serene beach at either sunrise or sunset. The sky is a stunning gradient of soft blues at the top, transitioning into warm oranges, pinks, and purples towards the horizon, illuminated by a radiant, glowing sun slightly above the horizon, casting a bright reflection path across the water. Fluffy, voluminous cumulus clouds are scattered across the sky, catching the warm light with their undersides. A delicate crescent moon, subtly glowing, is visible high in the sky. Gentle ocean waves roll onto a sandy beach, leaving foamy white surf. In the immediate foreground, vibrant white and pink daisy-like flowers with green foliage are artfully arranged along the edge of the sand, adding a touch of natural beauty and color. The sandy beach shows subtle footprints. The overall mood is tranquil, romantic, and ethereal, with soft, natural lighting and a dreamlike quality
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa gng",thumbnailUrl:"https://canvasvietnam.com/images/background (25).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features A tranquil and ethereal outdoor setting with prominent classical architectural elements. The scene features two large, elegant white arched structures, reminiscent of Roman or Greek architecture, framing a central view. Abundant clusters of delicate white cherry blossoms (or similar white flowers) with subtle green foliage are gracefully draped over and around these arches, extending into the foreground and sides of the frame. The ground beneath is a highly reflective, polished marble or water surface, mirroring the blue sky, white clouds, and the white blossoms above. In the background, visible through the arches, is a bright, clear blue sky dotted with soft, fluffy white cumulus clouds. Below the horizon line, a calm, expansive body of water (or a reflective floor extending to the horizon) perfectly mirrors the sky. The lighting is bright, soft, and natural, creating subtle highlights and shadows that emphasize the pristine white elements. The overall aesthetic is clean, dreamlike, and romantic, evoking a sense of purity and calmness
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
4. Make sure the subject(s) size 75% of the frame's height, the background is only serving as a grand and heavenly backdrop for the subject(s)`},{id:"double-happiness",name:"Double Happiness",name_vn:"Vi la hoa",thumbnailUrl:"https://canvasvietnam.com/images/background (25).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features An elegant and lush wedding or event decor setup, captured from a medium-low perspective, emphasizing abundance and natural sophistication. The background features a soft, flowing backdrop of pristine white or off-white fabric drapes, artfully gathered and draped with a prominent central U-shaped swag, framed by vertical folds on either side. From the top of the drapes, graceful strands of dark green foliage, resembling weeping willow branches, cascade downwards, adding a natural and organic touch. On the far left, natural outdoor light illuminates a glimpse of green trees and foliage, suggesting an open-air or semi-outdoor venue. In the midground, a long banquet table, covered with a crisp white tablecloth, is adorned with an extensive and opulent display of fresh floral arrangements. These arrangements are predominantly white and off-white, showcasing a rich variety of blooms including full white roses, fluffy hydrangeas, dense dahlias, and delicate smaller white blossoms. They are generously interspersed with touches of fresh light green and chartreuse foliage and flowers, such as ornamental cabbage or textured green leaves, providing subtle color variation. The floral displays are dense, lush, and continuous, forming a celebratory garland across the entire length of the table. Towards the right, the table covering transitions to a simpler, plain light grey or white surface. Below the table, at ground level, are large, rectangular arrangements of dense dark green foliage heavily studded with small white flowers, resembling elegant flower boxes or planters that complement the table decor. The foreground consists of a dark grey, subtly textured ground surface, appearing like stone or concrete paving, with faint lighter striations and specks. Small, natural clusters of white and light green flowers nestled within dark green foliage are also scattered directly on the ground in the foreground, mirroring the grander arrangements above. The overall aesthetic is one of sophisticated natural elegance, with a romantic, fresh, and serene ambiance. The dominant color palette is pure whites, creams, light greens, and deep greens, creating a harmonious and monochromatic feel. The lighting is soft, natural, and diffused, indicative of a bright daytime setting, casting gentle shadows that enhance the textures of the fabric and flowers. This image should be rendered in a high-resolution, professional photography style.
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
4. Make sure the subject(s) size 75% of the frame's height, the background is only serving as a grand and heavenly backdrop for the subject(s)`}],TC=({onSelectTemplate:i,onClose:t})=>{const{language:o,t:a}=ft();return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:a("chooseBackground")}),T.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:vC.map(u=>T.jsxs("div",{className:"cursor-pointer group",onClick:()=>i(u.prompt),children:[T.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg overflow-hidden border-2 border-transparent group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200",children:T.jsx("img",{src:u.thumbnailUrl,alt:u.name,className:"w-full h-full object-cover"})}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:o==="vn"?u.name_vn:u.name})]},u.id))})})]})})},SC=[{id:"none",name:"filterNone",className:""},{id:"vintage",name:"filterVintage",className:"filter-vintage"},{id:"lomo",name:"filterLomo",className:"filter-lomo"},{id:"clarendon",name:"filterClarendon",className:"filter-clarendon"},{id:"gingham",name:"filterGingham",className:"filter-gingham"},{id:"moon",name:"filterMoon",className:"filter-moon"},{id:"nashville",name:"filterNashville",className:"filter-nashville"},{id:"xpro2",name:"filterXpro2",className:"filter-xpro2"},{id:"willow",name:"filterWillow",className:"filter-willow"}],bC="https://api.allorigins.win/raw?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1500964757637-c85e8a162699%3Fq%3D80%26w%3D400",xC=({onSelectFilter:i,onClose:t})=>{const{t:o}=ft();return T.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:T.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col text-white",onClick:a=>a.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[T.jsx("h2",{className:"text-lg font-semibold",children:o("colorGrading")}),T.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-600",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:SC.map(a=>T.jsxs("div",{className:"cursor-pointer group",onClick:()=>{i(a.className),t()},children:[T.jsx("div",{className:"aspect-square bg-gray-700 rounded-md overflow-hidden border-2 border-transparent group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200",children:T.jsx("img",{src:bC,alt:o(a.name),className:`w-full h-full object-cover ${a.className}`})}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-300 group-hover:text-white",children:o(a.name)})]},a.id))})})]})})},EC=[{id:"watercolor",name:"indoor Lighting",name_vn:"nh sng trong phng",thumbnailUrl:"https://canvasvietnam.com/images/effect1.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Window light soft glow, natural daylight streaming through, soft highlights on hair and clothes, gentle shadows. Curtain diffused light, sunlight filtered through sheer curtains, warm and intimate indoor mood. Lamp warm glow, cozy golden highlights on hair, face and outfit, evening atmosphere. Ceiling light downcast, overhead illumination creating shadows under eyes and nose, dramatic indoor look. Chandelier sparkle, elegant highlights on hair and outfit, luxurious atmosphere. TV or screen glow, cool bluish light on face and clothes, cinematic night mood. Fireplace flicker, warm flickering highlights on hair and outfit, soft dancing shadows on walls. Candlelight intimacy, golden flickering glow on face, subtle reflections on clothes, romantic vintage vibe. Kitchen fluorescent light, harsh cool tones, flat shadows, realistic everyday atmosphere. Indoor spotlight, focused beam illuminating subject, dramatic contrast, theatrical mood".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
       `},{id:"oil-painting",name:"Gold hour lighting",name_vn:"Gi nng gi vng",thumbnailUrl:"https://canvasvietnam.com/images/effect2.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Golden hour backlighting with warm tones, soft rim light outlining hair, clothing, and contours of the subject. Gentle lens flare from the sunlight enhances the dreamy mood, while long natural shadows fall across the ground for depth and realism.".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"pop-art",name:"Fog",name_vn:"Sng m",thumbnailUrl:"https://canvasvietnam.com/images/effect3.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Fill the entire scene with extremely thick, impenetrable fog. The mist should be so dense that it almost completely erases the background and surroundings, leaving only faint, ghostly silhouettes barely visible in the distance. The atmosphere must feel heavy, overwhelming, and otherworldly, with layers of fog pressing against the scene like a white-gray curtain. The main subject in the foreground remains sharp and clear, while everything else is swallowed by the massive wall of fog. Hyper-cinematic, highly atmospheric, ultra-detailed, surreal".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"fantasy-dreamy",name:"Snow",name_vn:"Tuyt ri",thumbnailUrl:"https://canvasvietnam.com/images/effect4.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Snowfall scene with soft white snowflakes gently falling through the air, snow resting on hair, clothing, and surrounding environment. Cold bluish ambient tones with soft diffused light, creating a serene winter atmosphere. Subtle highlights on frosty textures, misty breath visible in the air.".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"cyberpunk-neon",name:"Indoor Window Shadow",name_vn:"nh sng qua ca s",thumbnailUrl:"https://canvasvietnam.com/images/effect5.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Golden hour sunlight filtered through window blinds, striped light patterns across face, hair, and clothes, dramatic shadows on the wall".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"cyberpunk-neon",name:"Night lighting",name_vn:"nh sng ban m",thumbnailUrl:"https://canvasvietnam.com/images/effect6.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "- Streetlight glow, warm yellow-orange pools of light, scattered shadows on the ground. Neon cinematic lighting, pink and blue reflections on skin and clothes. Soft moonlight, bluish tones, gentle shadows, calm night mood. Harsh on-camera flash at night, subject brightly lit, dark background. Car headlight backlight, strong rim light, atmospheric haze and smoke. Lantern warm glow, soft golden light, vintage magical mood".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"cyberpunk-neon",name:"Sunset lighting",name_vn:"Hong hn",thumbnailUrl:"https://canvasvietnam.com/images/effect7.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Golden hour warm backlight, glowing orange tones, long soft shadows. Blue hour ambient light, cool and dreamy atmosphere, soft gradient sky. Artistic sun flare, lens flare streaks, cinematic glow. Split light sunset, half illuminated face, dramatic shadow contrast".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `}],CC=({onSelectTemplate:i,onClose:t})=>{const{language:o,t:a}=ft();return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:a("chooseEffect")}),T.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:EC.map(u=>T.jsxs("div",{className:"cursor-pointer group",onClick:()=>i(u.prompt),children:[T.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg overflow-hidden border-2 border-transparent group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200",children:T.jsx("img",{src:u.thumbnailUrl,alt:u.name,className:"w-full h-full object-cover"})}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:o==="vn"?u.name_vn:u.name})]},u.id))})})]})})},wC=({data:i,spreadId:t,slotId:o,isMobile:a,onTransformChange:u,onRemove:d,isOverviewMode:m,onEnterEditMode:p,onExitEditMode:y,onAiRetouchImage:g,aiResolution:v})=>{const{image:b,transform:x}=i,{x:_,y:L,scale:U,rotation:ee,flipHorizontal:z,flipVertical:G}=x,[J,F]=j.useState(!1),[te,ne]=j.useState(!1),[V,Z]=j.useState(!1),[B,oe]=j.useState("transform"),[Q,fe]=j.useState(!1),[Ae,Me]=j.useState(!1),[ze,I]=j.useState(!1),[X,se]=j.useState(!1),ye=j.useRef(null),Te=j.useRef(null),w=j.useRef({x:0,y:0,imageX:0,imageY:0}),[P,ie]=j.useState({}),ae=j.useRef(0),{t:re}=ft();j.useEffect(()=>{const he=Te.current,He=ye.current,Fe=()=>{if(!he||!He)return;const{naturalWidth:Ye,naturalHeight:rt}=he,{offsetWidth:ht,offsetHeight:ut}=He;if(!Ye||!rt||!ht||!ut)return;const Je=Ye/rt,Ke=ht/ut;Je>Ke?ie({height:"100%",width:"auto"}):ie({width:"100%",height:"auto"})};he!=null&&he.complete&&he.naturalWidth>0?Fe():he&&(he.onload=Fe);const st=new ResizeObserver(Fe);return He&&st.observe(He),()=>{he&&(he.onload=null),He&&st.disconnect()}},[b.url]);const be=j.useCallback((he,He,Fe)=>{if(!ye.current||!Te.current)return{constrainedX:he,constrainedY:He};const{width:st,height:Ye}=ye.current.getBoundingClientRect(),{naturalWidth:rt,naturalHeight:ht}=Te.current;if(rt===0||ht===0)return{constrainedX:he,constrainedY:He};const ut=rt/ht,Je=st/Ye;let Ke,Qe;ut>Je?(Qe=Ye*Fe,Ke=Qe*ut):(Ke=st*Fe,Qe=Ke/ut);const Rn=Math.max(0,(Ke-st)/2),nn=Math.max(0,(Qe-Ye)/2),zt=Rn/st*100,At=nn/Ye*100,ln=Math.max(50-zt,Math.min(he,50+zt)),$n=Math.max(50-At,Math.min(He,50+At));return{constrainedX:ln,constrainedY:$n}},[]),Ie=he=>{he.stopPropagation(),he.dataTransfer.setData("album/placed-image",JSON.stringify({spreadId:t,slotId:o})),he.dataTransfer.effectAllowed="move",setTimeout(()=>{ye.current&&(ye.current.style.opacity="0.5")},0)},at=he=>{ye.current&&(ye.current.style.opacity="1")},pe=he=>{te&&(he.preventDefault(),he.stopPropagation(),Z(!0),w.current={x:he.clientX,y:he.clientY,imageX:x.x,imageY:x.y})};j.useEffect(()=>{const he=Fe=>{if(!V||!ye.current)return;const st=Fe.clientX-w.current.x,Ye=Fe.clientY-w.current.y,{width:rt,height:ht}=ye.current.getBoundingClientRect();if(rt===0||ht===0)return;const ut=w.current.imageX+st/rt*100,Je=w.current.imageY+Ye/ht*100,{constrainedX:Ke,constrainedY:Qe}=be(ut,Je,U);u({...x,x:Ke,y:Qe})},He=()=>{Z(!1)};return V&&(window.addEventListener("mousemove",he),window.addEventListener("mouseup",He)),()=>{window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",He)}},[V,u,U,x,be]);const St=he=>{if(!te||he.touches.length!==1)return;he.preventDefault(),he.stopPropagation();const He=he.touches[0],Fe={x:He.clientX,y:He.clientY,imageX:x.x,imageY:x.y},st=ye.current;if(!st)return;const Ye=ht=>{if(ht.preventDefault(),ht.touches.length!==1)return;const ut=ht.touches[0],Je=ut.clientX-Fe.x,Ke=ut.clientY-Fe.y,{width:Qe,height:Rn}=st.getBoundingClientRect();if(Qe===0||Rn===0)return;const nn=Fe.imageX+Je/Qe*100,zt=Fe.imageY+Ke/Rn*100,{constrainedX:At,constrainedY:ln}=be(nn,zt,U);u({...x,x:At,y:ln})},rt=ht=>{ht.preventDefault(),document.removeEventListener("touchmove",Ye),document.removeEventListener("touchend",rt),document.removeEventListener("touchcancel",rt)};document.addEventListener("touchmove",Ye,{passive:!1}),document.addEventListener("touchend",rt,{passive:!1}),document.addEventListener("touchcancel",rt,{passive:!1})},Lt=he=>{const{constrainedX:He,constrainedY:Fe}=be(x.x,x.y,he);u({...x,scale:he,x:He,y:Fe})},Pt=he=>{u({...x,rotation:(x.rotation+he+360)%360})},Kt=()=>{u({...x,flipHorizontal:!x.flipHorizontal})},Ht=()=>{u({...x,flipVertical:!x.flipVertical})},xn=j.useCallback(()=>{m||(ne(!0),oe("transform"),p==null||p(o))},[m,p,o]),tn=j.useCallback(()=>{ne(!1),oe("transform"),y==null||y()},[y]),Ki=he=>{u({...x,filter:he})},ot=async he=>{var He,Fe,st,Ye,rt,ht,ut;fe(!0);try{const Ke=await(await fetch(i.image.url)).blob(),Qe=await yC(Ke),nn=await new pC({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-pro-image-preview",contents:{parts:[{inlineData:{data:Qe,mimeType:Ke.type}},{text:he}]},config:{imageConfig:{imageSize:v}}});let zt=null;if((st=(Fe=(He=nn.candidates)==null?void 0:He[0])==null?void 0:Fe.content)!=null&&st.parts){for(const At of nn.candidates[0].content.parts)if(At.inlineData){zt=At;break}}if(zt!=null&&zt.inlineData)g(i.image.id,o,t,zt.inlineData.data,zt.inlineData.mimeType),tn();else{const At=(ut=(ht=(rt=(Ye=nn.candidates)==null?void 0:Ye[0])==null?void 0:rt.content)==null?void 0:ht.parts)==null?void 0:ut.find(ln=>ln.text);throw At&&console.warn("AI returned text instead of image:",At.text),new Error("AI did not return an image. The model might have refused the request.")}}catch(Je){console.error("AI task failed:",Je);let Ke=Je instanceof Error?Je.message:String(Je);(Ke.includes("403")||Ke.toLowerCase().includes("permission denied"))&&(Ke="Permission Denied: You must select a PAID API Key (Billing enabled) to use the Nano Banana Pro (4K) model. Please refresh the page and select the correct key."),alert(`AI task failed: ${Ke}`)}finally{fe(!1)}},An=he=>{Me(!1),ot(he)},Et=he=>{se(!1),ot(he)},Nn=he=>{if(te)return;const He=new Date().getTime();He-ae.current<300&&(he.preventDefault(),xn()),ae.current=He},Xi=async he=>{he.stopPropagation();try{const Fe=await(await fetch(b.url)).blob(),st=window.URL.createObjectURL(Fe),Ye=document.createElement("a");Ye.style.display="none",Ye.href=st;const rt=Fe.type.split("/")[1]||"jpg";Ye.download=`photobook-image-${b.id}.${rt}`,document.body.appendChild(Ye),Ye.click(),window.URL.revokeObjectURL(st),document.body.removeChild(Ye)}catch(He){console.error("Error downloading image:",He),alert(re("downloadError"))}};j.useEffect(()=>{if(!te)return;const he=He=>{ye.current&&!ye.current.contains(He.target)&&tn()};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[te,tn]);const ql=()=>T.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("label",{htmlFor:`zoom-${b.id}`,className:"text-xs font-medium text-white whitespace-nowrap",children:re("zoom")}),T.jsx("input",{id:`zoom-${b.id}`,type:"range",min:"1",max:"3",step:"0.01",value:U,onChange:he=>Lt(parseFloat(he.target.value)),className:"w-full h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),T.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[T.jsx("button",{onClick:()=>Pt(90),title:re("rotateRightTitle"),className:"p-1.5 text-white bg-gray-700/50 rounded hover:bg-gray-600/50",children:T.jsx(Xh,{className:"w-4 h-4"})}),T.jsx("div",{className:"h-5 border-l border-gray-600 mx-1"}),T.jsx("button",{onClick:Kt,title:re("flipHorizontalTitle"),className:"p-1.5 text-white bg-gray-700/50 rounded hover:bg-gray-600/50",children:T.jsx(Jh,{className:"w-4 h-4"})}),T.jsx("button",{onClick:Ht,title:re("flipVerticalTitle"),className:"p-1.5 text-white bg-gray-700/50 rounded hover:bg-gray-600/50",children:T.jsx(Kh,{className:"w-4 h-4"})}),T.jsx("div",{className:"h-5 border-l border-gray-600 mx-1"}),T.jsx("button",{onClick:()=>I(!0),title:re("colorGrading"),className:"p-1.5 text-white bg-orange-500/80 rounded hover:bg-orange-400/80",children:T.jsx(jh,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>oe("ai"),title:re("aiRetouch"),className:"p-1.5 text-white bg-purple-600/80 rounded hover:bg-purple-500/80",children:T.jsx(ns,{className:"w-4 h-4"})}),T.jsx("div",{className:"h-5 border-l border-gray-600 mx-1"}),T.jsx("button",{onClick:tn,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:T.jsx(Yi,{className:"w-4 h-4"})})]})]}),_t=()=>T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("input",{"aria-label":re("zoom"),type:"range",min:"1",max:"3",step:"0.01",value:U,onChange:he=>Lt(parseFloat(he.target.value)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-1",children:[T.jsx("button",{onClick:()=>Pt(90),title:re("rotateRightTitle"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",children:T.jsx(Xh,{className:"w-5 h-5"})}),T.jsx("div",{className:"h-6 border-l border-gray-600 mx-1"}),T.jsx("button",{onClick:Kt,title:re("flipHorizontalTitle"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",children:T.jsx(Jh,{className:"w-5 h-5"})}),T.jsx("button",{onClick:Ht,title:re("flipVerticalTitle"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",children:T.jsx(Kh,{className:"w-5 h-5"})}),T.jsx("div",{className:"h-6 border-l border-gray-600 mx-1"}),T.jsx("button",{onClick:()=>I(!0),title:re("colorGrading"),className:"p-2 text-white bg-orange-500/80 rounded-md hover:bg-orange-400/80",children:T.jsx(jh,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>oe("ai"),title:re("aiRetouch"),className:"p-2 text-white bg-purple-600/80 rounded-md hover:bg-purple-500/80",children:T.jsx(ns,{className:"w-5 h-5"})})]}),T.jsx("button",{onClick:tn,className:"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:T.jsx(Yi,{className:"w-5 h-5"})})]})]}),ji=()=>T.jsxs("div",{className:"flex items-center justify-between gap-1 w-full",children:[T.jsx("button",{onClick:()=>oe("transform"),title:re("back"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",disabled:Q,children:T.jsx(U0,{className:a?"w-5 h-5":"w-4 h-4"})}),T.jsxs("div",{className:"flex items-center gap-1 flex-grow justify-center flex-wrap",children:[T.jsx("button",{onClick:()=>ot("Reduce minor blemishes and smooth skin texture while preserving character"),className:"px-2 py-2 text-xs md:text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",disabled:Q,children:re("skinRetouch")}),T.jsx("button",{onClick:()=>ot("Adjust background blur to make the subject stand out without overdoing it"),className:"px-2 py-2 text-xs md:text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",disabled:Q,children:re("blurBackground")}),T.jsx("button",{onClick:()=>Me(!0),className:"px-2 py-2 text-xs md:text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",disabled:Q,children:re("replaceBackground")}),T.jsx("button",{onClick:()=>se(!0),className:"px-2 py-2 text-xs md:text-sm text-white bg-green-600 rounded-md hover:bg-green-700 disabled:bg-gray-500",title:re("effects"),disabled:Q,children:re("effects")})]}),T.jsx("div",{className:"w-9 h-9 md:w-8 md:h-8"})]});return T.jsxs(T.Fragment,{children:[ze&&T.jsx(xC,{onSelectFilter:Ki,onClose:()=>I(!1)}),Ae&&T.jsx(TC,{onClose:()=>Me(!1),onSelectTemplate:An}),X&&T.jsx(CC,{onClose:()=>se(!1),onSelectTemplate:Et}),T.jsxs("div",{ref:ye,className:`relative w-full h-full overflow-hidden select-none ${!te&&!m?"cursor-move":""}`,onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),draggable:!te&&!m,onDragStart:!te&&!m?Ie:void 0,onDragEnd:!te&&!m?at:void 0,onDoubleClick:xn,onTouchStart:Nn,title:!te&&!m?re(a?"doubleTapToEdit":"doubleClickToEdit"):void 0,children:[T.jsx("div",{className:`w-full h-full ${te?V?"cursor-grabbing":"cursor-grab":""}`,onMouseDown:pe,onTouchStart:St,children:T.jsx("img",{ref:Te,src:b.url,alt:b.id,className:`absolute pointer-events-none ${x.filter||""}`,style:{transform:`translate(-50%, -50%) scale(${U}) rotate(${ee}deg) scaleX(${z?-1:1}) scaleY(${G?-1:1})`,top:`${L}%`,left:`${_}%`,...P,maxWidth:"none",maxHeight:"none"}})}),Q&&T.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-30",children:[T.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-white"}),T.jsx("p",{className:"text-white mt-3 text-sm",children:re("aiRetouching")})]}),J&&!te&&!m&&T.jsxs("div",{"data-hide-on-capture":"true",className:"absolute top-1 right-1 flex items-center space-x-1 bg-black/50 p-0.5 rounded-md z-10",children:[T.jsx("button",{onClick:xn,className:"p-1 text-white hover:bg-white/30 rounded",title:re("editPhoto"),children:T.jsx(P0,{className:"w-4 h-4"})}),T.jsx("button",{onClick:Xi,className:"p-1 text-white hover:bg-white/30 rounded",title:re("downloadImage"),children:T.jsx(D0,{className:"w-4 h-4"})}),T.jsx("button",{onClick:d,className:"p-1 text-white hover:bg-red-500/80 rounded",title:re("removeImageTitle"),children:T.jsx(Gt,{className:"w-4 h-4"})})]}),te&&T.jsx("div",{"data-hide-on-capture":"true",className:"absolute bottom-0 left-0 right-0 bg-black/60 backdrop-blur-sm p-2 z-20",onClick:he=>he.stopPropagation(),onMouseDown:he=>he.stopPropagation(),onTouchStart:he=>he.stopPropagation(),children:B==="transform"?a?_t():ql():ji()})]})]})},_C=({textElement:i,onUpdateStyle:t})=>{const{style:o}=i,a=["Arial","Verdana","Times New Roman","Georgia","Courier New","Roboto","Playfair Display","Sacramento","Lobster","Pacifico","Bungee Spice","Press Start 2P","Anton"],u=[12,14,16,18,24,28,32,36,42,48,56,64,72];return T.jsxs("div",{className:"absolute -top-14 left-1/2 -translate-x-1/2 bg-gray-800 text-white rounded-md shadow-lg p-1 flex items-center flex-wrap justify-center gap-1 z-30 w-max max-w-xs md:max-w-none","data-text-toolbar":"true",onMouseDown:d=>d.stopPropagation(),children:[T.jsx("select",{value:o.fontFamily,onChange:d=>t({fontFamily:d.target.value}),className:"bg-gray-700 text-xs rounded px-1 py-0.5",children:a.map(d=>T.jsx("option",{value:d,children:d},d))}),T.jsx("select",{value:o.fontSize,onChange:d=>t({fontSize:parseInt(d.target.value,10)}),className:"bg-gray-700 text-xs rounded px-1 py-0.5",children:u.map(d=>T.jsxs("option",{value:d,children:[d," pt"]},d))}),T.jsx("input",{type:"color",value:o.color,onChange:d=>t({color:d.target.value}),className:"w-6 h-6 p-0.5 bg-gray-700 border-none rounded"}),T.jsx("div",{className:"h-5 border-l border-gray-600"}),T.jsx("button",{onClick:()=>t({bold:!o.bold}),className:`p-1 rounded ${o.bold?"bg-blue-500":"hover:bg-gray-700"}`,children:T.jsx(w0,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>t({italic:!o.italic}),className:`p-1 rounded ${o.italic?"bg-blue-500":"hover:bg-gray-700"}`,children:T.jsx(_0,{className:"w-4 h-4"})}),T.jsx("div",{className:"h-5 border-l border-gray-600"}),T.jsx("button",{onClick:()=>t({align:"left"}),className:`p-1 rounded ${o.align==="left"?"bg-blue-500":"hover:bg-gray-700"}`,children:T.jsx(A0,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>t({align:"center"}),className:`p-1 rounded ${o.align==="center"?"bg-blue-500":"hover:bg-gray-700"}`,children:T.jsx(N0,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>t({align:"right"}),className:`p-1 rounded ${o.align==="right"?"bg-blue-500":"hover:bg-gray-700"}`,children:T.jsx(R0,{className:"w-4 h-4"})})]})},AC=({spreadId:i,data:t,isSelected:o,isOverviewMode:a,onSelect:u,onUpdate:d,onRemove:m})=>{const[p,y]=j.useState(!1),[g,v]=j.useState(!1),[b,x]=j.useState(null),{t:_}=ft(),L=j.useRef(null),U=j.useRef({x:0,y:0,elX:0,elY:0,elW:0,elH:0}),ee=(B,oe,Q)=>{if(p||a)return;B.stopPropagation(),u(t.id);const fe="touches"in B?B.touches[0].clientX:B.clientX,Ae="touches"in B?B.touches[0].clientY:B.clientY;oe==="drag"?v(!0):oe==="resize"&&Q&&x(Q),U.current={x:fe,y:Ae,elX:t.x,elY:t.y,elW:t.width,elH:t.height}};j.useEffect(()=>{const B=Q=>{var X;if(!L.current)return;Q instanceof TouchEvent&&Q.preventDefault();const fe="touches"in Q?Q.touches[0].clientX:Q.clientX,Ae="touches"in Q?Q.touches[0].clientY:Q.clientY,Me=(X=L.current.parentElement)==null?void 0:X.getBoundingClientRect();if(!Me||Me.width===0||Me.height===0)return;const ze=fe-U.current.x,I=Ae-U.current.y;if(g){const se=U.current.elX+ze/Me.width*100,ye=U.current.elY+I/Me.height*100;d(i,t.id,{x:se,y:ye})}else if(b){const se=ze/Me.width*100,ye=I/Me.height*100;let Te=U.current.elW,w=U.current.elH,P=U.current.elX,ie=U.current.elY;b.includes("right")&&(Te+=se),b.includes("left")&&(Te-=se,P+=se),b.includes("bottom")&&(w+=ye),b.includes("top")&&(w-=ye,ie+=ye),d(i,t.id,{width:Math.max(5,Te),height:Math.max(5,w),x:P,y:ie})}},oe=()=>{v(!1),x(null)};return(g||b)&&(window.addEventListener("mousemove",B),window.addEventListener("mouseup",oe),window.addEventListener("touchmove",B,{passive:!1}),window.addEventListener("touchend",oe)),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",oe),window.removeEventListener("touchmove",B),window.removeEventListener("touchend",oe)}},[g,b,d,i,t.id]);const z=B=>{d(i,t.id,{content:B.target.value})},G=B=>{B.stopPropagation(),u(t.id),y(!0)},J=["top-left","top-right","bottom-left","bottom-right"],te=a?t.style.fontSize/3.2:t.style.fontSize,ne={fontFamily:t.style.fontFamily,fontSize:`${te}px`,fontWeight:t.style.bold?"bold":"normal",fontStyle:t.style.italic?"italic":"normal",textAlign:t.style.align,textShadow:t.style.textShadow,letterSpacing:t.style.letterSpacing,textTransform:t.style.textTransform},V={...ne,color:t.style.color};t.style.background&&(V.background=t.style.background,V.WebkitBackgroundClip="text",V.backgroundClip="text",V.color="transparent");const Z={...ne,color:t.style.color};return T.jsxs("div",{ref:L,className:`absolute cursor-move pointer-events-auto ${o&&!a?"border-2 border-blue-500":"border border-transparent hover:border-blue-300/50"}`,style:{left:`${t.x}%`,top:`${t.y}%`,width:`${t.width}%`,height:`${t.height}%`,zIndex:o?20:10},onMouseDown:B=>ee(B,"drag"),onTouchStart:B=>ee(B,"drag"),onDoubleClick:a?void 0:G,"data-text-element":"true",children:[o&&!a&&T.jsx(_C,{textElement:t,onUpdateStyle:B=>d(i,t.id,{style:{...t.style,...B}})}),p&&!a?T.jsx("textarea",{value:t.content,onChange:z,onBlur:()=>y(!1),autoFocus:!0,className:"w-full h-full bg-transparent outline-none resize-none",style:Z,onMouseDown:B=>B.stopPropagation()}):T.jsx("div",{className:"w-full h-full overflow-hidden whitespace-pre-wrap flex items-center",style:{justifyContent:t.style.align==="left"?"flex-start":t.style.align==="right"?"flex-end":"center",alignItems:"center"},children:T.jsx("div",{style:V,children:t.content})}),o&&!p&&!a&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:B=>{B.stopPropagation(),m(i,t.id)},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center shadow z-30",title:_("removeTextTitle"),children:T.jsx(Gt,{className:"w-3 h-3"})}),J.map(B=>T.jsx("div",{className:`absolute w-3 h-3 bg-white border border-gray-500 rounded-full z-30 ${B.includes("left")?"-left-1.5":"-right-1.5"} ${B.includes("top")?"-top-1.5":"-bottom-1.5"} 
                ${B==="top-left"||B==="bottom-right"?"cursor-nwse-resize":"cursor-nesw-resize"}`,onMouseDown:oe=>ee(oe,"resize",B),onTouchStart:oe=>ee(oe,"resize",B)},B))]})]})},NC=({spreadId:i,data:t,isSelected:o,onSelect:a,onUpdate:u,onRemove:d})=>{const[m,p]=j.useState(!1),[y,g]=j.useState(null),[v,b]=j.useState(!1),{t:x}=ft(),_=j.useRef(null),L=j.useRef({x:0,y:0,elX:0,elY:0,elW:0,elH:0,centerX:0,centerY:0,startAngle:0}),U=(z,G,J)=>{var oe;z.preventDefault(),z.stopPropagation(),a(t.id);const F="touches"in z?z.touches[0].clientX:z.clientX,te="touches"in z?z.touches[0].clientY:z.clientY;G==="drag"&&p(!0),G==="resize"&&J&&g(J),G==="rotate"&&b(!0);const ne=(oe=_.current)==null?void 0:oe.getBoundingClientRect();if(!ne)return;const V=ne.left+ne.width/2,Z=ne.top+ne.height/2,B=Math.atan2(te-Z,F-V)*(180/Math.PI);L.current={x:F,y:te,elX:t.x,elY:t.y,elW:t.width,elH:t.height,centerX:V,centerY:Z,startAngle:B-t.rotation}};j.useEffect(()=>{const z=J=>{var B;if(J.preventDefault(),!_.current)return;const F="touches"in J?J.touches[0].clientX:J.clientX,te="touches"in J?J.touches[0].clientY:J.clientY,ne=(B=_.current.parentElement)==null?void 0:B.getBoundingClientRect();if(!ne||ne.width===0||ne.height===0)return;const V=F-L.current.x,Z=te-L.current.y;if(m){const oe=L.current.elX+V/ne.width*100,Q=L.current.elY+Z/ne.height*100;u(i,t.id,{x:oe,y:Q})}else if(y){const oe=L.current.elW/100*ne.width,Q=L.current.elH/100*ne.height;if(Q===0)return;const fe=oe/Q;let Ae=oe;y.includes("right")&&(Ae+=V),y.includes("left")&&(Ae-=V);const Me=Ae/fe,ze=Ae/ne.width*100,I=Me/ne.height*100;u(i,t.id,{width:Math.max(3,ze),height:Math.max(3,I)})}else if(v){const{centerX:oe,centerY:Q,startAngle:fe}=L.current,Ae=Math.atan2(te-Q,F-oe)*(180/Math.PI);u(i,t.id,{rotation:Ae-fe})}},G=()=>{p(!1),g(null),b(!1)};return(m||y||v)&&(window.addEventListener("mousemove",z),window.addEventListener("mouseup",G),window.addEventListener("touchmove",z,{passive:!1}),window.addEventListener("touchend",G)),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",G),window.removeEventListener("touchmove",z),window.removeEventListener("touchend",G)}},[m,y,v,u,i,t.id]);const ee=["top-left","top-right","bottom-left","bottom-right"];return T.jsxs("div",{ref:_,className:"absolute cursor-move pointer-events-auto",style:{left:`${t.x}%`,top:`${t.y}%`,width:`${t.width}%`,height:`${t.height}%`,transform:`rotate(${t.rotation}deg)`,zIndex:o?30:20},onMouseDown:z=>U(z,"drag"),onTouchStart:z=>U(z,"drag"),"data-sticker-element":"true",children:[T.jsx("div",{className:`w-full h-full ${o?"outline outline-2 outline-blue-500":""}`,children:T.jsx("img",{src:t.url,alt:"sticker",className:"w-full h-full object-contain pointer-events-none",draggable:"false"})}),o&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:z=>{z.stopPropagation(),d(i,t.id)},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center shadow z-50 transform-none",title:x("removeStickerTitle"),"data-hide-on-capture":"true",children:T.jsx(Gt,{className:"w-3 h-3"})}),ee.map(z=>T.jsx("div",{className:`absolute w-3 h-3 bg-white border border-gray-500 rounded-full z-40 ${z.includes("left")?"-left-1.5":"-right-1.5"} ${z.includes("top")?"-top-1.5":"-bottom-1.5"} 
                ${z==="top-left"||z==="bottom-right"?"cursor-nwse-resize":"cursor-nesw-resize"}`,onMouseDown:G=>U(G,"resize",z),onTouchStart:G=>U(G,"resize",z),"data-hide-on-capture":"true"},z)),T.jsx("div",{className:"absolute -top-7 left-1/2 -translate-x-1/2 w-5 h-5 bg-white border border-gray-500 rounded-full flex items-center justify-center cursor-alias z-40",onMouseDown:z=>U(z,"rotate"),onTouchStart:z=>U(z,"rotate"),title:x("rotateStickerTitle"),"data-hide-on-capture":"true",children:T.jsx(qu,{className:"w-3 h-3 text-gray-700"})})]})]})},RC=({gridArea:i,slotId:t,onDrop:o,children:a,isTouchDraggingOver:u})=>{const[d,m]=j.useState(!1),p=x=>{x.preventDefault(),x.stopPropagation()},y=x=>{x.preventDefault(),x.stopPropagation(),m(!0)},g=x=>{x.preventDefault(),x.stopPropagation(),m(!1)},v=x=>{x.preventDefault(),x.stopPropagation(),m(!1),o(x)},b=d||u;return T.jsx("div",{style:{gridArea:i},"data-slot-id":t,className:`relative w-full h-full bg-gray-50 rounded-sm transition-all duration-200 overflow-hidden ${b?"outline-dashed outline-2 outline-offset-2 outline-blue-500":""}`,onDragOver:p,onDrop:v,onDragEnter:y,onDragLeave:g,children:a})},MC=i=>{switch(i){case"15x15":case"20x20":case"30x30":return"2 / 1";case"21x15":return"42 / 15";case"30x20":return"60 / 20";case"25x35":return"50 / 35";default:return"2 / 1"}},IC=i=>{const{data:t,index:o,albumSize:a,isMobile:u,isOverviewMode:d,onDropImageInSlot:m,onSwapImagesInSlots:p,onReorderSpreads:y,onChangeLayout:g,onUpdateImageTransform:v,onRemoveImageFromSlot:b,onOpenTextPicker:x,onUpdateText:_,onRemoveText:L,onSelectText:U,selectedTextId:ee,onOpenStickerPicker:z,onUpdateSticker:G,onRemoveSticker:J,onSelectSticker:F,selectedStickerId:te,onAiRetouchImage:ne,onTriggerAddOverlayImage:V,touchDragOverSlot:Z,aiResolution:B}=i,[oe,Q]=j.useState(!1),[fe,Ae]=j.useState(null),[Me,ze]=j.useState(!1),I=Po[t.layoutId]||Po["single-full"],{t:X}=ft(),se=j.useRef(null),[ye,Te]=j.useState(!1),w=pe=>{g(t.id,pe),Q(!1)},P=MC(a),ie=pe=>{pe.dataTransfer.setData("album/spread-index",String(o)),pe.dataTransfer.effectAllowed="move",setTimeout(()=>{se.current&&(se.current.style.visibility="hidden")},0)},ae=()=>{se.current&&(se.current.style.visibility="visible"),Te(!1)},re=pe=>{pe.preventDefault(),Te(!1);const St=pe.dataTransfer.getData("album/spread-index");if(St){const Lt=parseInt(St,10),Pt=o;Lt!==Pt&&y(Lt,Pt)}},be=pe=>{pe.preventDefault()},Ie=pe=>{pe.preventDefault(),pe.dataTransfer.getData("album/spread-index")&&Te(!0)},at=pe=>{pe.preventDefault(),Te(!1)};return T.jsxs("div",{ref:se,"data-spread-id":t.id,draggable:d,onDragStart:d?ie:void 0,onDragEnd:d?ae:void 0,onDrop:d?re:void 0,onDragOver:d?be:void 0,onDragEnter:d?Ie:void 0,onDragLeave:d?at:void 0,className:d?"cursor-move":"",children:[oe&&T.jsx(B0,{isMobile:u,onSelectLayout:w,onClose:()=>Q(!1)}),T.jsx("h3",{className:"text-sm text-gray-500 mb-2",children:X("pagesLabel",{start:t.pages[0],end:t.pages[1]})}),T.jsxs("div",{className:`relative transition-all ${d?"":"group"} ${ye?"outline-dashed outline-2 outline-blue-500":""}`,children:[T.jsx("div",{"data-spread-capture-target":"true",className:"bg-white p-1 shadow-lg",style:{aspectRatio:P},children:T.jsxs("div",{className:"relative w-full h-full",children:[T.jsx("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:I.gridTemplateColumns,gridTemplateRows:I.gridTemplateRows,gap:I.gap},children:I.slots.map(pe=>T.jsx(RC,{gridArea:pe.gridArea,slotId:pe.id,isTouchDraggingOver:(Z==null?void 0:Z.spreadId)===t.id&&(Z==null?void 0:Z.slotId)===pe.id,onDrop:St=>{const Lt=St.dataTransfer.getData("album/image-id"),Pt=St.dataTransfer.getData("album/placed-image");if(Lt&&!d)m(Lt,t.id,pe.id);else if(Pt&&!d)try{const Kt=JSON.parse(Pt),Ht={spreadId:t.id,slotId:pe.id};p(Kt,Ht)}catch(Kt){console.error("Failed to parse dropped image data",Kt)}},children:t.images[pe.id]?T.jsx(wC,{data:t.images[pe.id],spreadId:t.id,slotId:pe.id,isMobile:u,isOverviewMode:d,onTransformChange:St=>v(t.id,pe.id,St),onRemove:()=>b(t.id,pe.id),onEnterEditMode:()=>ze(!0),onExitEditMode:()=>ze(!1),onAiRetouchImage:ne,aiResolution:B}):T.jsx("div",{className:"flex items-center justify-center w-full h-full text-xs text-gray-400 p-2 text-center",children:!d&&X("dropPhotoHere")})},pe.id))}),T.jsxs("div",{"data-elements-layer":"true",className:"absolute inset-0 pointer-events-none",children:[t.texts.map(pe=>T.jsx(AC,{spreadId:t.id,data:pe,isSelected:ee===pe.id,isOverviewMode:d,onSelect:U,onUpdate:_,onRemove:L},pe.id)),t.stickers.map(pe=>T.jsx(NC,{spreadId:t.id,data:pe,isSelected:te===pe.id,onSelect:F,onUpdate:G,onRemove:J},pe.id))]})]})}),!d&&T.jsxs("div",{"data-hide-on-capture":"true",className:`absolute top-2 left-2 flex flex-col items-start space-y-2 md:flex-row md:items-center md:space-y-0 md:space-x-2 z-40 transition-opacity duration-200 ${Me?"opacity-0 pointer-events-none":"opacity-0 group-hover:opacity-100"}`,children:[T.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:X("changeLayout"),children:[T.jsx(M0,{className:"w-5 h-5 md:w-4 md:h-4"}),T.jsx("span",{className:"hidden",children:X("changeLayout")})]}),T.jsxs("button",{onClick:()=>x(t.id),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:X("addText"),children:[T.jsx(C0,{className:"w-5 h-5 md:w-4 md:h-4"}),T.jsx("span",{className:"hidden",children:X("addText")})]}),T.jsxs("button",{onClick:()=>V(t.id),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:X("addOverlayImage"),children:[T.jsx(z0,{className:"w-5 h-5 md:w-4 md:h-4"}),T.jsx("span",{className:"hidden",children:X("addOverlayImage")})]}),T.jsxs("button",{onClick:()=>z(t.id),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:X("addSticker"),children:[T.jsx(ns,{className:"w-5 h-5 md:w-4 md:h-4"}),T.jsx("span",{className:"hidden",children:X("addSticker")})]})]})]})]})},DC=i=>{const{spreads:t,albumSize:o,isMobile:a,isOverviewMode:u,onAddSpread:d,onReorderSpreads:m,aiResolution:p,...y}=i,{t:g}=ft();return T.jsx("div",{className:"p-4 md:p-8 lg:p-12",children:T.jsxs("div",{className:`max-w-7xl mx-auto ${u?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"space-y-8"}`,children:[t.map((v,b)=>T.jsx(IC,{index:b,data:v,albumSize:o,isMobile:a,isOverviewMode:u,onReorderSpreads:m,aiResolution:p,...y},v.id)),!u&&T.jsx("div",{className:"flex justify-center pt-8",children:T.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-6 py-3 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-semibold text-gray-700 hover:bg-gray-100 transition-colors",children:[T.jsx(H0,{className:"w-5 h-5"}),T.jsx("span",{children:g("addSpread")})]})})]})})},kC=({images:i,totalImages:t,onAddImages:o,onReorder:a,onRemoveImage:u,onClearLibrary:d,isMobile:m,onImageTouchStart:p})=>{const y=j.useRef(null),[g,v]=j.useState(!1),{t:b}=ft(),x=j.useRef(null),_=j.useRef(null),L=Z=>{Z.target.files&&o(Z.target.files)},U=Z=>{Z.preventDefault(),Z.stopPropagation(),Z.dataTransfer.types.includes("Files")&&v(!0)},ee=Z=>{Z.preventDefault(),Z.stopPropagation(),setTimeout(()=>{v(!1)},50)},z=Z=>{Z.preventDefault(),Z.stopPropagation(),v(!1),Z.dataTransfer.files&&Z.dataTransfer.files.length>0&&(o(Z.dataTransfer.files),Z.dataTransfer.clearData())},G=(Z,B,oe)=>{Z.dataTransfer.setData("album/image-id",B),Z.dataTransfer.effectAllowed="copy",x.current=oe,setTimeout(()=>{const Q=document.getElementById(`lib-img-thumb-${B}`);Q&&(Q.style.opacity="0.5")},0)},J=Z=>{x.current!==null&&x.current!==Z&&(_.current=Z)},F=Z=>{if(x.current!==null){const B=document.getElementById(`lib-img-thumb-${Z}`);B&&(B.style.opacity="1"),_.current!==null&&_.current!==x.current&&a(x.current,_.current)}x.current=null,_.current=null},te=m?"flex items-center gap-2 h-full":"grid gap-2",ne=m?{}:{gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))"},V=m?"w-[70px] flex-shrink-0":"w-full";return T.jsxs("div",{className:"relative flex flex-col h-full",onDragOver:U,onDragLeave:ee,onDrop:z,children:[g&&T.jsx("div",{className:"absolute inset-0 bg-blue-500/30 backdrop-blur-sm flex items-center justify-center border-4 border-dashed border-white rounded-lg z-20 pointer-events-none",children:T.jsx("p",{className:"text-white font-bold text-xl drop-shadow-md",children:b("dropImagesToUpload")})}),T.jsx("input",{type:"file",multiple:!0,accept:"image/*",ref:y,onChange:L,className:"hidden"}),T.jsx("div",{className:`flex-grow ${m?"overflow-x-auto overflow-y-hidden":"overflow-y-auto"} p-2`,children:T.jsxs("div",{className:te,style:ne,children:[i.map((Z,B)=>T.jsxs("div",{id:`lib-img-thumb-${Z.id}`,className:`relative ${V} aspect-square bg-gray-300 rounded-sm overflow-hidden shadow-md group cursor-grab transition-all duration-200`,draggable:!0,onDragStart:oe=>G(oe,Z.id,B),onDragEnter:()=>J(B),onDragOver:oe=>oe.preventDefault(),onDragEnd:()=>F(Z.id),onTouchStart:oe=>p(Z,oe),children:[T.jsx("img",{src:Z.url,alt:`library image ${Z.id}`,className:"w-full h-full object-cover pointer-events-none"}),T.jsx("button",{onClick:()=>u(Z.id),className:"absolute top-0.5 right-0.5 p-0.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 hover:bg-red-600 transition-all z-10",title:b("removeImageTitle"),children:T.jsx(Gt,{className:"w-4 h-4"})}),Z.used>0&&T.jsx("div",{className:"absolute top-1 left-1 w-5 h-5 bg-blue-500 text-white text-xs flex items-center justify-center rounded-full font-bold",children:Z.used}),Z.linked&&T.jsx("div",{className:"absolute bottom-1 left-1 p-0.5 bg-white/70 backdrop-blur-sm rounded-full",children:T.jsx(L0,{className:"w-4 h-4 text-gray-800"})})]},Z.id)),T.jsx("button",{onClick:()=>{var Z;return(Z=y.current)==null?void 0:Z.click()},className:`relative ${V} aspect-square bg-gray-200 border-2 border-dashed border-gray-400 rounded-sm flex flex-col items-center justify-center text-center text-gray-500 hover:bg-gray-300 hover:border-gray-500 transition-colors cursor-pointer p-2`,title:b("addPhotos"),children:T.jsx("span",{className:"font-semibold text-xs md:text-base",children:b("addPhotos")})})]})}),T.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-200/90 border-t border-gray-300",children:[T.jsx("div",{className:"text-xs text-gray-500",children:T.jsxs("p",{children:[b("totalImages")," ",T.jsx("span",{className:"font-bold text-gray-800",children:t})]})}),T.jsx("button",{onClick:d,disabled:i.length===0,className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-md shadow hover:bg-red-600 text-sm disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:b("clear")})]})]})},UC=({isMobile:i,onSelectLayout:t,onClose:o})=>{const{language:a,t:u}=ft(),d=i?Ll.filter(m=>!m.hideOnMobile):Ll;return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-semibold",children:u("designForMeTitle")}),T.jsx("p",{className:"text-sm text-gray-500",children:u("designForMeSubtitle")})]}),T.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200 ml-auto",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.map(m=>T.jsxs("div",{className:"cursor-pointer group",onClick:()=>t(m.id),children:[T.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200 rounded-md aspect-[2/1] p-1 grid",style:{gridTemplateColumns:m.gridTemplateColumns,gridTemplateRows:m.gridTemplateRows,gap:"4px"},children:m.slots.map(p=>T.jsx("div",{className:"bg-gray-300 rounded-sm",style:{gridArea:p.gridArea}},p.id))}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:a==="vn"?m.name_vn:m.name})]},m.id))})})]})})},LC=({isMobile:i,onSelectSize:t,onOpenProjectManager:o})=>{const{t:a}=ft(),u=[{size:"15x15",label:"15x15",aspectRatio:"2 / 1"},{size:"20x20",label:"20x20",aspectRatio:"2 / 1"},{size:"21x15",label:"21x15",aspectRatio:"42 / 15"},{size:"30x20",label:"30x20",aspectRatio:"60 / 20"},{size:"25x35",label:"25x35",aspectRatio:"50 / 35"},{size:"30x30",label:"30x30",aspectRatio:"2 / 1"}];return T.jsx("div",{className:"bg-gray-200 flex items-center justify-center min-h-screen p-4",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl flex flex-col p-8 text-center",children:[T.jsx("div",{className:"mx-auto mb-4",children:T.jsx(_g,{forceFull:!0})}),T.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:a("welcomeTitle")}),T.jsx("p",{className:"text-gray-600 mb-8",children:a("welcomeSubtitle")}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-8 gap-y-4 mb-8",children:u.map(({size:d,label:m,aspectRatio:p})=>T.jsxs("div",{className:"cursor-pointer group flex flex-col items-center",onClick:()=>t(d),children:[T.jsx("div",{className:"w-full bg-gray-100 border-2 rounded-md p-1 h-auto transition-all duration-200 border-gray-300 group-hover:border-blue-500 group-hover:scale-105",style:{aspectRatio:p},children:T.jsxs("div",{className:"w-full h-full flex",children:[T.jsx("div",{className:"w-1/2 h-full bg-gray-300 rounded-sm"}),T.jsx("div",{className:"w-1/2 h-full bg-gray-300 rounded-sm ml-px"})]})}),T.jsx("p",{className:"text-center text-lg font-semibold mt-3 transition-colors text-gray-700 group-hover:text-blue-600",children:m})]},d))}),!i&&T.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[T.jsx("div",{className:"flex-grow border-t border-gray-300"}),T.jsx("span",{className:"text-gray-500 text-sm",children:a("or")}),T.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),T.jsxs("button",{onClick:o,className:"mt-6 mx-auto flex items-center space-x-2 px-6 py-3 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-semibold text-gray-700 hover:bg-gray-100 transition-colors",children:[T.jsx(Nu,{className:"w-5 h-5"}),T.jsx("span",{children:a("loadExistingProject")})]})]})})},PC=[{name:"Classic Title",name_vn:"Tiu  c in",style:{fontFamily:"'Playfair Display', serif",fontSize:42,color:"#333333",bold:!0,italic:!1,align:"center"}},{name:"Elegant Script",name_vn:"Ch vit thanh lch",style:{fontFamily:"'Sacramento', cursive",fontSize:52,color:"#4a4a4a",bold:!1,italic:!1,align:"left"}},{name:"Modern Uppercase",name_vn:"Ch hoa hin i",style:{fontFamily:"'Roboto', sans-serif",fontSize:28,color:"#000000",bold:!1,italic:!1,align:"center",letterSpacing:"0.2em",textTransform:"uppercase"}},{name:"Drop Shadow",name_vn:" bng",style:{fontFamily:"'Playfair Display', serif",fontSize:40,color:"#ffffff",bold:!0,italic:!1,align:"left",textShadow:"2px 2px 4px rgba(0,0,0,0.7)"}},{name:"White Glow",name_vn:"Ta sng trng",style:{fontFamily:"'Roboto', sans-serif",fontSize:34,color:"#ffffff",bold:!0,italic:!1,align:"center",textShadow:"0 0 5px rgba(0,0,0,0.8), 0 0 10px rgba(0,0,0,0.8)"}},{name:"Rainbow Fun",name_vn:"Cu vng vui nhn",style:{fontFamily:"'Roboto', sans-serif",fontSize:56,color:"#000000",bold:!0,italic:!1,align:"center",background:"linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet)"},defaultContent:"Rainbow Text"},{name:"Happy Birthday",name_vn:"Chc mng sinh nht",style:{fontFamily:"'Lobster', cursive",fontSize:48,color:"#ff4b8d",bold:!1,italic:!1,align:"center",textShadow:"2px 2px 3px rgba(0,0,0,0.2)"},defaultContent:"Happy Birthday!"},{name:"Ocean Breeze",name_vn:"Gi bin",style:{fontFamily:"'Pacifico', cursive",fontSize:48,color:"#000000",bold:!1,italic:!1,align:"center",background:"linear-gradient(to right, #2193b0, #6dd5ed)"},defaultContent:"Ocean Breeze"},{name:"Retro Arcade",name_vn:"Game c in",style:{fontFamily:"'Press Start 2P', cursive",fontSize:28,color:"#39ff14",bold:!1,italic:!1,align:"center",textShadow:"0 0 5px #39ff14, 0 0 10px #39ff14, 0 0 15px #ffffff"},defaultContent:"GAME OVER"},{name:"Spicy Texture",name_vn:"Kt cu cay nng",style:{fontFamily:"'Bungee Spice', cursive",fontSize:54,color:"#ff4500",bold:!1,italic:!1,align:"center",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},defaultContent:"SPICY!"},{name:"Bold Outline",name_vn:"Vin m",style:{fontFamily:"'Anton', sans-serif",fontSize:64,color:"#ffffff",bold:!1,italic:!1,align:"center",textTransform:"uppercase",textShadow:"2px 0 #000, -2px 0 #000, 0 2px #000, 0 -2px #000, 1px 1px #000, -1px -1px #000, 1px -1px #000, -1px 1px #000"},defaultContent:"HEADLINE"},{name:"Cartoon Pop",name_vn:"Hot hnh Pop",style:{fontFamily:"'Anton', sans-serif",fontSize:60,color:"#ffdd00",bold:!1,italic:!1,align:"center",textTransform:"uppercase",textShadow:"3px 0 #00008b, -3px 0 #00008b, 0 3px #00008b, 0 -3px #00008b, 2px 2px #00008b, -2px -2px #00008b, 2px -2px #00008b, -2px 2px #00008b"},defaultContent:"WOW!"}],HC=({onSelectTemplate:i,onClose:t})=>{const{language:o,t:a}=ft();return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:a("chooseTextStyle")}),T.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:PC.map(u=>T.jsxs("div",{className:"cursor-pointer group flex flex-col items-center",onClick:()=>i(u),children:[T.jsx("div",{className:"w-full h-32 flex items-center justify-center bg-gray-100 border-2 border-gray-300 group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200 rounded-md p-2",children:T.jsx("p",{style:{...u.style,fontSize:u.style.fontSize>32?28:u.style.fontSize,textAlign:"center",...u.style.background&&{background:u.style.background,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},children:u.defaultContent||"Text Style"})}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:o==="vn"?u.name_vn:u.name})]},u.name))})})]})})},zC=["https://canvasvietnam.com/images/sticker/1.png","https://canvasvietnam.com/images/sticker/2.png","https://canvasvietnam.com/images/sticker/3.png","https://canvasvietnam.com/images/sticker/4.png","https://canvasvietnam.com/images/sticker/5.png","https://canvasvietnam.com/images/sticker/6.png","https://canvasvietnam.com/images/sticker/7.png","https://canvasvietnam.com/images/sticker/8.png","https://canvasvietnam.com/images/sticker/9.png","https://canvasvietnam.com/images/sticker/10.png","https://canvasvietnam.com/images/sticker/11.png","https://canvasvietnam.com/images/sticker/12.png"].map(i=>`https://api.allorigins.win/raw?url=${encodeURIComponent(i)}`),qC=({onSelectSticker:i,onClose:t})=>{const{t:o}=ft();return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:t,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:a=>a.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:o("chooseSticker")}),T.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4",children:zC.map((a,u)=>T.jsx("div",{className:"cursor-pointer group flex flex-col items-center p-2 bg-gray-100 rounded-md hover:bg-blue-100 hover:scale-110 transition-transform",onClick:()=>i(a),children:T.jsx("img",{src:a,alt:`Sticker ${u+1}`,className:"w-full h-full object-contain"})},u))})})]})})},GC=({isMobile:i,onConfirm:t,onClose:o})=>{const{language:a,t:u}=ft(),[d,m]=j.useState([]),p=i?Ll.filter(v=>!v.hideOnMobile):Ll,y=v=>{m(b=>b.includes(v)?b.filter(x=>x!==v):[...b,v])},g=()=>{d.length>0&&t(d)};return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:v=>v.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-semibold",children:u("randomDesignTitle")}),T.jsx("p",{className:"text-sm text-gray-500",children:u("randomDesignSubtitle")})]}),T.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200 ml-auto",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"p-6 overflow-y-auto",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:p.map(v=>{const b=d.includes(v.id);return T.jsxs("div",{className:"cursor-pointer group",onClick:()=>y(v.id),children:[T.jsxs("div",{className:`relative bg-gray-100 border-2 rounded-md aspect-[2/1] p-1 grid transition-all duration-200 ${b?"border-blue-500 scale-105":"border-gray-300 group-hover:border-blue-400"}`,style:{gridTemplateColumns:v.gridTemplateColumns,gridTemplateRows:v.gridTemplateRows,gap:"4px"},children:[v.slots.map(x=>T.jsx("div",{className:"bg-gray-300 rounded-sm",style:{gridArea:x.gridArea}},x.id)),b&&T.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center",children:T.jsx(Yi,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:a==="vn"?v.name_vn:v.name})]},v.id)})})}),T.jsxs("footer",{className:"flex items-center justify-end p-4 border-t space-x-4 bg-gray-50",children:[!i&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>m(p.map(v=>v.id)),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-100 text-sm",children:u("selectAll")}),T.jsx("button",{onClick:()=>m([]),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-100 text-sm",children:u("selectNone")})]}),T.jsx("div",{className:"flex-grow"}),T.jsx("button",{onClick:o,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-100 text-sm",children:u("cancel")}),T.jsx("button",{onClick:g,disabled:d.length===0,className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 text-sm disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u("confirmRandomization",{count:d.length})})]})]})})},bg=({currentProjectName:i,onSave:t,onLoad:o,onDelete:a,onNewProject:u,onClose:d})=>{const[m,p]=j.useState(""),[y,g]=j.useState([]),[v,b]=j.useState(!1),[x,_]=j.useState(!1),[L,U]=j.useState(null),[ee,z]=j.useState(!1),{t:G}=ft();j.useEffect(()=>{const Q=Object.keys(localStorage).filter(fe=>fe.startsWith("photobook_project_")).map(fe=>fe.replace("photobook_project_",""));g(Q)},[]);const J=async()=>{if(!m.trim())return;b(!0),await t(m.trim())&&(g(fe=>[...new Set([...fe,m.trim()])].sort()),p("")),b(!1)},F=async()=>{i&&(_(!0),await t(i),_(!1))},te=Q=>{U(Q)},ne=async Q=>{await a(Q),g(fe=>fe.filter(Ae=>Ae!==Q)),U(null)},V=()=>{U(null)},Z=()=>{z(!0)},B=()=>{u(),z(!1)},oe=()=>{z(!1)};return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:d,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg flex flex-col max-h-[80vh]",onClick:Q=>Q.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("h2",{className:"text-lg font-semibold",children:G("projectManagerTitle")}),ee?T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"text-sm text-red-700 font-semibold",children:G("confirmDelete")}),T.jsx("button",{onClick:oe,className:"px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:G("cancel")}),T.jsx("button",{onClick:B,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:G("newProject")})]}):T.jsx("button",{onClick:Z,className:"px-4 py-1.5 text-sm bg-gray-200 text-gray-800 font-semibold rounded-md hover:bg-gray-300 transition-colors shadow-sm",children:G("newProject")})]}),T.jsx("button",{onClick:d,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"p-6 overflow-y-auto",children:[i&&T.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[T.jsx("h3",{className:"font-semibold text-gray-800 text-sm mb-2",children:G("currentProject")}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"font-bold text-lg text-blue-900",children:i}),T.jsx("button",{onClick:F,disabled:x||v,className:"px-6 py-2 bg-blue-500 text-white font-semibold rounded-md shadow hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?`${G("saving")}...`:G("save")})]})]}),y.length>0?T.jsx("ul",{className:"space-y-3",children:y.map(Q=>T.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 transition-all duration-200",children:[T.jsx("span",{className:"font-medium text-gray-800",children:Q}),T.jsx("div",{className:"flex items-center space-x-2",children:L===Q?T.jsxs(T.Fragment,{children:[T.jsx("p",{className:"text-sm text-red-700 font-semibold",children:G("confirmDelete")}),T.jsx("button",{onClick:V,className:"px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:G("cancel")}),T.jsx("button",{onClick:()=>ne(Q),className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",children:G("delete")})]}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>o(Q),className:"px-4 py-1.5 text-sm bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 transition-colors shadow-sm",children:G("load")}),T.jsx("button",{onClick:()=>te(Q),className:"px-4 py-1.5 text-sm bg-red-500 text-white font-semibold rounded-md hover:bg-red-600 transition-colors shadow-sm",children:G("delete")})]})})]},Q))}):T.jsx("p",{className:"text-center text-gray-500 py-4",children:G("noSavedProjects")})]}),T.jsxs("footer",{className:"p-4 border-t bg-gray-50",children:[T.jsx("h3",{className:"font-semibold mb-2",children:G("saveAsNewProject")}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("input",{type:"text",value:m,onChange:Q=>p(Q.target.value),placeholder:G("projectNamePlaceholder"),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),T.jsx("button",{onClick:J,disabled:!m.trim()||v||x,className:"px-6 py-2 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:v?`${G("saving")}...`:G("save")})]})]})]})})},VC=i=>{switch(i){case"15x15":return 3.2;case"20x20":return 4.27;case"21x15":return 4.48;case"25x35":return 5.34;case"30x30":return 6.4;case"30x20":return 6.4;default:return 6.4}},BC=({projectName:i,albumSize:t,spreads:o,onClose:a,onSaveProject:u})=>{const{t:d}=ft(),[m,p]=j.useState("idle"),[y,g]=j.useState(""),[v,b]=j.useState(""),[x,_]=j.useState(""),[L,U]=j.useState(""),[ee,z]=j.useState(""),[G,J]=j.useState({}),F=()=>{const V={};return v.trim()||(V.fullName=d("validationFullNameRequired")),x.trim()||(V.phone=d("validationPhoneRequired")),J(V),Object.keys(V).length===0},te=async()=>{if(!F())return;const V=o.filter(Q=>Object.keys(Q.images).length>0);if(V.length===0){p("error"),g(d("submissionErrorNoPlacedImages"));return}let Z=i;if(!Z){p("preparing");const Q=new Date,fe=String(Q.getDate()).padStart(2,"0"),Ae=String(Q.getMonth()+1).padStart(2,"0"),Me=Q.getFullYear(),ze=`Album ${fe}${Ae}${Me}`;if(await u(ze))Z=ze;else{p("error"),g(d("submissionErrorAutoSaveFailed"));return}}p("preparing"),g("");const B=document.createElement("style");B.innerHTML='[data-hide-on-capture="true"] { display: none !important; }',document.head.appendChild(B);const oe="https://yourstudiovn.com/api/submit-project.php";try{const Q=new FormData,fe=new Map(V.map(X=>[X.id,X])),Ae=document.querySelectorAll('[data-spread-capture-target="true"]'),Me=VC(t);for(const X of Array.from(Ae)){const se=X,ye=se.closest("[data-spread-id]");if(!ye)continue;const Te=ye.getAttribute("data-spread-id");if(Te&&fe.has(Te)){const w=fe.get(Te),P=await window.html2canvas(se,{scale:Me,useCORS:!0,backgroundColor:"#ffffff"}),ie=await new Promise(ae=>P.toBlob(ae,"image/jpeg",1));if(ie){const ae=`spread_${String(w.pages[0]).padStart(2,"0")}-${String(w.pages[1]).padStart(2,"0")}.jpg`;Q.append("spreads[]",ie,ae)}else throw new Error(`Failed to generate image for spread on pages ${w.pages.join("-")}.`)}}if(!Q.has("spreads[]"))throw new Error("Rendering process failed: no images were added to the submission payload, even though spreads with photos were found.");const ze={projectName:Z||`Untitled Project ${new Date().toISOString()}`,albumSize:t,customerDetails:{fullName:v.trim(),phone:x.trim(),email:L.trim(),address:ee.trim()},pageCount:V.length*2};Q.append("projectData",JSON.stringify(ze,null,2)),p("uploading");const I=await fetch(oe,{method:"POST",body:Q});if(I.ok)p("success");else{p("error");const X=await I.text();let se="";try{se=JSON.parse(X).message||""}catch{se=X}let ye=`Status: ${I.status}
Server message: ${se}`.trim();se.includes("Missing projectData or spread image files")&&(ye+=`

This error usually means the total upload size of your project is too large for the server's configuration. Please ask your hosting provider to increase the "post_max_size" and "upload_max_filesize" values in your PHP settings.`),g(ye)}}catch(Q){console.error("Error during submission:",Q),p("error"),g(Q.message||"An unknown client-side error occurred.")}finally{document.head.removeChild(B)}},ne=()=>{switch(m){case"idle":return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"p-6",children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[T.jsx(Ag,{className:"w-8 h-8 text-blue-500"}),T.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:d("submissionFormTitle")})]}),T.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:d("submissionOrderDetailsMessage")}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:d("fullNameLabel")}),T.jsx("input",{type:"text",id:"fullName",value:v,onChange:V=>b(V.target.value),className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${G.fullName?"border-red-500":"border-gray-300"}`}),G.fullName&&T.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.fullName})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:d("phoneLabel")}),T.jsx("input",{type:"tel",id:"phone",value:x,onChange:V=>_(V.target.value),className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${G.phone?"border-red-500":"border-gray-300"}`}),G.phone&&T.jsx("p",{className:"mt-1 text-xs text-red-600",children:G.phone})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:d("emailLabel")}),T.jsx("input",{type:"email",id:"email",value:L,onChange:V=>U(V.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:d("addressLabel")}),T.jsx("textarea",{id:"address",rows:3,value:ee,onChange:V=>z(V.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),T.jsx("footer",{className:"p-4 bg-gray-50 flex justify-end",children:T.jsx("button",{onClick:te,className:"w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-md shadow hover:bg-blue-700 transition-colors",children:d("submissionButton")})})]});case"preparing":case"uploading":return T.jsxs("div",{className:"p-8 text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),T.jsx("p",{className:"mt-4 text-lg font-semibold text-gray-700",children:d(m==="preparing"?"submissionPreparing":"submissionUploading")}),T.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:d("submissionWaitMessage")})]});case"success":return T.jsxs("div",{className:"p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 p-2 mx-auto text-white bg-green-500 rounded-full flex items-center justify-center",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),T.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:d("submissionSuccessTitle")}),T.jsx("p",{className:"mt-2 text-gray-600",children:d("submissionSuccessMessage")}),T.jsx("button",{onClick:a,className:"mt-6 px-6 py-2 bg-gray-200 text-gray-800 font-semibold rounded-md hover:bg-gray-300",children:d("close")})]});case"error":return T.jsxs("div",{className:"p-6 text-center",children:[T.jsx("div",{className:"w-16 h-16 p-2 mx-auto text-white bg-red-500 rounded-full flex items-center justify-center",children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),T.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:d("submissionErrorTitle")}),T.jsx("div",{className:"mt-2 text-gray-600 whitespace-pre-wrap text-left bg-gray-100 p-3 rounded-md text-sm font-mono overflow-y-auto max-h-48",children:y||d("submissionErrorMessage")}),T.jsxs("div",{className:"mt-6 flex justify-center space-x-4",children:[T.jsx("button",{onClick:a,className:"px-6 py-2 bg-gray-200 text-gray-800 font-semibold rounded-md hover:bg-gray-300",children:d("close")}),T.jsx("button",{onClick:te,className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700",children:d("retry")})]})]})}};return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md flex flex-col",onClick:V=>V.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:d("submissionTitle")}),T.jsx("button",{onClick:a,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),ne()]})})},OC=({libraryHeight:i,onClose:t})=>{const{t:o}=ft();return j.useEffect(()=>{const a=setTimeout(()=>{t()},5e3);return()=>clearTimeout(a)},[t]),T.jsxs("div",{className:"fixed left-4 right-4 md:hidden bg-yellow-400 text-black p-3 rounded-lg shadow-lg z-50 animate-fade-in-up",style:{bottom:`${i+12}px`},onClick:t,children:[T.jsx("p",{className:"text-center text-sm font-semibold",children:o("mobileDragHint")}),T.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-[-8px] w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-yellow-400"})]})},FC=({targetSpreadId:i,targetSlotId:t,onClose:o})=>{const{t:a}=ft(),[u,d]=j.useState(null);return j.useEffect(()=>{const m=setTimeout(()=>{o()},5e3),p=document.querySelector(`[data-spread-id="${i}"] [data-slot-id="${t}"]`);if(p){const y=p.getBoundingClientRect();d({top:y.top-60,left:y.left+y.width/2,width:Math.min(y.width*.9,250)})}return()=>clearTimeout(m)},[o,i,t]),u?T.jsxs("div",{className:"fixed bg-yellow-400 text-black p-3 rounded-lg shadow-lg z-50 animate-fade-in-up",style:{top:`${u.top}px`,left:`${u.left}px`,width:`${u.width}px`,transform:"translateX(-50%)",visibility:u?"visible":"hidden"},onClick:o,children:[T.jsx("p",{className:"text-center text-sm font-semibold",children:a("doubleTapToEdit")}),T.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-[-8px] w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-yellow-400"})]}):null},YC=({onAutoDesign:i,onRandomDesign:t,onClose:o})=>{const{t:a}=ft();return T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:T.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-xs flex flex-col animate-fade-in-up",onClick:u=>u.stopPropagation(),children:[T.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[T.jsx("h2",{className:"text-lg font-semibold",children:a("designOptionsTitle")}),T.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200",children:T.jsx(Gt,{className:"w-6 h-6"})})]}),T.jsxs("div",{className:"p-4 space-y-3",children:[T.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gray-700 text-white font-semibold rounded-md shadow hover:bg-gray-600 transition-colors",children:[T.jsx(ns,{className:"w-5 h-5"}),T.jsx("span",{children:a("designForMe")})]}),T.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 transition-colors",children:[T.jsx(qu,{className:"w-5 h-5"}),T.jsx("span",{children:a("designRandom")})]})]})]})})},xg=[{id:"spread1",pages:[1,2],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread2",pages:[3,4],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread3",pages:[5,6],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread4",pages:[7,8],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread5",pages:[9,10],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread6",pages:[11,12],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread7",pages:[13,14],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread8",pages:[15,16],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread9",pages:[17,18],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread10",pages:[19,20],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]}],Eg=[],JC="PhotoBookDB",KC=1,Ci="images";let $a=null;const ds=()=>new Promise((i,t)=>{if($a)return i($a);const o=indexedDB.open(JC,KC);o.onerror=()=>{console.error("IndexedDB error:",o.error),t("IndexedDB error")},o.onsuccess=()=>{$a=o.result,i($a)},o.onupgradeneeded=a=>{const u=a.target.result;u.objectStoreNames.contains(Ci)||u.createObjectStore(Ci,{keyPath:"id"})}}),XC=async()=>{await ds()},jC=async(i,t)=>{const o=await ds();return new Promise((a,u)=>{const p=o.transaction([Ci],"readwrite").objectStore(Ci).put({id:i,blob:t});p.onsuccess=()=>a(),p.onerror=()=>{console.error("Failed to save image to DB:",p.error),u(p.error)}})},QC=async i=>{const t=await ds();return new Promise((o,a)=>{const m=t.transaction([Ci],"readonly").objectStore(Ci).get(i);m.onsuccess=()=>{o(m.result?m.result.blob:null)},m.onerror=()=>{console.error("Failed to get image from DB:",m.error),a(m.error)}})},Cg=async i=>{const t=await ds();return new Promise((o,a)=>{const m=t.transaction([Ci],"readwrite").objectStore(Ci).delete(i);m.onsuccess=()=>o(),m.onerror=()=>{console.error("Failed to delete image from DB:",m.error),a(m.error)}})},ZC=()=>{const[i,t]=j.useState(!1),[o,a]=j.useState(Eg),[u,d]=j.useState(xg),[m,p]=j.useState(!1),[y,g]=j.useState(!1),[v,b]=j.useState(null),[x,_]=j.useState(!1),[L,U]=j.useState(!1),[ee,z]=j.useState(288),[G,J]=j.useState(150),[F,te]=j.useState(window.innerWidth<768),[ne,V]=j.useState("4K"),{t:Z}=ft(),[B,oe]=j.useState(null),[Q,fe]=j.useState(null),[Ae,Me]=j.useState(!1),[ze,I]=j.useState(null),[X,se]=j.useState(!1),[ye,Te]=j.useState(null),[w,P]=j.useState(!1),[ie,ae]=j.useState(!1),[re,be]=j.useState(null),[Ie,at]=j.useState(!1),[pe,St]=j.useState(!1),[Lt,Pt]=j.useState(!1),[Kt,Ht]=j.useState(null),xn=j.useRef(null),[tn,Ki]=j.useState(null),[ot,An]=j.useState(null),[Et,Nn]=j.useState(null),Xi=Y=>{const K=Y.target;!K.closest('[data-text-element="true"]')&&!K.closest('[data-text-toolbar="true"]')&&!K.closest('[data-sticker-element="true"]')&&(oe(null),fe(null))};j.useEffect(()=>{(async()=>{if(window.aistudio&&window.aistudio.hasSelectedApiKey){const le=await window.aistudio.hasSelectedApiKey();t(le)}else t(!0)})(),XC().catch(le=>console.error("Failed to initialize database:",le)),document.addEventListener("click",Xi);const K=()=>{te(window.innerWidth<768)};return window.addEventListener("resize",K),()=>{document.removeEventListener("click",Xi),window.removeEventListener("resize",K)}},[]);const ql=async()=>{window.aistudio&&window.aistudio.openSelectKey&&(await window.aistudio.openSelectKey(),t(!0))},_t=Y=>{if(Y.preventDefault(),F){document.body.style.cursor="row-resize",document.body.style.userSelect="none";const K=W=>{const $=window.innerHeight-W.clientY,ce=150,Ce=Math.min(500,window.innerHeight-200);$>=ce&&$<=Ce&&J($)},le=()=>{document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",le)};window.addEventListener("mousemove",K),window.addEventListener("mouseup",le)}else{document.body.style.cursor="col-resize",document.body.style.userSelect="none";const K=W=>{const $=W.clientX;$>=200&&$<=600&&z($)},le=()=>{document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",le)};window.addEventListener("mousemove",K),window.addEventListener("mouseup",le)}},ji=Y=>{oe(Y),Y&&fe(null)},he=Y=>{fe(Y),Y&&oe(null)},He=Y=>{const K=Array.from(Y).map((W,$)=>({id:`new-img-${Date.now()}-${$}`,url:URL.createObjectURL(W),used:0,linked:!1}));if(o.length===0&&K.length>0){const W=localStorage.getItem("mobileDragHintShown");F&&!W&&(St(!0),localStorage.setItem("mobileDragHintShown","true")),localStorage.getItem("designForMeHintShown")||setTimeout(()=>{F?P(!0):p(!0),localStorage.setItem("designForMeHintShown","true")},800)}a(W=>[...K,...W])},Fe=(Y,K)=>{a(le=>{const W=[...le],$=W.splice(Y,1)[0];return W.splice(K,0,$),W})},st=(Y,K)=>{d(le=>{const W=[...le],$=W.findIndex(de=>de.id===Y);if($===-1)return le;const ce=W[$],Ce=Object.values(ce.images).map(de=>de.image);return a(de=>{const xe=new Map;return Ce.forEach(Pe=>{xe.set(Pe.id,(xe.get(Pe.id)||0)+1)}),de.map(Pe=>xe.has(Pe.id)?{...Pe,used:Pe.used-(xe.get(Pe.id)||0)}:Pe)}),W[$]={...ce,layoutId:K,images:{},texts:[],stickers:[]},W})},Ye=j.useCallback((Y,K,le)=>{const W=o.find(Ce=>Ce.id===Y);if(!W)return;let $=null;d(Ce=>Ce.map(de=>{if(de.id===K){const xe={...de.images},Pe=xe[le];return Pe&&($=Pe.image.id),xe[le]={image:W,transform:{x:50,y:50,scale:1,rotation:0,flipHorizontal:!1,flipVertical:!1}},{...de,images:xe}}return de})),a(Ce=>Ce.map(de=>de.id===Y?{...de,used:(de.used||0)+1}:de.id===$?{...de,used:Math.max(0,(de.used||0)-1)}:de));const ce=localStorage.getItem("mobileEditHintShown");F&&!ce&&(Pt(!0),Ht({spreadId:K,slotId:le}),localStorage.setItem("mobileEditHintShown","true"))},[o,F]),rt=(Y,K)=>{Y.spreadId===K.spreadId&&Y.slotId===K.slotId||d(le=>{const W=le.findIndex(Oe=>Oe.id===Y.spreadId),$=le.findIndex(Oe=>Oe.id===K.spreadId);if(W===-1||$===-1)return le;const ce=le[W],Ce=le[$],de=ce.images[Y.slotId],xe=Ce.images[K.slotId];if(!de)return le;const Pe=[...le];if(W===$){const Oe={...ce,images:{...ce.images}};Oe.images[K.slotId]=de,xe?Oe.images[Y.slotId]=xe:delete Oe.images[Y.slotId],Pe[W]=Oe}else{const Oe={...ce,images:{...ce.images}},Ue={...Ce,images:{...Ce.images}};Ue.images[K.slotId]=de,xe?Oe.images[Y.slotId]=xe:delete Oe.images[Y.slotId],Pe[W]=Oe,Pe[$]=Ue}return Pe})},ht=(Y,K,le)=>{d(W=>W.map($=>{if($.id===Y){const ce={...$.images},Ce=ce[K];if(Ce)return ce[K]={...Ce,transform:le},{...$,images:ce}}return $}))},ut=(Y,K)=>{let le=null;d(W=>W.map($=>{if($.id===Y){const ce={...$.images};if(ce[K])return le=ce[K].image.id,delete ce[K],{...$,images:ce}}return $})),le&&a(W=>W.map($=>$.id===le?{...$,used:Math.max(0,($.used||0)-1)}:$))},Je=()=>{d(Y=>{const K=Y[Y.length-1],le=K?K.pages[1]+1:1,W={id:`spread${Date.now()}`,pages:[le,le+1],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]};return[...Y,W]})},Ke=(Y,K)=>{d(le=>{const W=[...le],[$]=W.splice(Y,1);return W.splice(K,0,$),W.map((ce,Ce)=>({...ce,pages:[Ce*2+1,Ce*2+2]}))})},Qe=()=>{o.length>0&&p(!0)},Rn=Y=>{const K=Po[Y];if(!K||K.slots.length===0||o.length===0){p(!1);return}const le=[...o];let W=0;const $=u.map(de=>{const xe={};for(const Pe of K.slots)if(W<le.length){const Oe=le[W];xe[Pe.id]={image:Oe,transform:{x:50,y:50,scale:1,rotation:0,flipHorizontal:!1,flipVertical:!1}},W++}return{...de,layoutId:Y,images:xe,texts:[],stickers:[]}}),ce=new Map;$.forEach(de=>{Object.values(de.images).forEach(xe=>{ce.set(xe.image.id,(ce.get(xe.image.id)||0)+1)})});const Ce=o.map(de=>({...de,used:ce.get(de.id)||0}));d($),a(Ce),p(!1)},nn=()=>{o.length!==0&&g(!0)},zt=Y=>{if(o.length===0||Y.length===0){g(!1);return}const K=[...o];let le=0;const $=u.map(de=>{const xe=Y[Math.floor(Math.random()*Y.length)];return{...de,layoutId:xe,images:{},texts:[],stickers:[]}}).map(de=>{const xe=Po[de.layoutId],Pe={};for(const Oe of xe.slots)if(le<K.length){const Ue=K[le];Pe[Oe.id]={image:Ue,transform:{x:50,y:50,scale:1,rotation:0,flipHorizontal:!1,flipVertical:!1}},le++}return{...de,images:Pe}}),ce=new Map;$.forEach(de=>{Object.values(de.images).forEach(xe=>{ce.set(xe.image.id,(ce.get(xe.image.id)||0)+1)})});const Ce=o.map(de=>({...de,used:ce.get(de.id)||0}));d($),a(Ce),g(!1)},At=Y=>{const K=o.filter(W=>W.id!==Y),le=u.map(W=>{const $={...W.images};let ce=!1;return Object.entries($).forEach(([Ce,de])=>{de.image.id===Y&&(delete $[Ce],ce=!0)}),ce?{...W,images:$}:W});a(K),d(le)},ln=()=>{a([]);const Y=u.map(K=>({...K,images:{},texts:[],stickers:[]}));d(Y)},$n=Y=>{b(Y),_(!0)},Mn=()=>{oe(null),fe(null),at(!0)},Qi=()=>{U(Y=>!Y),oe(null),fe(null)},_i=Y=>{I(Y),Me(!0)},fs=Y=>{if(!ze)return;const K={...Y.style};F&&K.fontSize>28&&(K.fontSize=28);const le={id:`text-${Date.now()}`,content:Y.defaultContent||"Your Text Here",x:25,y:45,width:50,height:15,style:K};d(W=>W.map($=>$.id===ze?{...$,texts:[...$.texts,le]}:$)),ji(le.id),Me(!1),I(null)},Ho=(Y,K,le)=>{d(W=>W.map($=>$.id===Y?{...$,texts:$.texts.map(ce=>ce.id===K?{...ce,...le}:ce)}:$))},Gl=(Y,K)=>{d(le=>le.map(W=>W.id===Y?{...W,texts:W.texts.filter($=>$.id!==K)}:W))},Ai=Y=>{Te(Y),se(!0)},hs=Y=>{if(!ye)return;const K={id:`sticker-${Date.now()}`,url:Y,x:35,y:35,width:15,height:30,rotation:0};d(le=>le.map(W=>W.id===ye?{...W,stickers:[...W.stickers,K]}:W)),he(K.id),se(!1),Te(null)},zo=(Y,K,le)=>{d(W=>W.map($=>$.id===Y?{...$,stickers:$.stickers.map(ce=>ce.id===K?{...ce,...le}:ce)}:$))},qo=(Y,K)=>{d(le=>le.map(W=>W.id===Y?{...W,stickers:W.stickers.filter($=>$.id!==K)}:W))},Go=Y=>{var K;Ki(Y),(K=xn.current)==null||K.click()},Vl=Y=>{if(!Y.target.files||Y.target.files.length===0||!tn)return;const K=Y.target.files[0],le=URL.createObjectURL(K),W={id:`overlay-${Date.now()}`,url:le,x:25,y:25,width:30,height:60,rotation:0};d($=>$.map(ce=>ce.id===tn?{...ce,stickers:[...ce.stickers,W]}:ce)),he(W.id),Ki(null),Y.target&&(Y.target.value="")},Ni=async Y=>{if(!v)return alert("Cannot save project without an album size."),!1;try{for(const $ of o)if($.url.startsWith("blob:")){const Ce=await(await fetch($.url)).blob();await jC($.id,Ce)}const K=o.map(({url:$,...ce})=>ce),W={spreads:u.map($=>({...$,images:Object.fromEntries(Object.entries($.images).map(([ce,Ce])=>{const{url:de,...xe}=Ce.image,Pe={...Ce,image:xe};return[ce,Pe]}))})),libraryImages:K,albumSize:v};return localStorage.setItem(`photobook_project_${Y}`,JSON.stringify(W)),be(Y),!0}catch(K){console.error("Failed to save project:",K),alert("An unexpected error occurred while saving the project. Your browser's storage might be full or IndexedDB is not supported.");for(const le of o)await Cg(le.id).catch(W=>console.error(`Cleanup failed for image ${le.id}`,W));return!1}},Bl=async Y=>{const K=localStorage.getItem(`photobook_project_${Y}`);if(K)try{const le=JSON.parse(K);o.forEach(de=>{de.url.startsWith("blob:")&&URL.revokeObjectURL(de.url)});const W=le.libraryImages.map(async de=>{const xe=await QC(de.id);return xe?{...de,url:URL.createObjectURL(xe)}:(console.warn(`Missing image data for ID: ${de.id}`),null)}),$=(await Promise.all(W)).filter(de=>de!==null),ce=new Map($.map(de=>[de.id,de])),Ce=le.spreads.map(de=>{const xe={};for(const Pe of Object.keys(de.images)){const Oe=de.images[Pe],Ue=ce.get(Oe.image.id);Ue&&(xe[Pe]={...Oe,image:Ue})}return{...de,images:xe}});a($),d(Ce),b(le.albumSize),be(Y),ae(!1),_(!0)}catch(le){console.error("Failed to load project:",le),alert("Failed to load project. The project file might be corrupted or image data is missing.")}},Ol=async Y=>{const K=localStorage.getItem(`photobook_project_${Y}`);if(K)try{const le=JSON.parse(K);if(le.libraryImages&&Array.isArray(le.libraryImages))for(const W of le.libraryImages)await Cg(W.id).catch($=>console.error(`Failed to delete image ${W.id} from DB`,$))}catch{console.error(`Could not parse project ${Y} for deletion, image files may be orphaned.`)}localStorage.removeItem(`photobook_project_${Y}`),re===Y&&be(null)},yn=()=>{o.forEach(Y=>{Y.url.startsWith("blob:")&&URL.revokeObjectURL(Y.url)}),a(Eg),d(xg),be(null),ae(!1),U(!1),oe(null),fe(null),b(null),_(!1)},bt=(Y,K)=>{if(!F)return;K.cancelable&&K.preventDefault();const le=K.touches[0],W=K.currentTarget.getBoundingClientRect();An({image:Y,x:le.clientX,y:le.clientY,width:Math.min(W.width,100),height:Math.min(W.height,100)})};j.useEffect(()=>{if(!ot)return;const Y=le=>{if(le.touches.length===0)return;const W=le.touches[0];An(ce=>ce?{...ce,x:W.clientX,y:W.clientY}:null);const $=document.elementFromPoint(W.clientX,W.clientY);if($){const ce=$.closest("[data-slot-id]"),Ce=$.closest("[data-spread-id]");if(ce&&Ce){const de=ce.getAttribute("data-slot-id"),xe=Ce.getAttribute("data-spread-id");if(de&&xe){((Et==null?void 0:Et.spreadId)!==xe||(Et==null?void 0:Et.slotId)!==de)&&Nn({spreadId:xe,slotId:de});return}}}Et!==null&&Nn(null)},K=()=>{ot&&Et&&Ye(ot.image.id,Et.spreadId,Et.slotId),An(null),Nn(null)};return window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("touchend",K),window.addEventListener("touchcancel",K),()=>{window.removeEventListener("touchmove",Y),window.removeEventListener("touchend",K),window.removeEventListener("touchcancel",K)}},[ot,Et,Ye]),j.useEffect(()=>{const Y=ot?`lib-img-thumb-${ot.image.id}`:null;if(Y){const K=document.getElementById(Y);K&&(K.style.visibility="hidden")}return()=>{if(Y){const K=document.getElementById(Y);K&&(K.style.visibility="visible")}}},[ot]);const Dt=(Y,K,le,W,$)=>{const ce=atob(W),Ce=new Array(ce.length);for(let Ue=0;Ue<ce.length;Ue++)Ce[Ue]=ce.charCodeAt(Ue);const de=new Uint8Array(Ce),xe=new Blob([de],{type:$}),Pe=URL.createObjectURL(xe),Oe={id:`ai-img-${Date.now()}`,url:Pe,used:1,linked:!1};a(Ue=>{const on=Ue.map(Ct=>Ct.id===Y?{...Ct,used:Math.max(0,(Ct.used||0)-1)}:Ct),In=on.findIndex(Ct=>Ct.id===Y);return In!==-1?on.splice(In+1,0,Oe):on.unshift(Oe),on}),d(Ue=>Ue.map(on=>{if(on.id===le){const In={...on.images},Ct=In[K];return Ct&&Ct.image.id===Y&&(In[K]={...Ct,image:Oe}),{...on,images:In}}return on}))};return i?!x||!v?T.jsxs("div",{className:"bg-gray-200 h-full",children:[T.jsx(LC,{isMobile:F,onSelectSize:$n,onOpenProjectManager:()=>ae(!0)}),ie&&T.jsx(bg,{currentProjectName:re,onSave:Ni,onLoad:Bl,onDelete:Ol,onNewProject:yn,onClose:()=>ae(!1)})]}):T.jsxs("div",{className:"flex flex-col h-full font-sans bg-gray-200 text-gray-800",children:[T.jsx("input",{type:"file",accept:"image/*",ref:xn,onChange:Vl,className:"hidden"}),ot&&T.jsx("div",{style:{position:"fixed",top:ot.y-ot.height/2,left:ot.x-ot.width/2,width:`${ot.width}px`,height:`${ot.height}px`,zIndex:1e3,pointerEvents:"none",opacity:.8},children:T.jsx("img",{src:ot.image.url,alt:"drag-preview",className:"w-full h-full object-cover rounded-md shadow-lg"})}),pe&&T.jsx(OC,{libraryHeight:G,onClose:()=>St(!1)}),Lt&&Kt&&T.jsx(FC,{targetSpreadId:Kt.spreadId,targetSlotId:Kt.slotId,onClose:()=>{Pt(!1),Ht(null)}}),m&&T.jsx(UC,{isMobile:F,onSelectLayout:Rn,onClose:()=>p(!1)}),y&&T.jsx(GC,{isMobile:F,onConfirm:zt,onClose:()=>g(!1)}),w&&T.jsx(YC,{onClose:()=>P(!1),onAutoDesign:()=>{P(!1),Qe()},onRandomDesign:()=>{P(!1),nn()}}),Ae&&T.jsx(HC,{onSelectTemplate:fs,onClose:()=>{Me(!1),I(null)}}),X&&T.jsx(qC,{onSelectSticker:hs,onClose:()=>{se(!1),Te(null)}}),ie&&T.jsx(bg,{currentProjectName:re,onSave:Ni,onLoad:Bl,onDelete:Ol,onNewProject:yn,onClose:()=>ae(!1)}),Ie&&T.jsx(BC,{projectName:re,albumSize:v,spreads:u,libraryImages:o,onClose:()=>at(!1),onSaveProject:Ni}),T.jsx(V0,{totalPages:u.length*2,onSubmitProject:Mn,isOverviewMode:L,onToggleOverview:Qi,onDesignForMe:Qe,onDesignRandom:nn,isDesignDisabled:o.length===0,onOpenProjectManager:()=>ae(!0),isMobile:F,onOpenMobileDesignPicker:()=>P(!0),aiResolution:ne,setAiResolution:V}),T.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[T.jsx("div",{style:F?{height:`${G}px`}:{width:`${ee}px`},className:"order-3 md:order-1 flex-shrink-0 md:h-full flex flex-col bg-gray-100/80 backdrop-blur-sm border-t md:border-t-0 md:border-r border-gray-300",children:T.jsx(kC,{images:o,totalImages:o.length,onAddImages:He,onReorder:Fe,onRemoveImage:At,onClearLibrary:ln,isMobile:F,onImageTouchStart:bt})}),T.jsx("div",{onMouseDown:_t,className:"order-2 md:order-2 w-full h-1.5 md:w-1.5 md:h-full flex-shrink-0 cursor-row-resize md:cursor-col-resize bg-gray-300 hover:bg-blue-400 transition-colors"}),T.jsx("main",{className:"order-1 md:order-3 flex-1 overflow-y-auto",children:T.jsx(DC,{spreads:u,albumSize:v,isMobile:F,isOverviewMode:L,selectedTextId:B,selectedStickerId:Q,touchDragOverSlot:Et,onDropImageInSlot:Ye,onSwapImagesInSlots:rt,onChangeLayout:st,onUpdateImageTransform:ht,onRemoveImageFromSlot:ut,onAddSpread:Je,onReorderSpreads:Ke,onOpenTextPicker:_i,onUpdateText:Ho,onRemoveText:Gl,onSelectText:ji,onOpenStickerPicker:Ai,onUpdateSticker:zo,onRemoveSticker:qo,onSelectSticker:he,onAiRetouchImage:Dt,onTriggerAddOverlayImage:Go,aiResolution:ne})})]})]}):T.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-gray-200 font-sans text-gray-800",children:T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl text-center max-w-md mx-4",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"API Key Required"}),T.jsx("p",{className:"mb-6 text-gray-600",children:"To use the high-quality Nano Banana Pro model (4K), you must select a paid API key."}),T.jsx("button",{onClick:ql,className:"px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:"Select API Key"}),T.jsx("div",{className:"mt-6 text-sm text-gray-500",children:T.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline",children:"Billing Information"})})]})})},np=document.getElementById("root");if(!np)throw new Error("Could not find root element to mount to");const WC=E0.createRoot(np);WC.render(T.jsx(g0.StrictMode,{children:T.jsx(G0,{children:T.jsx(ZC,{})})}));
