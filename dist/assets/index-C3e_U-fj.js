(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();function gg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vu={exports:{}},Uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function e0(){if(Uh)return Uo;Uh=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:i,type:s,key:m,ref:u!==void 0?u:null,props:f}}return Uo.Fragment=n,Uo.jsx=o,Uo.jsxs=o,Uo}var Lh;function t0(){return Lh||(Lh=1,vu.exports=e0()),vu.exports}var v=t0(),Tu={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function n0(){if(zh)return xe;zh=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function N(w){return w===null||typeof w!="object"?null:(w=x&&w[x]||w["@@iterator"],typeof w=="function"?w:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,W={};function q(w,P,le){this.props=w,this.context=P,this.refs=W,this.updater=le||L}q.prototype.isReactComponent={},q.prototype.setState=function(w,P){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,P,"setState")},q.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function k(){}k.prototype=q.prototype;function F(w,P,le){this.props=w,this.context=P,this.refs=W,this.updater=le||L}var ne=F.prototype=new k;ne.constructor=F,z(ne,q.prototype),ne.isPureReactComponent=!0;var se=Array.isArray;function ee(){}var O={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function G(w,P,le){var $=le.ref;return{$$typeof:i,type:w,key:P,ref:$!==void 0?$:null,props:le}}function oe(w,P){return G(w.type,P,w.props)}function ie(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function de(w){var P={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(le){return P[le]})}var Ee=/\/+/g;function Le(w,P){return typeof w=="object"&&w!==null&&w.key!=null?de(""+w.key):P.toString(36)}function Re(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ee,ee):(w.status="pending",w.then(function(P){w.status==="pending"&&(w.status="fulfilled",w.value=P)},function(P){w.status==="pending"&&(w.status="rejected",w.reason=P)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function M(w,P,le,$,Te){var Se=typeof w;(Se==="undefined"||Se==="boolean")&&(w=null);var De=!1;if(w===null)De=!0;else switch(Se){case"bigint":case"string":case"number":De=!0;break;case"object":switch(w.$$typeof){case i:case n:De=!0;break;case T:return De=w._init,M(De(w._payload),P,le,$,Te)}}if(De)return Te=Te(w),De=$===""?"."+Le(w,0):$,se(Te)?(le="",De!=null&&(le=De.replace(Ee,"$&/")+"/"),M(Te,P,le,"",function(Et){return Et})):Te!=null&&(ie(Te)&&(Te=oe(Te,le+(Te.key==null||w&&w.key===Te.key?"":(""+Te.key).replace(Ee,"$&/")+"/")+De)),P.push(Te)),1;De=0;var ge=$===""?".":$+":";if(se(w))for(var Ie=0;Ie<w.length;Ie++)$=w[Ie],Se=ge+Le($,Ie),De+=M($,P,le,Se,Te);else if(Ie=N(w),typeof Ie=="function")for(w=Ie.call(w),Ie=0;!($=w.next()).done;)$=$.value,Se=ge+Le($,Ie++),De+=M($,P,le,Se,Te);else if(Se==="object"){if(typeof w.then=="function")return M(Re(w),P,le,$,Te);throw P=String(w),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return De}function Q(w,P,le){if(w==null)return w;var $=[],Te=0;return M(w,$,"","",function(Se){return P.call(le,Se,Te++)}),$}function ae(w){if(w._status===-1){var P=w._result;P=P(),P.then(function(le){(w._status===0||w._status===-1)&&(w._status=1,w._result=le)},function(le){(w._status===0||w._status===-1)&&(w._status=2,w._result=le)}),w._status===-1&&(w._status=0,w._result=P)}if(w._status===1)return w._result.default;throw w._result}var ye=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ve={map:Q,forEach:function(w,P,le){Q(w,function(){P.apply(this,arguments)},le)},count:function(w){var P=0;return Q(w,function(){P++}),P},toArray:function(w){return Q(w,function(P){return P})||[]},only:function(w){if(!ie(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return xe.Activity=S,xe.Children=ve,xe.Component=q,xe.Fragment=o,xe.Profiler=u,xe.PureComponent=F,xe.StrictMode=s,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,xe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return O.H.useMemoCache(w)}},xe.cache=function(w){return function(){return w.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(w,P,le){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var $=z({},w.props),Te=w.key;if(P!=null)for(Se in P.key!==void 0&&(Te=""+P.key),P)!K.call(P,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&P.ref===void 0||($[Se]=P[Se]);var Se=arguments.length-2;if(Se===1)$.children=le;else if(1<Se){for(var De=Array(Se),ge=0;ge<Se;ge++)De[ge]=arguments[ge+2];$.children=De}return G(w.type,Te,$)},xe.createContext=function(w){return w={$$typeof:m,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:f,_context:w},w},xe.createElement=function(w,P,le){var $,Te={},Se=null;if(P!=null)for($ in P.key!==void 0&&(Se=""+P.key),P)K.call(P,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(Te[$]=P[$]);var De=arguments.length-2;if(De===1)Te.children=le;else if(1<De){for(var ge=Array(De),Ie=0;Ie<De;Ie++)ge[Ie]=arguments[Ie+2];Te.children=ge}if(w&&w.defaultProps)for($ in De=w.defaultProps,De)Te[$]===void 0&&(Te[$]=De[$]);return G(w,Se,Te)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(w){return{$$typeof:p,render:w}},xe.isValidElement=ie,xe.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:ae}},xe.memo=function(w,P){return{$$typeof:g,type:w,compare:P===void 0?null:P}},xe.startTransition=function(w){var P=O.T,le={};O.T=le;try{var $=w(),Te=O.S;Te!==null&&Te(le,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(ee,ye)}catch(Se){ye(Se)}finally{P!==null&&le.types!==null&&(P.types=le.types),O.T=P}},xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},xe.use=function(w){return O.H.use(w)},xe.useActionState=function(w,P,le){return O.H.useActionState(w,P,le)},xe.useCallback=function(w,P){return O.H.useCallback(w,P)},xe.useContext=function(w){return O.H.useContext(w)},xe.useDebugValue=function(){},xe.useDeferredValue=function(w,P){return O.H.useDeferredValue(w,P)},xe.useEffect=function(w,P){return O.H.useEffect(w,P)},xe.useEffectEvent=function(w){return O.H.useEffectEvent(w)},xe.useId=function(){return O.H.useId()},xe.useImperativeHandle=function(w,P,le){return O.H.useImperativeHandle(w,P,le)},xe.useInsertionEffect=function(w,P){return O.H.useInsertionEffect(w,P)},xe.useLayoutEffect=function(w,P){return O.H.useLayoutEffect(w,P)},xe.useMemo=function(w,P){return O.H.useMemo(w,P)},xe.useOptimistic=function(w,P){return O.H.useOptimistic(w,P)},xe.useReducer=function(w,P,le){return O.H.useReducer(w,P,le)},xe.useRef=function(w){return O.H.useRef(w)},xe.useState=function(w){return O.H.useState(w)},xe.useSyncExternalStore=function(w,P,le){return O.H.useSyncExternalStore(w,P,le)},xe.useTransition=function(){return O.H.useTransition()},xe.version="19.2.0",xe}var Ph;function zu(){return Ph||(Ph=1,Tu.exports=n0()),Tu.exports}var Z=zu();const i0=gg(Z);var bu={exports:{}},Lo={},Su={exports:{}},xu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function l0(){return Hh||(Hh=1,(function(i){function n(M,Q){var ae=M.length;M.push(Q);e:for(;0<ae;){var ye=ae-1>>>1,ve=M[ye];if(0<u(ve,Q))M[ye]=Q,M[ae]=ve,ae=ye;else break e}}function o(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var Q=M[0],ae=M.pop();if(ae!==Q){M[0]=ae;e:for(var ye=0,ve=M.length,w=ve>>>1;ye<w;){var P=2*(ye+1)-1,le=M[P],$=P+1,Te=M[$];if(0>u(le,ae))$<ve&&0>u(Te,le)?(M[ye]=Te,M[$]=ae,ye=$):(M[ye]=le,M[P]=ae,ye=P);else if($<ve&&0>u(Te,ae))M[ye]=Te,M[$]=ae,ye=$;else break e}}return Q}function u(M,Q){var ae=M.sortIndex-Q.sortIndex;return ae!==0?ae:M.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();i.unstable_now=function(){return m.now()-p}}var y=[],g=[],T=1,S=null,x=3,N=!1,L=!1,z=!1,W=!1,q=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ne(M){for(var Q=o(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=M)s(g),Q.sortIndex=Q.expirationTime,n(y,Q);else break;Q=o(g)}}function se(M){if(z=!1,ne(M),!L)if(o(y)!==null)L=!0,ee||(ee=!0,de());else{var Q=o(g);Q!==null&&Re(se,Q.startTime-M)}}var ee=!1,O=-1,K=5,G=-1;function oe(){return W?!0:!(i.unstable_now()-G<K)}function ie(){if(W=!1,ee){var M=i.unstable_now();G=M;var Q=!0;try{e:{L=!1,z&&(z=!1,k(O),O=-1),N=!0;var ae=x;try{t:{for(ne(M),S=o(y);S!==null&&!(S.expirationTime>M&&oe());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,x=S.priorityLevel;var ve=ye(S.expirationTime<=M);if(M=i.unstable_now(),typeof ve=="function"){S.callback=ve,ne(M),Q=!0;break t}S===o(y)&&s(y),ne(M)}else s(y);S=o(y)}if(S!==null)Q=!0;else{var w=o(g);w!==null&&Re(se,w.startTime-M),Q=!1}}break e}finally{S=null,x=ae,N=!1}Q=void 0}}finally{Q?de():ee=!1}}}var de;if(typeof F=="function")de=function(){F(ie)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Le=Ee.port2;Ee.port1.onmessage=ie,de=function(){Le.postMessage(null)}}else de=function(){q(ie,0)};function Re(M,Q){O=q(function(){M(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(M){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var ae=x;x=Q;try{return M()}finally{x=ae}},i.unstable_requestPaint=function(){W=!0},i.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ae=x;x=M;try{return Q()}finally{x=ae}},i.unstable_scheduleCallback=function(M,Q,ae){var ye=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ye+ae:ye):ae=ye,M){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ae+ve,M={id:T++,callback:Q,priorityLevel:M,startTime:ae,expirationTime:ve,sortIndex:-1},ae>ye?(M.sortIndex=ae,n(g,M),o(y)===null&&M===o(g)&&(z?(k(O),O=-1):z=!0,Re(se,ae-ye))):(M.sortIndex=ve,n(y,M),L||N||(L=!0,ee||(ee=!0,de()))),M},i.unstable_shouldYield=oe,i.unstable_wrapCallback=function(M){var Q=x;return function(){var ae=x;x=Q;try{return M.apply(this,arguments)}finally{x=ae}}}})(xu)),xu}var qh;function o0(){return qh||(qh=1,Su.exports=l0()),Su.exports}var Eu={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function a0(){if(Gh)return Ut;Gh=1;var i=zu();function n(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,g,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:g,implementation:T}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ut.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(y,g,null,T)},Ut.flushSync=function(y){var g=m.T,T=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=g,s.p=T,s.d.f()}},Ut.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Ut.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ut.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:N}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ut.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Ut.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,S=p(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ut.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Ut.requestFormReset=function(y){s.d.r(y)},Ut.unstable_batchedUpdates=function(y,g){return y(g)},Ut.useFormState=function(y,g,T){return m.H.useFormState(y,g,T)},Ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ut.version="19.2.0",Ut}var Vh;function s0(){if(Vh)return Eu.exports;Vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Eu.exports=a0(),Eu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function r0(){if(Bh)return Lo;Bh=1;var i=o0(),n=zu(),o=s0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var l=e,a=t;;){var c=l.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){l=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===l)return y(c),e;if(h===a)return y(c),t;h=h.sibling}throw Error(s(188))}if(l.return!==a.return)l=c,a=h;else{for(var b=!1,E=c.child;E;){if(E===l){b=!0,l=c,a=h;break}if(E===a){b=!0,a=c,l=h;break}E=E.sibling}if(!b){for(E=h.child;E;){if(E===l){b=!0,l=h,a=c;break}if(E===a){b=!0,a=h,l=c;break}E=E.sibling}if(!b)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Symbol.for("react.client.reference");function Le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case q:return"Profiler";case W:return"StrictMode";case se:return"Suspense";case ee:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case F:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:Le(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return Le(e(t))}catch{}}return null}var Re=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},ye=[],ve=-1;function w(e){return{current:e}}function P(e){0>ve||(e.current=ye[ve],ye[ve]=null,ve--)}function le(e,t){ve++,ye[ve]=e.current,e.current=t}var $=w(null),Te=w(null),Se=w(null),De=w(null);function ge(e,t){switch(le(Se,t),le(Te,e),le($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ih(t),e=lh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P($),le($,e)}function Ie(){P($),P(Te),P(Se)}function Et(e){e.memoizedState!==null&&le(De,e);var t=$.current,l=lh(t,e.type);t!==l&&(le(Te,e),le($,l))}function Dt(e){Te.current===e&&(P($),P(Te)),De.current===e&&(P(De),Ro._currentValue=ae)}var Yt,pn;function Ke(e){if(Yt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Yt=t&&t[1]||"",pn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+e+pn}var Ft=!1;function bt(e,t){if(!e||Ft)return"";Ft=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var I=U}Reflect.construct(e,[],B)}else{try{B.call()}catch(U){I=U}e.call(B.prototype)}}else{try{throw Error()}catch(U){I=U}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&I&&typeof U.stack=="string")return[U.stack,I.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=a.DetermineComponentFrameRoot(),b=h[0],E=h[1];if(b&&E){var C=b.split(`
`),D=E.split(`
`);for(c=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;if(a===C.length||c===D.length)for(a=C.length-1,c=D.length-1;1<=a&&0<=c&&C[a]!==D[c];)c--;for(;1<=a&&0<=c;a--,c--)if(C[a]!==D[c]){if(a!==1||c!==1)do if(a--,c--,0>c||C[a]!==D[c]){var H=`
`+C[a].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=a&&0<=c);break}}}finally{Ft=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ke(l):""}function yn(e,t){switch(e.tag){case 26:case 27:case 5:return Ke(e.type);case 16:return Ke("Lazy");case 13:return e.child!==t&&t!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return Ke("Activity");default:return""}}function bi(e){try{var t="",l=null;do t+=yn(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Si=Object.prototype.hasOwnProperty,Yn=i.unstable_scheduleCallback,En=i.unstable_cancelCallback,Pl=i.unstable_shouldYield,Hl=i.unstable_requestPaint,Ct=i.unstable_now,ue=i.unstable_getCurrentPriorityLevel,Pe=i.unstable_ImmediatePriority,Qe=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,$e=i.unstable_LowPriority,et=i.unstable_IdlePriority,st=i.log,wt=i.unstable_setDisableYieldValue,At=null,Ze=null;function tt(e){if(typeof st=="function"&&wt(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(At,e)}catch{}}var rt=Math.clz32?Math.clz32:Jn,xi=Math.log,Fn=Math.LN2;function Jn(e){return e>>>=0,e===0?32:31-(xi(e)/Fn|0)|0}var vn=256,jn=262144,Fi=4194304;function Cn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var c=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var E=a&134217727;return E!==0?(a=E&~h,a!==0?c=Cn(a):(b&=E,b!==0?c=Cn(b):l||(l=E&~e,l!==0&&(c=Cn(l))))):(E=a&~h,E!==0?c=Cn(E):b!==0?c=Cn(b):l||(l=a&~e,l!==0&&(c=Cn(l)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,l=t&-t,h>=l||h===32&&(l&4194048)!==0)?t:c}function Ei(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var e=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),e}function ql(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Ci(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gl(e,t,l,a,c,h){var b=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,D=e.hiddenUpdates;for(l=b&~l;0<l;){var H=31-rt(l),B=1<<H;E[H]=0,C[H]=-1;var I=D[H];if(I!==null)for(D[H]=null,H=0;H<I.length;H++){var U=I[H];U!==null&&(U.lane&=-536870913)}l&=~B}a!==0&&Vl(e,a,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~t))}function Vl(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Bl(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-rt(l),c=1<<a;c&t|e[a]&t&&(e[a]|=t),l&=~c}}function Ol(e,t){var l=t&-t;return l=(l&42)!==0?1:Yl(l),(l&(e.suspendedLanes|t))!==0?0:l}function Yl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Y(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:_h(e.type))}function X(e,t){var l=Q.p;try{return Q.p=e,t()}finally{Q.p=l}}var te=Math.random().toString(36).slice(2),J="__reactFiber$"+te,j="__reactProps$"+te,re="__reactContainer$"+te,Ce="__reactEvents$"+te,ce="__reactListeners$"+te,we="__reactHandles$"+te,Ve="__reactResources$"+te,Oe="__reactMarker$"+te;function mt(e){delete e[J],delete e[j],delete e[Ce],delete e[ce],delete e[we]}function It(e){var t=e[J];if(t)return t;for(var l=e.parentNode;l;){if(t=l[re]||l[J]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=dh(e);e!==null;){if(l=e[J])return l;e=dh(e)}return t}e=l,l=e.parentNode}return null}function Jt(e){if(e=e[J]||e[re]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function ji(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[Oe]=!0}var Yu=new Set,Fu={};function wi(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(Fu[e]=t,e=0;e<t.length;e++)Yu.add(t[e])}var Fg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},ju={};function Jg(e){return Si.call(ju,e)?!0:Si.call(Ju,e)?!1:Fg.test(e)?ju[e]=!0:(Ju[e]=!0,!1)}function Vo(e,t,l){if(Jg(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Bo(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function wn(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jg(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,h=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(b){l=""+b,h.call(this,b)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ds(e){if(!e._valueTracker){var t=Xu(e)?"checked":"value";e._valueTracker=jg(e,t,""+e[t])}}function Ku(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Xu(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Oo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xg=/[\n"\\]/g;function tn(e){return e.replace(Xg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fs(e,t,l,a,c,h,b,E){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?hs(e,b,en(t)):l!=null?hs(e,b,en(l)):a!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+en(E):e.removeAttribute("name")}function Qu(e,t,l,a,c,h,b,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){ds(e);return}l=l!=null?""+en(l):"",t=t!=null?""+en(t):l,E||t===e.value||(e.value=t),e.defaultValue=t}a=a??c,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=E?e.checked:!!a,e.defaultChecked=!!a,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),ds(e)}function hs(e,t,l){t==="number"&&Oo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ki(e,t,l,a){if(e=e.options,t){t={};for(var c=0;c<l.length;c++)t["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=t.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&a&&(e[l].defaultSelected=!0)}else{for(l=""+en(l),t=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Zu(e,t,l){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+en(l):""}function Wu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(s(92));if(Re(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=en(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ds(e)}function Qi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Kg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Kg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function ec(e,t,l){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var c in t)a=t[c],t.hasOwnProperty(c)&&l[c]!==a&&$u(e,c,a)}else for(var h in t)t.hasOwnProperty(h)&&$u(e,h,t[h])}function ms(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(e){return Zg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var gs=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Wi=null;function tc(e){var t=Jt(e);if(t&&(e=t.stateNode)){var l=e[j]||null;e:switch(e=t.stateNode,t.type){case"input":if(fs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var c=a[j]||null;if(!c)throw Error(s(90));fs(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ku(a)}break e;case"textarea":Zu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ki(e,!!l.multiple,t,!1)}}}var ys=!1;function nc(e,t,l){if(ys)return e(t,l);ys=!0;try{var a=e(t);return a}finally{if(ys=!1,(Zi!==null||Wi!==null)&&(Da(),Zi&&(t=Zi,e=Wi,Wi=Zi=null,tc(t),e)))for(t=0;t<e.length;t++)tc(e[t])}}function Jl(e,t){var l=e.stateNode;if(l===null)return null;var a=l[j]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,t,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(_n)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){vs=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{vs=!1}var Xn=null,Ts=null,Fo=null;function ic(){if(Fo)return Fo;var e,t=Ts,l=t.length,a,c="value"in Xn?Xn.value:Xn.textContent,h=c.length;for(e=0;e<l&&t[e]===c[e];e++);var b=l-e;for(a=1;a<=b&&t[l-a]===c[h-a];a++);return Fo=c.slice(e,1<a?1-a:void 0)}function Jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function lc(){return!1}function Ht(e){function t(l,a,c,h,b){this._reactName=l,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?jo:lc,this.isPropagationStopped=lc,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Ht(Ai),Xl=S({},Ai,{view:0,detail:0}),Wg=Ht(Xl),bs,Ss,Kl,Ko=S({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(bs=e.screenX-Kl.screenX,Ss=e.screenY-Kl.screenY):Ss=bs=0,Kl=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),oc=Ht(Ko),$g=S({},Ko,{dataTransfer:0}),ep=Ht($g),tp=S({},Xl,{relatedTarget:0}),xs=Ht(tp),np=S({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),ip=Ht(np),lp=S({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),op=Ht(lp),ap=S({},Ai,{data:0}),ac=Ht(ap),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=up[e])?!!t[e]:!1}function Es(){return cp}var dp=S({},Xl,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fp=Ht(dp),hp=S({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=Ht(hp),mp=S({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),gp=Ht(mp),pp=S({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=Ht(pp),vp=S({},Ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=Ht(vp),bp=S({},Ai,{newState:0,oldState:0}),Sp=Ht(bp),xp=[9,13,27,32],Cs=_n&&"CompositionEvent"in window,Ql=null;_n&&"documentMode"in document&&(Ql=document.documentMode);var Ep=_n&&"TextEvent"in window&&!Ql,rc=_n&&(!Cs||Ql&&8<Ql&&11>=Ql),uc=" ",cc=!1;function dc(e,t){switch(e){case"keyup":return xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $i=!1;function Cp(e,t){switch(e){case"compositionend":return fc(t);case"keypress":return t.which!==32?null:(cc=!0,uc);case"textInput":return e=t.data,e===uc&&cc?null:e;default:return null}}function wp(e,t){if($i)return e==="compositionend"||!Cs&&dc(e,t)?(e=ic(),Fo=Ts=Xn=null,$i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rc&&t.locale!=="ko"?null:t.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ap[e.type]:t==="textarea"}function mc(e,t,l,a){Zi?Wi?Wi.push(a):Wi=[a]:Zi=a,t=Ha(t,"onChange"),0<t.length&&(l=new Xo("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Zl=null,Wl=null;function _p(e){Zf(e,0)}function Qo(e){var t=kt(e);if(Ku(t))return e}function gc(e,t){if(e==="change")return t}var pc=!1;if(_n){var ws;if(_n){var As="oninput"in document;if(!As){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),As=typeof yc.oninput=="function"}ws=As}else ws=!1;pc=ws&&(!document.documentMode||9<document.documentMode)}function vc(){Zl&&(Zl.detachEvent("onpropertychange",Tc),Wl=Zl=null)}function Tc(e){if(e.propertyName==="value"&&Qo(Wl)){var t=[];mc(t,Wl,e,ps(e)),nc(_p,t)}}function Np(e,t,l){e==="focusin"?(vc(),Zl=t,Wl=l,Zl.attachEvent("onpropertychange",Tc)):e==="focusout"&&vc()}function Mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qo(Wl)}function Rp(e,t){if(e==="click")return Qo(t)}function Dp(e,t){if(e==="input"||e==="change")return Qo(t)}function Ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Ip;function $l(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var c=l[a];if(!Si.call(t,c)||!jt(e[c],t[c]))return!1}return!0}function bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var l=bc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bc(l)}}function xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ec(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Oo(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Oo(e.document)}return t}function _s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kp=_n&&"documentMode"in document&&11>=document.documentMode,el=null,Ns=null,eo=null,Ms=!1;function Cc(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ms||el==null||el!==Oo(a)||(a=el,"selectionStart"in a&&_s(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),eo&&$l(eo,a)||(eo=a,a=Ha(Ns,"onSelect"),0<a.length&&(t=new Xo("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=el)))}function _i(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var tl={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Rs={},wc={};_n&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Ni(e){if(Rs[e])return Rs[e];if(!tl[e])return e;var t=tl[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in wc)return Rs[e]=t[l];return e}var Ac=Ni("animationend"),_c=Ni("animationiteration"),Nc=Ni("animationstart"),Up=Ni("transitionrun"),Lp=Ni("transitionstart"),zp=Ni("transitioncancel"),Mc=Ni("transitionend"),Rc=new Map,Ds="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ds.push("scrollEnd");function fn(e,t){Rc.set(e,t),wi(t,[e])}var Zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],nl=0,Is=0;function Wo(){for(var e=nl,t=Is=nl=0;t<e;){var l=nn[t];nn[t++]=null;var a=nn[t];nn[t++]=null;var c=nn[t];nn[t++]=null;var h=nn[t];if(nn[t++]=null,a!==null&&c!==null){var b=a.pending;b===null?c.next=c:(c.next=b.next,b.next=c),a.pending=c}h!==0&&Dc(l,c,h)}}function $o(e,t,l,a){nn[nl++]=e,nn[nl++]=t,nn[nl++]=l,nn[nl++]=a,Is|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ks(e,t,l,a){return $o(e,t,l,a),ea(e)}function Mi(e,t){return $o(e,null,null,t),ea(e)}function Dc(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var c=!1,h=e.return;h!==null;)h.childLanes|=l,a=h.alternate,a!==null&&(a.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-rt(l),e=h.hiddenUpdates,a=e[c],a===null?e[c]=[t]:a.push(t),t.lane=l|536870912),h):null}function ea(e){if(50<Eo)throw Eo=0,Br=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function Pp(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,l,a){return new Pp(e,t,l,a)}function Us(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nn(e,t){var l=e.alternate;return l===null?(l=Xt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Ic(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ta(e,t,l,a,c,h){var b=0;if(a=e,typeof e=="function")Us(e)&&(b=1);else if(typeof e=="string")b=By(e,l,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Xt(31,l,t,c),e.elementType=G,e.lanes=h,e;case z:return Ri(l.children,c,h,t);case W:b=8,c|=24;break;case q:return e=Xt(12,l,t,c|2),e.elementType=q,e.lanes=h,e;case se:return e=Xt(13,l,t,c),e.elementType=se,e.lanes=h,e;case ee:return e=Xt(19,l,t,c),e.elementType=ee,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:b=10;break e;case k:b=9;break e;case ne:b=11;break e;case O:b=14;break e;case K:b=16,a=null;break e}b=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Xt(b,l,t,c),t.elementType=e,t.type=a,t.lanes=h,t}function Ri(e,t,l,a){return e=Xt(7,e,a,t),e.lanes=l,e}function Ls(e,t,l){return e=Xt(6,e,null,t),e.lanes=l,e}function kc(e){var t=Xt(18,null,null,0);return t.stateNode=e,t}function zs(e,t,l){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Uc=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var l=Uc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:bi(t)},Uc.set(e,t),t)}return{value:e,source:t,stack:bi(t)}}var ll=[],ol=0,na=null,to=0,on=[],an=0,Kn=null,Tn=1,bn="";function Mn(e,t){ll[ol++]=to,ll[ol++]=na,na=e,to=t}function Lc(e,t,l){on[an++]=Tn,on[an++]=bn,on[an++]=Kn,Kn=e;var a=Tn;e=bn;var c=32-rt(a)-1;a&=~(1<<c),l+=1;var h=32-rt(t)+c;if(30<h){var b=c-c%5;h=(a&(1<<b)-1).toString(32),a>>=b,c-=b,Tn=1<<32-rt(t)+c|l<<c|a,bn=h+e}else Tn=1<<h|l<<c|a,bn=e}function Ps(e){e.return!==null&&(Mn(e,1),Lc(e,1,0))}function Hs(e){for(;e===na;)na=ll[--ol],ll[ol]=null,to=ll[--ol],ll[ol]=null;for(;e===Kn;)Kn=on[--an],on[an]=null,bn=on[--an],on[an]=null,Tn=on[--an],on[an]=null}function zc(e,t){on[an++]=Tn,on[an++]=bn,on[an++]=Kn,Tn=t.id,bn=t.overflow,Kn=e}var _t=null,it=null,ze=!1,Qn=null,sn=!1,qs=Error(s(519));function Zn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw no(ln(t,e)),qs}function Pc(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[J]=e,t[j]=a,l){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(l=0;l<wo.length;l++)Me(wo[l],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),Qu(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),Wu(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||th(t.textContent,l)?(a.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),a.onScroll!=null&&Me("scroll",t),a.onScrollEnd!=null&&Me("scrollend",t),a.onClick!=null&&(t.onclick=An),t=!0):t=!1,t||Zn(e,!0)}function Hc(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:_t=_t.return}}function al(e){if(e!==_t)return!1;if(!ze)return Hc(e),ze=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||iu(e.type,e.memoizedProps)),l=!l),l&&it&&Zn(e),Hc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=ch(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));it=ch(e)}else t===27?(t=it,di(e.type)?(e=ru,ru=null,it=e):it=t):it=_t?un(e.stateNode.nextSibling):null;return!0}function Di(){it=_t=null,ze=!1}function Gs(){var e=Qn;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),Qn=null),e}function no(e){Qn===null?Qn=[e]:Qn.push(e)}var Vs=w(null),Ii=null,Rn=null;function Wn(e,t,l){le(Vs,t._currentValue),t._currentValue=l}function Dn(e){e._currentValue=Vs.current,P(Vs)}function Bs(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Os(e,t,l,a){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var b=c.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=c;for(var C=0;C<t.length;C++)if(E.context===t[C]){h.lanes|=l,E=h.alternate,E!==null&&(E.lanes|=l),Bs(h.return,l,e),a||(b=null);break e}h=E.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(s(341));b.lanes|=l,h=b.alternate,h!==null&&(h.lanes|=l),Bs(b,l,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function sl(e,t,l,a){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var E=c.type;jt(c.pendingProps.value,b.value)||(e!==null?e.push(E):e=[E])}}else if(c===De.current){if(b=c.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ro):e=[Ro])}c=c.return}e!==null&&Os(t,e,l,a),t.flags|=262144}function ia(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){Ii=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return qc(Ii,e)}function la(e,t){return Ii===null&&ki(e),qc(e,t)}function qc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Rn===null){if(e===null)throw Error(s(308));Rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Rn=Rn.next=t;return l}var Hp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},qp=i.unstable_scheduleCallback,Gp=i.unstable_NormalPriority,gt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ys(){return{controller:new Hp,data:new Map,refCount:0}}function io(e){e.refCount--,e.refCount===0&&qp(Gp,function(){e.controller.abort()})}var lo=null,Fs=0,rl=0,ul=null;function Vp(e,t){if(lo===null){var l=lo=[];Fs=0,rl=Xr(),ul={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Fs++,t.then(Gc,Gc),t}function Gc(){if(--Fs===0&&lo!==null){ul!==null&&(ul.status="fulfilled");var e=lo;lo=null,rl=0,ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Bp(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var c=0;c<l.length;c++)(0,l[c])(t)},function(c){for(a.status="rejected",a.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),a}var Vc=M.S;M.S=function(e,t){wf=Ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vp(e,t),Vc!==null&&Vc(e,t)};var Ui=w(null);function Js(){var e=Ui.current;return e!==null?e:We.pooledCache}function oa(e,t){t===null?le(Ui,Ui.current):le(Ui,t.pool)}function Bc(){var e=Js();return e===null?null:{parent:gt._currentValue,pool:e}}var cl=Error(s(460)),js=Error(s(474)),aa=Error(s(542)),sa={then:function(){}};function Oc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(An,An),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jc(e),e;default:if(typeof t.status=="string")t.then(An,An);else{if(e=We,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=a}},function(a){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jc(e),e}throw zi=t,cl}}function Li(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(zi=l,cl):l}}var zi=null;function Fc(){if(zi===null)throw Error(s(459));var e=zi;return zi=null,e}function Jc(e){if(e===cl||e===aa)throw Error(s(483))}var dl=null,oo=0;function ra(e){var t=oo;return oo+=1,dl===null&&(dl=[]),Yc(dl,e,t)}function ao(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ua(e,t){throw t.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jc(e){function t(_,A){if(e){var R=_.deletions;R===null?(_.deletions=[A],_.flags|=16):R.push(A)}}function l(_,A){if(!e)return null;for(;A!==null;)t(_,A),A=A.sibling;return null}function a(_){for(var A=new Map;_!==null;)_.key!==null?A.set(_.key,_):A.set(_.index,_),_=_.sibling;return A}function c(_,A){return _=Nn(_,A),_.index=0,_.sibling=null,_}function h(_,A,R){return _.index=R,e?(R=_.alternate,R!==null?(R=R.index,R<A?(_.flags|=67108866,A):R):(_.flags|=67108866,A)):(_.flags|=1048576,A)}function b(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function E(_,A,R,V){return A===null||A.tag!==6?(A=Ls(R,_.mode,V),A.return=_,A):(A=c(A,R),A.return=_,A)}function C(_,A,R,V){var pe=R.type;return pe===z?H(_,A,R.props.children,V,R.key):A!==null&&(A.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===K&&Li(pe)===A.type)?(A=c(A,R.props),ao(A,R),A.return=_,A):(A=ta(R.type,R.key,R.props,null,_.mode,V),ao(A,R),A.return=_,A)}function D(_,A,R,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=zs(R,_.mode,V),A.return=_,A):(A=c(A,R.children||[]),A.return=_,A)}function H(_,A,R,V,pe){return A===null||A.tag!==7?(A=Ri(R,_.mode,V,pe),A.return=_,A):(A=c(A,R),A.return=_,A)}function B(_,A,R){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Ls(""+A,_.mode,R),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case N:return R=ta(A.type,A.key,A.props,null,_.mode,R),ao(R,A),R.return=_,R;case L:return A=zs(A,_.mode,R),A.return=_,A;case K:return A=Li(A),B(_,A,R)}if(Re(A)||de(A))return A=Ri(A,_.mode,R,null),A.return=_,A;if(typeof A.then=="function")return B(_,ra(A),R);if(A.$$typeof===F)return B(_,la(_,A),R);ua(_,A)}return null}function I(_,A,R,V){var pe=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return pe!==null?null:E(_,A,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case N:return R.key===pe?C(_,A,R,V):null;case L:return R.key===pe?D(_,A,R,V):null;case K:return R=Li(R),I(_,A,R,V)}if(Re(R)||de(R))return pe!==null?null:H(_,A,R,V,null);if(typeof R.then=="function")return I(_,A,ra(R),V);if(R.$$typeof===F)return I(_,A,la(_,R),V);ua(_,R)}return null}function U(_,A,R,V,pe){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return _=_.get(R)||null,E(A,_,""+V,pe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return _=_.get(V.key===null?R:V.key)||null,C(A,_,V,pe);case L:return _=_.get(V.key===null?R:V.key)||null,D(A,_,V,pe);case K:return V=Li(V),U(_,A,R,V,pe)}if(Re(V)||de(V))return _=_.get(R)||null,H(A,_,V,pe,null);if(typeof V.then=="function")return U(_,A,R,ra(V),pe);if(V.$$typeof===F)return U(_,A,R,la(A,V),pe);ua(A,V)}return null}function fe(_,A,R,V){for(var pe=null,He=null,me=A,_e=A=0,Ue=null;me!==null&&_e<R.length;_e++){me.index>_e?(Ue=me,me=null):Ue=me.sibling;var qe=I(_,me,R[_e],V);if(qe===null){me===null&&(me=Ue);break}e&&me&&qe.alternate===null&&t(_,me),A=h(qe,A,_e),He===null?pe=qe:He.sibling=qe,He=qe,me=Ue}if(_e===R.length)return l(_,me),ze&&Mn(_,_e),pe;if(me===null){for(;_e<R.length;_e++)me=B(_,R[_e],V),me!==null&&(A=h(me,A,_e),He===null?pe=me:He.sibling=me,He=me);return ze&&Mn(_,_e),pe}for(me=a(me);_e<R.length;_e++)Ue=U(me,_,_e,R[_e],V),Ue!==null&&(e&&Ue.alternate!==null&&me.delete(Ue.key===null?_e:Ue.key),A=h(Ue,A,_e),He===null?pe=Ue:He.sibling=Ue,He=Ue);return e&&me.forEach(function(pi){return t(_,pi)}),ze&&Mn(_,_e),pe}function be(_,A,R,V){if(R==null)throw Error(s(151));for(var pe=null,He=null,me=A,_e=A=0,Ue=null,qe=R.next();me!==null&&!qe.done;_e++,qe=R.next()){me.index>_e?(Ue=me,me=null):Ue=me.sibling;var pi=I(_,me,qe.value,V);if(pi===null){me===null&&(me=Ue);break}e&&me&&pi.alternate===null&&t(_,me),A=h(pi,A,_e),He===null?pe=pi:He.sibling=pi,He=pi,me=Ue}if(qe.done)return l(_,me),ze&&Mn(_,_e),pe;if(me===null){for(;!qe.done;_e++,qe=R.next())qe=B(_,qe.value,V),qe!==null&&(A=h(qe,A,_e),He===null?pe=qe:He.sibling=qe,He=qe);return ze&&Mn(_,_e),pe}for(me=a(me);!qe.done;_e++,qe=R.next())qe=U(me,_,_e,qe.value,V),qe!==null&&(e&&qe.alternate!==null&&me.delete(qe.key===null?_e:qe.key),A=h(qe,A,_e),He===null?pe=qe:He.sibling=qe,He=qe);return e&&me.forEach(function($y){return t(_,$y)}),ze&&Mn(_,_e),pe}function Xe(_,A,R,V){if(typeof R=="object"&&R!==null&&R.type===z&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case N:e:{for(var pe=R.key;A!==null;){if(A.key===pe){if(pe=R.type,pe===z){if(A.tag===7){l(_,A.sibling),V=c(A,R.props.children),V.return=_,_=V;break e}}else if(A.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===K&&Li(pe)===A.type){l(_,A.sibling),V=c(A,R.props),ao(V,R),V.return=_,_=V;break e}l(_,A);break}else t(_,A);A=A.sibling}R.type===z?(V=Ri(R.props.children,_.mode,V,R.key),V.return=_,_=V):(V=ta(R.type,R.key,R.props,null,_.mode,V),ao(V,R),V.return=_,_=V)}return b(_);case L:e:{for(pe=R.key;A!==null;){if(A.key===pe)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){l(_,A.sibling),V=c(A,R.children||[]),V.return=_,_=V;break e}else{l(_,A);break}else t(_,A);A=A.sibling}V=zs(R,_.mode,V),V.return=_,_=V}return b(_);case K:return R=Li(R),Xe(_,A,R,V)}if(Re(R))return fe(_,A,R,V);if(de(R)){if(pe=de(R),typeof pe!="function")throw Error(s(150));return R=pe.call(R),be(_,A,R,V)}if(typeof R.then=="function")return Xe(_,A,ra(R),V);if(R.$$typeof===F)return Xe(_,A,la(_,R),V);ua(_,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,A!==null&&A.tag===6?(l(_,A.sibling),V=c(A,R),V.return=_,_=V):(l(_,A),V=Ls(R,_.mode,V),V.return=_,_=V),b(_)):l(_,A)}return function(_,A,R,V){try{oo=0;var pe=Xe(_,A,R,V);return dl=null,pe}catch(me){if(me===cl||me===aa)throw me;var He=Xt(29,me,null,_.mode);return He.lanes=V,He.return=_,He}finally{}}}var Pi=jc(!0),Xc=jc(!1),$n=!1;function Xs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ks(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Be&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,t=ea(e),Dc(e,null,l),t}return $o(e,a,t,l),ea(e)}function so(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Bl(e,l)}}function Qs(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var c=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?c=h=b:h=h.next=b,l=l.next}while(l!==null);h===null?c=h=t:h=h.next=t}else c=h=t;l={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Zs=!1;function ro(){if(Zs){var e=ul;if(e!==null)throw e}}function uo(e,t,l,a){Zs=!1;var c=e.updateQueue;$n=!1;var h=c.firstBaseUpdate,b=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,D=C.next;C.next=null,b===null?h=D:b.next=D,b=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==b&&(E===null?H.firstBaseUpdate=D:E.next=D,H.lastBaseUpdate=C))}if(h!==null){var B=c.baseState;b=0,H=D=C=null,E=h;do{var I=E.lane&-536870913,U=I!==E.lane;if(U?(ke&I)===I:(a&I)===I){I!==0&&I===rl&&(Zs=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=e,be=E;I=t;var Xe=l;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){B=fe.call(Xe,B,I);break e}B=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,I=typeof fe=="function"?fe.call(Xe,B,I):fe,I==null)break e;B=S({},B,I);break e;case 2:$n=!0}}I=E.callback,I!==null&&(e.flags|=64,U&&(e.flags|=8192),U=c.callbacks,U===null?c.callbacks=[I]:U.push(I))}else U={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(D=H=U,C=B):H=H.next=U,b|=I;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;U=E,E=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);H===null&&(C=B),c.baseState=C,c.firstBaseUpdate=D,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),ai|=b,e.lanes=b,e.memoizedState=B}}function Kc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Qc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Kc(l[e],t)}var fl=w(null),ca=w(0);function Zc(e,t){e=Gn,le(ca,e),le(fl,t),Gn=e|t.baseLanes}function Ws(){le(ca,Gn),le(fl,fl.current)}function $s(){Gn=ca.current,P(fl),P(ca)}var Kt=w(null),rn=null;function ni(e){var t=e.alternate;le(ft,ft.current&1),le(Kt,e),rn===null&&(t===null||fl.current!==null||t.memoizedState!==null)&&(rn=e)}function er(e){le(ft,ft.current),le(Kt,e),rn===null&&(rn=e)}function Wc(e){e.tag===22?(le(ft,ft.current),le(Kt,e),rn===null&&(rn=e)):ii()}function ii(){le(ft,ft.current),le(Kt,Kt.current)}function Qt(e){P(Kt),rn===e&&(rn=null),P(ft)}var ft=w(0);function da(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||au(l)||su(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var In=0,Ae=null,Je=null,pt=null,fa=!1,hl=!1,Hi=!1,ha=0,co=0,ml=null,Op=0;function ut(){throw Error(s(321))}function tr(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!jt(e[l],t[l]))return!1;return!0}function nr(e,t,l,a,c,h){return In=h,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Ld:yr,Hi=!1,h=l(a,c),Hi=!1,hl&&(h=ed(t,l,a,c)),$c(e),h}function $c(e){M.H=mo;var t=Je!==null&&Je.next!==null;if(In=0,pt=Je=Ae=null,fa=!1,co=0,ml=null,t)throw Error(s(300));e===null||yt||(e=e.dependencies,e!==null&&ia(e)&&(yt=!0))}function ed(e,t,l,a){Ae=e;var c=0;do{if(hl&&(ml=null),co=0,hl=!1,25<=c)throw Error(s(301));if(c+=1,pt=Je=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=zd,h=t(l,a)}while(hl);return h}function Yp(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?fo(t):t,e=e.useState()[0],(Je!==null?Je.memoizedState:null)!==e&&(Ae.flags|=1024),t}function ir(){var e=ha!==0;return ha=0,e}function lr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function or(e){if(fa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fa=!1}In=0,pt=Je=Ae=null,hl=!1,co=ha=0,ml=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ae.memoizedState=pt=e:pt=pt.next=e,pt}function ht(){if(Je===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=pt===null?Ae.memoizedState:pt.next;if(t!==null)pt=t,Je=e;else{if(e===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},pt===null?Ae.memoizedState=pt=e:pt=pt.next=e}return pt}function ma(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(e){var t=co;return co+=1,ml===null&&(ml=[]),e=Yc(ml,e,t),t=Ae,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Ld:yr),e}function ga(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fo(e);if(e.$$typeof===F)return Nt(e)}throw Error(s(438,String(e)))}function ar(e){var t=null,l=Ae.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ae.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ma(),Ae.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=oe;return t.index++,l}function kn(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=ht();return sr(t,Je,e)}function sr(e,t,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var c=e.baseQueue,h=a.pending;if(h!==null){if(c!==null){var b=c.next;c.next=h.next,h.next=b}t.baseQueue=c=h,a.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var E=b=null,C=null,D=t,H=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(ke&B)===B:(In&B)===B){var I=D.revertLane;if(I===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===rl&&(H=!0);else if((In&I)===I){D=D.next,I===rl&&(H=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(E=C=B,b=h):C=C.next=B,Ae.lanes|=I,ai|=I;B=D.action,Hi&&l(h,B),h=D.hasEagerState?D.eagerState:l(h,B)}else I={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},C===null?(E=C=I,b=h):C=C.next=I,Ae.lanes|=B,ai|=B;D=D.next}while(D!==null&&D!==t);if(C===null?b=h:C.next=E,!jt(h,e.memoizedState)&&(yt=!0,H&&(l=ul,l!==null)))throw l;e.memoizedState=h,e.baseState=b,e.baseQueue=C,a.lastRenderedState=h}return c===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function rr(e){var t=ht(),l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,c=l.pending,h=t.memoizedState;if(c!==null){l.pending=null;var b=c=c.next;do h=e(h,b.action),b=b.next;while(b!==c);jt(h,t.memoizedState)||(yt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),l.lastRenderedState=h}return[h,a]}function td(e,t,l){var a=Ae,c=ht(),h=ze;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=t();var b=!jt((Je||c).memoizedState,l);if(b&&(c.memoizedState=l,yt=!0),c=c.queue,dr(ld.bind(null,a,c,e),[e]),c.getSnapshot!==t||b||pt!==null&&pt.memoizedState.tag&1){if(a.flags|=2048,gl(9,{destroy:void 0},id.bind(null,a,c,l,t),null),We===null)throw Error(s(349));h||(In&127)!==0||nd(a,t,l)}return l}function nd(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ae.updateQueue,t===null?(t=ma(),Ae.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function id(e,t,l,a){t.value=l,t.getSnapshot=a,od(t)&&ad(e)}function ld(e,t,l){return l(function(){od(t)&&ad(e)})}function od(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!jt(e,l)}catch{return!0}}function ad(e){var t=Mi(e,2);t!==null&&Ot(t,e,2)}function ur(e){var t=zt();if(typeof e=="function"){var l=e;if(e=l(),Hi){tt(!0);try{l()}finally{tt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},t}function sd(e,t,l,a){return e.baseState=l,sr(e,Je,typeof a=="function"?a:kn)}function Fp(e,t,l,a,c){if(Ta(e))throw Error(s(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};M.T!==null?l(!0):h.isTransition=!1,a(h),l=t.pending,l===null?(h.next=t.pending=h,rd(t,h)):(h.next=l.next,t.pending=l.next=h)}}function rd(e,t){var l=t.action,a=t.payload,c=e.state;if(t.isTransition){var h=M.T,b={};M.T=b;try{var E=l(c,a),C=M.S;C!==null&&C(b,E),ud(e,t,E)}catch(D){cr(e,t,D)}finally{h!==null&&b.types!==null&&(h.types=b.types),M.T=h}}else try{h=l(c,a),ud(e,t,h)}catch(D){cr(e,t,D)}}function ud(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){cd(e,t,a)},function(a){return cr(e,t,a)}):cd(e,t,l)}function cd(e,t,l){t.status="fulfilled",t.value=l,dd(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,rd(e,l)))}function cr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,dd(t),t=t.next;while(t!==a)}e.action=null}function dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fd(e,t){return t}function hd(e,t){if(ze){var l=We.formState;if(l!==null){e:{var a=Ae;if(ze){if(it){t:{for(var c=it,h=sn;c.nodeType!==8;){if(!h){c=null;break t}if(c=un(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){it=un(c.nextSibling),a=c.data==="F!";break e}}Zn(a)}a=!1}a&&(t=l[0])}}return l=zt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},l.queue=a,l=Id.bind(null,Ae,a),a.dispatch=l,a=ur(!1),h=pr.bind(null,Ae,!1,a.queue),a=zt(),c={state:t,dispatch:null,action:e,pending:null},a.queue=c,l=Fp.bind(null,Ae,c,h,l),c.dispatch=l,a.memoizedState=e,[t,l,!1]}function md(e){var t=ht();return gd(t,Je,e)}function gd(e,t,l){if(t=sr(e,t,fd)[0],e=pa(kn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=fo(t)}catch(b){throw b===cl?aa:b}else a=t;t=ht();var c=t.queue,h=c.dispatch;return l!==t.memoizedState&&(Ae.flags|=2048,gl(9,{destroy:void 0},Jp.bind(null,c,l),null)),[a,h,e]}function Jp(e,t){e.action=t}function pd(e){var t=ht(),l=Je;if(l!==null)return gd(t,l,e);ht(),t=t.memoizedState,l=ht();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function gl(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=ma(),Ae.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function yd(){return ht().memoizedState}function ya(e,t,l,a){var c=zt();Ae.flags|=e,c.memoizedState=gl(1|t,{destroy:void 0},l,a===void 0?null:a)}function va(e,t,l,a){var c=ht();a=a===void 0?null:a;var h=c.memoizedState.inst;Je!==null&&a!==null&&tr(a,Je.memoizedState.deps)?c.memoizedState=gl(t,h,l,a):(Ae.flags|=e,c.memoizedState=gl(1|t,h,l,a))}function vd(e,t){ya(8390656,8,e,t)}function dr(e,t){va(2048,8,e,t)}function jp(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=ma(),Ae.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Td(e){var t=ht().memoizedState;return jp({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function bd(e,t){return va(4,2,e,t)}function Sd(e,t){return va(4,4,e,t)}function xd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,l){l=l!=null?l.concat([e]):null,va(4,4,xd.bind(null,t,e),l)}function fr(){}function Cd(e,t){var l=ht();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&tr(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function wd(e,t){var l=ht();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&tr(t,a[1]))return a[0];if(a=e(),Hi){tt(!0);try{e()}finally{tt(!1)}}return l.memoizedState=[a,t],a}function hr(e,t,l){return l===void 0||(In&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=_f(),Ae.lanes|=e,ai|=e,l)}function Ad(e,t,l,a){return jt(l,t)?l:fl.current!==null?(e=hr(e,l,a),jt(e,t)||(yt=!0),e):(In&42)===0||(In&1073741824)!==0&&(ke&261930)===0?(yt=!0,e.memoizedState=l):(e=_f(),Ae.lanes|=e,ai|=e,t)}function _d(e,t,l,a,c){var h=Q.p;Q.p=h!==0&&8>h?h:8;var b=M.T,E={};M.T=E,pr(e,!1,t,l);try{var C=c(),D=M.S;if(D!==null&&D(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=Bp(C,a);ho(e,t,H,$t(e))}else ho(e,t,a,$t(e))}catch(B){ho(e,t,{then:function(){},status:"rejected",reason:B},$t())}finally{Q.p=h,b!==null&&E.types!==null&&(b.types=E.types),M.T=b}}function Xp(){}function mr(e,t,l,a){if(e.tag!==5)throw Error(s(476));var c=Nd(e).queue;_d(e,c,t,ae,l===null?Xp:function(){return Md(e),l(a)})}function Nd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:ae},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Md(e){var t=Nd(e);t.next===null&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},$t())}function gr(){return Nt(Ro)}function Rd(){return ht().memoizedState}function Dd(){return ht().memoizedState}function Kp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=$t();e=ei(l);var a=ti(t,e,l);a!==null&&(Ot(a,t,l),so(a,t,l)),t={cache:Ys()},e.payload=t;return}t=t.return}}function Qp(e,t,l){var a=$t();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ta(e)?kd(t,l):(l=ks(e,t,l,a),l!==null&&(Ot(l,e,a),Ud(l,t,a)))}function Id(e,t,l){var a=$t();ho(e,t,l,a)}function ho(e,t,l,a){var c={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ta(e))kd(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var b=t.lastRenderedState,E=h(b,l);if(c.hasEagerState=!0,c.eagerState=E,jt(E,b))return $o(e,t,c,0),We===null&&Wo(),!1}catch{}finally{}if(l=ks(e,t,c,a),l!==null)return Ot(l,e,a),Ud(l,t,a),!0}return!1}function pr(e,t,l,a){if(a={lane:2,revertLane:Xr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ta(e)){if(t)throw Error(s(479))}else t=ks(e,l,a,2),t!==null&&Ot(t,e,2)}function Ta(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function kd(e,t){hl=fa=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Ud(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Bl(e,l)}}var mo={readContext:Nt,use:ga,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};mo.useEffectEvent=ut;var Ld={readContext:Nt,use:ga,useCallback:function(e,t){return zt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:vd,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ya(4194308,4,xd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){ya(4,2,e,t)},useMemo:function(e,t){var l=zt();t=t===void 0?null:t;var a=e();if(Hi){tt(!0);try{e()}finally{tt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=zt();if(l!==void 0){var c=l(t);if(Hi){tt(!0);try{l(t)}finally{tt(!1)}}}else c=t;return a.memoizedState=a.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},a.queue=e,e=e.dispatch=Qp.bind(null,Ae,e),[a.memoizedState,e]},useRef:function(e){var t=zt();return e={current:e},t.memoizedState=e},useState:function(e){e=ur(e);var t=e.queue,l=Id.bind(null,Ae,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:fr,useDeferredValue:function(e,t){var l=zt();return hr(l,e,t)},useTransition:function(){var e=ur(!1);return e=_d.bind(null,Ae,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ae,c=zt();if(ze){if(l===void 0)throw Error(s(407));l=l()}else{if(l=t(),We===null)throw Error(s(349));(ke&127)!==0||nd(a,t,l)}c.memoizedState=l;var h={value:l,getSnapshot:t};return c.queue=h,vd(ld.bind(null,a,h,e),[e]),a.flags|=2048,gl(9,{destroy:void 0},id.bind(null,a,h,l,t),null),l},useId:function(){var e=zt(),t=We.identifierPrefix;if(ze){var l=bn,a=Tn;l=(a&~(1<<32-rt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ha++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Op++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gr,useFormState:hd,useActionState:hd,useOptimistic:function(e){var t=zt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=pr.bind(null,Ae,!0,l),l.dispatch=t,[e,t]},useMemoCache:ar,useCacheRefresh:function(){return zt().memoizedState=Kp.bind(null,Ae)},useEffectEvent:function(e){var t=zt(),l={impl:e};return t.memoizedState=l,function(){if((Be&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},yr={readContext:Nt,use:ga,useCallback:Cd,useContext:Nt,useEffect:dr,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:wd,useReducer:pa,useRef:yd,useState:function(){return pa(kn)},useDebugValue:fr,useDeferredValue:function(e,t){var l=ht();return Ad(l,Je.memoizedState,e,t)},useTransition:function(){var e=pa(kn)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:fo(e),t]},useSyncExternalStore:td,useId:Rd,useHostTransitionStatus:gr,useFormState:md,useActionState:md,useOptimistic:function(e,t){var l=ht();return sd(l,Je,e,t)},useMemoCache:ar,useCacheRefresh:Dd};yr.useEffectEvent=Td;var zd={readContext:Nt,use:ga,useCallback:Cd,useContext:Nt,useEffect:dr,useImperativeHandle:Ed,useInsertionEffect:bd,useLayoutEffect:Sd,useMemo:wd,useReducer:rr,useRef:yd,useState:function(){return rr(kn)},useDebugValue:fr,useDeferredValue:function(e,t){var l=ht();return Je===null?hr(l,e,t):Ad(l,Je.memoizedState,e,t)},useTransition:function(){var e=rr(kn)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:fo(e),t]},useSyncExternalStore:td,useId:Rd,useHostTransitionStatus:gr,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var l=ht();return Je!==null?sd(l,Je,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ar,useCacheRefresh:Dd};zd.useEffectEvent=Td;function vr(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:S({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Tr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=$t(),c=ei(a);c.payload=t,l!=null&&(c.callback=l),t=ti(e,c,a),t!==null&&(Ot(t,e,a),so(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=$t(),c=ei(a);c.tag=1,c.payload=t,l!=null&&(c.callback=l),t=ti(e,c,a),t!==null&&(Ot(t,e,a),so(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=$t(),a=ei(l);a.tag=2,t!=null&&(a.callback=t),t=ti(e,a,l),t!==null&&(Ot(t,e,l),so(t,e,l))}};function Pd(e,t,l,a,c,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,b):t.prototype&&t.prototype.isPureReactComponent?!$l(l,a)||!$l(c,h):!0}function Hd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Tr.enqueueReplaceState(t,t.state,null)}function qi(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=S({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function qd(e){Zo(e)}function Gd(e){console.error(e)}function Vd(e){Zo(e)}function ba(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Bd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function br(e,t,l){return l=ei(l),l.tag=3,l.payload={element:null},l.callback=function(){ba(e,t)},l}function Od(e){return e=ei(e),e.tag=3,e}function Yd(e,t,l,a){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var h=a.value;e.payload=function(){return c(h)},e.callback=function(){Bd(t,l,a)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Bd(t,l,a),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})})}function Zp(e,t,l,a,c){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&sl(t,l,c,!0),l=Kt.current,l!==null){switch(l.tag){case 31:case 13:return rn===null?Ia():l.alternate===null&&ct===0&&(ct=3),l.flags&=-257,l.flags|=65536,l.lanes=c,a===sa?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Fr(e,a,c)),!1;case 22:return l.flags|=65536,a===sa?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Fr(e,a,c)),!1}throw Error(s(435,l.tag))}return Fr(e,a,c),Ia(),!1}if(ze)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,a!==qs&&(e=Error(s(422),{cause:a}),no(ln(e,l)))):(a!==qs&&(t=Error(s(423),{cause:a}),no(ln(t,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,a=ln(a,l),c=br(e.stateNode,a,c),Qs(e,c),ct!==4&&(ct=2)),!1;var h=Error(s(520),{cause:a});if(h=ln(h,l),xo===null?xo=[h]:xo.push(h),ct!==4&&(ct=2),t===null)return!0;a=ln(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=br(l.stateNode,a,e),Qs(l,e),!1;case 1:if(t=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(si===null||!si.has(h))))return l.flags|=65536,c&=-c,l.lanes|=c,c=Od(c),Yd(c,e,l,a),Qs(l,c),!1}l=l.return}while(l!==null);return!1}var Sr=Error(s(461)),yt=!1;function Mt(e,t,l,a){t.child=e===null?Xc(t,null,l,a):Pi(t,e.child,l,a)}function Fd(e,t,l,a,c){l=l.render;var h=t.ref;if("ref"in a){var b={};for(var E in a)E!=="ref"&&(b[E]=a[E])}else b=a;return ki(t),a=nr(e,t,l,b,h,c),E=ir(),e!==null&&!yt?(lr(e,t,c),Un(e,t,c)):(ze&&E&&Ps(t),t.flags|=1,Mt(e,t,a,c),t.child)}function Jd(e,t,l,a,c){if(e===null){var h=l.type;return typeof h=="function"&&!Us(h)&&h.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=h,jd(e,t,h,a,c)):(e=ta(l.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!Mr(e,c)){var b=h.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(b,a)&&e.ref===t.ref)return Un(e,t,c)}return t.flags|=1,e=Nn(h,a),e.ref=t.ref,e.return=t,t.child=e}function jd(e,t,l,a,c){if(e!==null){var h=e.memoizedProps;if($l(h,a)&&e.ref===t.ref)if(yt=!1,t.pendingProps=a=h,Mr(e,c))(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,Un(e,t,c)}return xr(e,t,l,a,c)}function Xd(e,t,l,a){var c=a.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(a=t.child=e.child,c=0;a!==null;)c=c|a.lanes|a.childLanes,a=a.sibling;a=c&~h}else a=0,t.child=null;return Kd(e,t,h,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&oa(t,h!==null?h.cachePool:null),h!==null?Zc(t,h):Ws(),Wc(t);else return a=t.lanes=536870912,Kd(e,t,h!==null?h.baseLanes|l:l,l,a)}else h!==null?(oa(t,h.cachePool),Zc(t,h),ii(),t.memoizedState=null):(e!==null&&oa(t,null),Ws(),ii());return Mt(e,t,c,l),t.child}function go(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kd(e,t,l,a,c){var h=Js();return h=h===null?null:{parent:gt._currentValue,pool:h},t.memoizedState={baseLanes:l,cachePool:h},e!==null&&oa(t,null),Ws(),Wc(t),e!==null&&sl(e,t,a,!0),t.childLanes=c,null}function Sa(e,t){return t=Ea({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Qd(e,t,l){return Pi(t,e.child,null,l),e=Sa(t,t.pendingProps),e.flags|=2,Qt(t),t.memoizedState=null,e}function Wp(e,t,l){var a=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(a.mode==="hidden")return e=Sa(t,a),t.lanes=536870912,go(null,e);if(er(t),(e=it)?(e=uh(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:Tn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},l=kc(e),l.return=t,t.child=l,_t=t,it=null)):e=null,e===null)throw Zn(t);return t.lanes=536870912,null}return Sa(t,a)}var h=e.memoizedState;if(h!==null){var b=h.dehydrated;if(er(t),c)if(t.flags&256)t.flags&=-257,t=Qd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(yt||sl(e,t,l,!1),c=(l&e.childLanes)!==0,yt||c){if(a=We,a!==null&&(b=Ol(a,l),b!==0&&b!==h.retryLane))throw h.retryLane=b,Mi(e,b),Ot(a,e,b),Sr;Ia(),t=Qd(e,t,l)}else e=h.treeContext,it=un(b.nextSibling),_t=t,ze=!0,Qn=null,sn=!1,e!==null&&zc(t,e),t=Sa(t,a),t.flags|=4096;return t}return e=Nn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xa(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function xr(e,t,l,a,c){return ki(t),l=nr(e,t,l,a,void 0,c),a=ir(),e!==null&&!yt?(lr(e,t,c),Un(e,t,c)):(ze&&a&&Ps(t),t.flags|=1,Mt(e,t,l,c),t.child)}function Zd(e,t,l,a,c,h){return ki(t),t.updateQueue=null,l=ed(t,a,l,c),$c(e),a=ir(),e!==null&&!yt?(lr(e,t,h),Un(e,t,h)):(ze&&a&&Ps(t),t.flags|=1,Mt(e,t,l,h),t.child)}function Wd(e,t,l,a,c){if(ki(t),t.stateNode===null){var h=il,b=l.contextType;typeof b=="object"&&b!==null&&(h=Nt(b)),h=new l(a,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Tr,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=a,h.state=t.memoizedState,h.refs={},Xs(t),b=l.contextType,h.context=typeof b=="object"&&b!==null?Nt(b):il,h.state=t.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(vr(t,l,b,a),h.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&Tr.enqueueReplaceState(h,h.state,null),uo(t,a,h,c),ro(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){h=t.stateNode;var E=t.memoizedProps,C=qi(l,E);h.props=C;var D=h.context,H=l.contextType;b=il,typeof H=="object"&&H!==null&&(b=Nt(H));var B=l.getDerivedStateFromProps;H=typeof B=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||D!==b)&&Hd(t,h,a,b),$n=!1;var I=t.memoizedState;h.state=I,uo(t,a,h,c),ro(),D=t.memoizedState,E||I!==D||$n?(typeof B=="function"&&(vr(t,l,B,a),D=t.memoizedState),(C=$n||Pd(t,l,C,a,I,D,b))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=D),h.props=a,h.state=D,h.context=b,a=C):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{h=t.stateNode,Ks(e,t),b=t.memoizedProps,H=qi(l,b),h.props=H,B=t.pendingProps,I=h.context,D=l.contextType,C=il,typeof D=="object"&&D!==null&&(C=Nt(D)),E=l.getDerivedStateFromProps,(D=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==B||I!==C)&&Hd(t,h,a,C),$n=!1,I=t.memoizedState,h.state=I,uo(t,a,h,c),ro();var U=t.memoizedState;b!==B||I!==U||$n||e!==null&&e.dependencies!==null&&ia(e.dependencies)?(typeof E=="function"&&(vr(t,l,E,a),U=t.memoizedState),(H=$n||Pd(t,l,H,a,I,U,C)||e!==null&&e.dependencies!==null&&ia(e.dependencies))?(D||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(a,U,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(a,U,C)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=U),h.props=a,h.state=U,h.context=C,a=H):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),a=!1)}return h=a,xa(e,t),a=(t.flags&128)!==0,h||a?(h=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&a?(t.child=Pi(t,e.child,null,c),t.child=Pi(t,null,l,c)):Mt(e,t,l,c),t.memoizedState=h.state,e=t.child):e=Un(e,t,c),e}function $d(e,t,l,a){return Di(),t.flags|=256,Mt(e,t,l,a),t.child}var Er={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cr(e){return{baseLanes:e,cachePool:Bc()}}function wr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Wt),e}function ef(e,t,l){var a=t.pendingProps,c=!1,h=(t.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),b&&(c=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(c?ni(t):ii(),(e=it)?(e=uh(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:Tn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},l=kc(e),l.return=t,t.child=l,_t=t,it=null)):e=null,e===null)throw Zn(t);return su(e)?t.lanes=32:t.lanes=536870912,null}var E=a.children;return a=a.fallback,c?(ii(),c=t.mode,E=Ea({mode:"hidden",children:E},c),a=Ri(a,c,l,null),E.return=t,a.return=t,E.sibling=a,t.child=E,a=t.child,a.memoizedState=Cr(l),a.childLanes=wr(e,b,l),t.memoizedState=Er,go(null,a)):(ni(t),Ar(t,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)t.flags&256?(ni(t),t.flags&=-257,t=_r(e,t,l)):t.memoizedState!==null?(ii(),t.child=e.child,t.flags|=128,t=null):(ii(),E=a.fallback,c=t.mode,a=Ea({mode:"visible",children:a.children},c),E=Ri(E,c,l,null),E.flags|=2,a.return=t,E.return=t,a.sibling=E,t.child=a,Pi(t,e.child,null,l),a=t.child,a.memoizedState=Cr(l),a.childLanes=wr(e,b,l),t.memoizedState=Er,t=go(null,a));else if(ni(t),su(E)){if(b=E.nextSibling&&E.nextSibling.dataset,b)var D=b.dgst;b=D,a=Error(s(419)),a.stack="",a.digest=b,no({value:a,source:null,stack:null}),t=_r(e,t,l)}else if(yt||sl(e,t,l,!1),b=(l&e.childLanes)!==0,yt||b){if(b=We,b!==null&&(a=Ol(b,l),a!==0&&a!==C.retryLane))throw C.retryLane=a,Mi(e,a),Ot(b,e,a),Sr;au(E)||Ia(),t=_r(e,t,l)}else au(E)?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,it=un(E.nextSibling),_t=t,ze=!0,Qn=null,sn=!1,e!==null&&zc(t,e),t=Ar(t,a.children),t.flags|=4096);return t}return c?(ii(),E=a.fallback,c=t.mode,C=e.child,D=C.sibling,a=Nn(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,D!==null?E=Nn(D,E):(E=Ri(E,c,l,null),E.flags|=2),E.return=t,a.return=t,a.sibling=E,t.child=a,go(null,a),a=t.child,E=e.child.memoizedState,E===null?E=Cr(l):(c=E.cachePool,c!==null?(C=gt._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Bc(),E={baseLanes:E.baseLanes|l,cachePool:c}),a.memoizedState=E,a.childLanes=wr(e,b,l),t.memoizedState=Er,go(e.child,a)):(ni(t),l=e.child,e=l.sibling,l=Nn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=l,t.memoizedState=null,l)}function Ar(e,t){return t=Ea({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ea(e,t){return e=Xt(22,e,null,t),e.lanes=0,e}function _r(e,t,l){return Pi(t,e.child,null,l),e=Ar(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tf(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Bs(e.return,t,l)}function Nr(e,t,l,a,c,h){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:c,treeForkCount:h}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=a,b.tail=l,b.tailMode=c,b.treeForkCount=h)}function nf(e,t,l){var a=t.pendingProps,c=a.revealOrder,h=a.tail;a=a.children;var b=ft.current,E=(b&2)!==0;if(E?(b=b&1|2,t.flags|=128):b&=1,le(ft,b),Mt(e,t,a,l),a=ze?to:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tf(e,l,t);else if(e.tag===19)tf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=t.child,c=null;l!==null;)e=l.alternate,e!==null&&da(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=t.child,t.child=null):(c=l.sibling,l.sibling=null),Nr(t,!1,c,l,h,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&da(e)===null){t.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Nr(t,!0,l,null,h,a);break;case"together":Nr(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Un(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(sl(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,l=Nn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Nn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Mr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ia(e)))}function $p(e,t,l){switch(t.tag){case 3:ge(t,t.stateNode.containerInfo),Wn(t,gt,e.memoizedState.cache),Di();break;case 27:case 5:Et(t);break;case 4:ge(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,er(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ni(t),t.flags|=128,null):(l&t.child.childLanes)!==0?ef(e,t,l):(ni(t),e=Un(e,t,l),e!==null?e.sibling:null);ni(t);break;case 19:var c=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(sl(e,t,l,!1),a=(l&t.childLanes)!==0),c){if(a)return nf(e,t,l);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),le(ft,ft.current),a)break;return null;case 22:return t.lanes=0,Xd(e,t,l,t.pendingProps);case 24:Wn(t,gt,e.memoizedState.cache)}return Un(e,t,l)}function lf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)yt=!0;else{if(!Mr(e,l)&&(t.flags&128)===0)return yt=!1,$p(e,t,l);yt=(e.flags&131072)!==0}else yt=!1,ze&&(t.flags&1048576)!==0&&Lc(t,to,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Li(t.elementType),t.type=e,typeof e=="function")Us(e)?(a=qi(e,a),t.tag=1,t=Wd(null,t,e,a,l)):(t.tag=0,t=xr(null,t,e,a,l));else{if(e!=null){var c=e.$$typeof;if(c===ne){t.tag=11,t=Fd(null,t,e,a,l);break e}else if(c===O){t.tag=14,t=Jd(null,t,e,a,l);break e}}throw t=Le(e)||e,Error(s(306,t,""))}}return t;case 0:return xr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,c=qi(a,t.pendingProps),Wd(e,t,a,c,l);case 3:e:{if(ge(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var h=t.memoizedState;c=h.element,Ks(e,t),uo(t,a,null,l);var b=t.memoizedState;if(a=b.cache,Wn(t,gt,a),a!==h.cache&&Os(t,[gt],l,!0),ro(),a=b.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=$d(e,t,a,l);break e}else if(a!==c){c=ln(Error(s(424)),t),no(c),t=$d(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(it=un(e.firstChild),_t=t,ze=!0,Qn=null,sn=!0,l=Xc(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Di(),a===c){t=Un(e,t,l);break e}Mt(e,t,a,l)}t=t.child}return t;case 26:return xa(e,t),e===null?(l=gh(t.type,null,t.pendingProps,null))?t.memoizedState=l:ze||(l=t.type,e=t.pendingProps,a=qa(Se.current).createElement(l),a[J]=t,a[j]=e,Rt(a,l,e),St(a),t.stateNode=a):t.memoizedState=gh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Et(t),e===null&&ze&&(a=t.stateNode=fh(t.type,t.pendingProps,Se.current),_t=t,sn=!0,c=it,di(t.type)?(ru=c,it=un(a.firstChild)):it=c),Mt(e,t,t.pendingProps.children,l),xa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((c=a=it)&&(a=My(a,t.type,t.pendingProps,sn),a!==null?(t.stateNode=a,_t=t,it=un(a.firstChild),sn=!1,c=!0):c=!1),c||Zn(t)),Et(t),c=t.type,h=t.pendingProps,b=e!==null?e.memoizedProps:null,a=h.children,iu(c,h)?a=null:b!==null&&iu(c,b)&&(t.flags|=32),t.memoizedState!==null&&(c=nr(e,t,Yp,null,null,l),Ro._currentValue=c),xa(e,t),Mt(e,t,a,l),t.child;case 6:return e===null&&ze&&((e=l=it)&&(l=Ry(l,t.pendingProps,sn),l!==null?(t.stateNode=l,_t=t,it=null,e=!0):e=!1),e||Zn(t)),null;case 13:return ef(e,t,l);case 4:return ge(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Pi(t,null,a,l):Mt(e,t,a,l),t.child;case 11:return Fd(e,t,t.type,t.pendingProps,l);case 7:return Mt(e,t,t.pendingProps,l),t.child;case 8:return Mt(e,t,t.pendingProps.children,l),t.child;case 12:return Mt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Wn(t,t.type,a.value),Mt(e,t,a.children,l),t.child;case 9:return c=t.type._context,a=t.pendingProps.children,ki(t),c=Nt(c),a=a(c),t.flags|=1,Mt(e,t,a,l),t.child;case 14:return Jd(e,t,t.type,t.pendingProps,l);case 15:return jd(e,t,t.type,t.pendingProps,l);case 19:return nf(e,t,l);case 31:return Wp(e,t,l);case 22:return Xd(e,t,l,t.pendingProps);case 24:return ki(t),a=Nt(gt),e===null?(c=Js(),c===null&&(c=We,h=Ys(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=l),c=h),t.memoizedState={parent:a,cache:c},Xs(t),Wn(t,gt,c)):((e.lanes&l)!==0&&(Ks(e,t),uo(t,null,null,l),ro()),c=e.memoizedState,h=t.memoizedState,c.parent!==a?(c={parent:a,cache:a},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Wn(t,gt,a)):(a=h.cache,Wn(t,gt,a),a!==c.cache&&Os(t,[gt],l,!0))),Mt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ln(e){e.flags|=4}function Rr(e,t,l,a,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw zi=sa,js}else e.flags&=-16777217}function of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bh(t))if(Df())e.flags|=8192;else throw zi=sa,js}function Ca(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Go():536870912,e.lanes|=t,Tl|=t)}function po(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,a|=c.subtreeFlags&65011712,a|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function ey(e,t,l){var a=t.pendingProps;switch(Hs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return lt(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Dn(gt),Ie(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(al(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Gs())),lt(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(Ln(t),h!==null?(lt(t),of(t,h)):(lt(t),Rr(t,c,null,a,l))):h?h!==e.memoizedState?(Ln(t),lt(t),of(t,h)):(lt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ln(t),lt(t),Rr(t,c,e,a,l)),null;case 27:if(Dt(t),l=Se.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return lt(t),null}e=$.current,al(t)?Pc(t):(e=fh(c,a,l),t.stateNode=e,Ln(t))}return lt(t),null;case 5:if(Dt(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return lt(t),null}if(h=$.current,al(t))Pc(t);else{var b=qa(Se.current);switch(h){case 1:h=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=b.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof a.is=="string"?b.createElement("select",{is:a.is}):b.createElement("select"),a.multiple?h.multiple=!0:a.size&&(h.size=a.size);break;default:h=typeof a.is=="string"?b.createElement(c,{is:a.is}):b.createElement(c)}}h[J]=t,h[j]=a;e:for(b=t.child;b!==null;){if(b.tag===5||b.tag===6)h.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}t.stateNode=h;e:switch(Rt(h,c,a),c){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ln(t)}}return lt(t),Rr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=Se.current,al(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,c=_t,c!==null)switch(c.tag){case 27:case 5:a=c.memoizedProps}e[J]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||th(e.nodeValue,l)),e||Zn(t,!0)}else e=qa(e).createTextNode(a),e[J]=t,t.stateNode=e}return lt(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=al(t),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[J]=t}else Di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),e=!1}else l=Gs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Qt(t),t):(Qt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return lt(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=al(t),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[J]=t}else Di(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),c=!1}else c=Gs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Qt(t),t):(Qt(t),null)}return Qt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,c=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(c=a.alternate.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ca(t,t.updateQueue),lt(t),null);case 4:return Ie(),e===null&&Wr(t.stateNode.containerInfo),lt(t),null;case 10:return Dn(t.type),lt(t),null;case 19:if(P(ft),a=t.memoizedState,a===null)return lt(t),null;if(c=(t.flags&128)!==0,h=a.rendering,h===null)if(c)po(a,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=da(e),h!==null){for(t.flags|=128,po(a,!1),e=h.updateQueue,t.updateQueue=e,Ca(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Ic(l,e),l=l.sibling;return le(ft,ft.current&1|2),ze&&Mn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Ct()>Ma&&(t.flags|=128,c=!0,po(a,!1),t.lanes=4194304)}else{if(!c)if(e=da(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Ca(t,e),po(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!ze)return lt(t),null}else 2*Ct()-a.renderingStartTime>Ma&&l!==536870912&&(t.flags|=128,c=!0,po(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(e=a.last,e!==null?e.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ct(),e.sibling=null,l=ft.current,le(ft,c?l&1|2:l&1),ze&&Mn(t,a.treeForkCount),e):(lt(t),null);case 22:case 23:return Qt(t),$s(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),l=t.updateQueue,l!==null&&Ca(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&P(Ui),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Dn(gt),lt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function ty(e,t){switch(Hs(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dn(gt),Ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dt(t),null;case 31:if(t.memoizedState!==null){if(Qt(t),t.alternate===null)throw Error(s(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Qt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Di()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(ft),null;case 4:return Ie(),null;case 10:return Dn(t.type),null;case 22:case 23:return Qt(t),$s(),e!==null&&P(Ui),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Dn(gt),null;case 25:return null;default:return null}}function af(e,t){switch(Hs(t),t.tag){case 3:Dn(gt),Ie();break;case 26:case 27:case 5:Dt(t);break;case 4:Ie();break;case 31:t.memoizedState!==null&&Qt(t);break;case 13:Qt(t);break;case 19:P(ft);break;case 10:Dn(t.type);break;case 22:case 23:Qt(t),$s(),e!==null&&P(Ui);break;case 24:Dn(gt)}}function yo(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var c=a.next;l=c;do{if((l.tag&e)===e){a=void 0;var h=l.create,b=l.inst;a=h(),b.destroy=a}l=l.next}while(l!==c)}}catch(E){Fe(t,t.return,E)}}function li(e,t,l){try{var a=t.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var h=c.next;a=h;do{if((a.tag&e)===e){var b=a.inst,E=b.destroy;if(E!==void 0){b.destroy=void 0,c=t;var C=l,D=E;try{D()}catch(H){Fe(c,C,H)}}}a=a.next}while(a!==h)}}catch(H){Fe(t,t.return,H)}}function sf(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Qc(t,l)}catch(a){Fe(e,e.return,a)}}}function rf(e,t,l){l.props=qi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Fe(e,t,a)}}function vo(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(c){Fe(e,t,c)}}function Sn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(c){Fe(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){Fe(e,t,c)}else l.current=null}function uf(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(c){Fe(e,e.return,c)}}function Dr(e,t,l){try{var a=e.stateNode;Ey(a,e.type,l,t),a[j]=t}catch(c){Fe(e,e.return,c)}}function cf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&di(e.type)||e.tag===4}function Ir(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&di(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=An));else if(a!==4&&(a===27&&di(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(kr(e,t,l),e=e.sibling;e!==null;)kr(e,t,l),e=e.sibling}function wa(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&di(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(wa(e,t,l),e=e.sibling;e!==null;)wa(e,t,l),e=e.sibling}function df(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Rt(t,a,l),t[J]=e,t[j]=l}catch(h){Fe(e,e.return,h)}}var zn=!1,vt=!1,Ur=!1,ff=typeof WeakSet=="function"?WeakSet:Set,xt=null;function ny(e,t){if(e=e.containerInfo,tu=Ja,e=Ec(e),_s(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var b=0,E=-1,C=-1,D=0,H=0,B=e,I=null;t:for(;;){for(var U;B!==l||c!==0&&B.nodeType!==3||(E=b+c),B!==h||a!==0&&B.nodeType!==3||(C=b+a),B.nodeType===3&&(b+=B.nodeValue.length),(U=B.firstChild)!==null;)I=B,B=U;for(;;){if(B===e)break t;if(I===l&&++D===c&&(E=b),I===h&&++H===a&&(C=b),(U=B.nextSibling)!==null)break;B=I,I=B.parentNode}B=U}l=E===-1||C===-1?null:{start:E,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(nu={focusedElem:e,selectionRange:l},Ja=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){switch(t=xt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=t,c=h.memoizedProps,h=h.memoizedState,a=l.stateNode;try{var fe=qi(l.type,c);e=a.getSnapshotBeforeUpdate(fe,h),a.__reactInternalSnapshotBeforeUpdate=e}catch(be){Fe(l,l.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)ou(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}}function hf(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Hn(e,l),a&4&&yo(5,l);break;case 1:if(Hn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(b){Fe(l,l.return,b)}else{var c=qi(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Fe(l,l.return,b)}}a&64&&sf(l),a&512&&vo(l,l.return);break;case 3:if(Hn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Qc(e,t)}catch(b){Fe(l,l.return,b)}}break;case 27:t===null&&a&4&&df(l);case 26:case 5:Hn(e,l),t===null&&a&4&&uf(l),a&512&&vo(l,l.return);break;case 12:Hn(e,l);break;case 31:Hn(e,l),a&4&&pf(e,l);break;case 13:Hn(e,l),a&4&&yf(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=dy.bind(null,l),Dy(e,l))));break;case 22:if(a=l.memoizedState!==null||zn,!a){t=t!==null&&t.memoizedState!==null||vt,c=zn;var h=vt;zn=a,(vt=t)&&!h?qn(e,l,(l.subtreeFlags&8772)!==0):Hn(e,l),zn=c,vt=h}break;case 30:break;default:Hn(e,l)}}function mf(e){var t=e.alternate;t!==null&&(e.alternate=null,mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,qt=!1;function Pn(e,t,l){for(l=l.child;l!==null;)gf(e,t,l),l=l.sibling}function gf(e,t,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(At,l)}catch{}switch(l.tag){case 26:vt||Sn(l,t),Pn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vt||Sn(l,t);var a=at,c=qt;di(l.type)&&(at=l.stateNode,qt=!1),Pn(e,t,l),_o(l.stateNode),at=a,qt=c;break;case 5:vt||Sn(l,t);case 6:if(a=at,c=qt,at=null,Pn(e,t,l),at=a,qt=c,at!==null)if(qt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(l.stateNode)}catch(h){Fe(l,t,h)}else try{at.removeChild(l.stateNode)}catch(h){Fe(l,t,h)}break;case 18:at!==null&&(qt?(e=at,sh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),_l(e)):sh(at,l.stateNode));break;case 4:a=at,c=qt,at=l.stateNode.containerInfo,qt=!0,Pn(e,t,l),at=a,qt=c;break;case 0:case 11:case 14:case 15:li(2,l,t),vt||li(4,l,t),Pn(e,t,l);break;case 1:vt||(Sn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&rf(l,t,a)),Pn(e,t,l);break;case 21:Pn(e,t,l);break;case 22:vt=(a=vt)||l.memoizedState!==null,Pn(e,t,l),vt=a;break;default:Pn(e,t,l)}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_l(e)}catch(l){Fe(t,t.return,l)}}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_l(e)}catch(l){Fe(t,t.return,l)}}function iy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ff),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ff),t;default:throw Error(s(435,e.tag))}}function Aa(e,t){var l=iy(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var c=fy.bind(null,e,a);a.then(c,c)}})}function Gt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var c=l[a],h=e,b=t,E=b;e:for(;E!==null;){switch(E.tag){case 27:if(di(E.type)){at=E.stateNode,qt=!1;break e}break;case 5:at=E.stateNode,qt=!1;break e;case 3:case 4:at=E.stateNode.containerInfo,qt=!0;break e}E=E.return}if(at===null)throw Error(s(160));gf(h,b,c),at=null,qt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}var hn=null;function vf(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gt(t,e),Vt(e),a&4&&(li(3,e,e.return),yo(3,e),li(5,e,e.return));break;case 1:Gt(t,e),Vt(e),a&512&&(vt||l===null||Sn(l,l.return)),a&64&&zn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var c=hn;if(Gt(t,e),Vt(e),a&512&&(vt||l===null||Sn(l,l.return)),a&4){var h=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(a){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Oe]||h[J]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(a),c.head.insertBefore(h,c.querySelector("head > title"))),Rt(h,a,l),h[J]=e,St(h),a=h;break e;case"link":var b=vh("link","href",c).get(a+(l.href||""));if(b){for(var E=0;E<b.length;E++)if(h=b[E],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(E,1);break t}}h=c.createElement(a),Rt(h,a,l),c.head.appendChild(h);break;case"meta":if(b=vh("meta","content",c).get(a+(l.content||""))){for(E=0;E<b.length;E++)if(h=b[E],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(E,1);break t}}h=c.createElement(a),Rt(h,a,l),c.head.appendChild(h);break;default:throw Error(s(468,a))}h[J]=e,St(h),a=h}e.stateNode=a}else Th(c,e.type,e.stateNode);else e.stateNode=yh(c,a,e.memoizedProps);else h!==a?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,a===null?Th(c,e.type,e.stateNode):yh(c,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Dr(e,e.memoizedProps,l.memoizedProps)}break;case 27:Gt(t,e),Vt(e),a&512&&(vt||l===null||Sn(l,l.return)),l!==null&&a&4&&Dr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Gt(t,e),Vt(e),a&512&&(vt||l===null||Sn(l,l.return)),e.flags&32){c=e.stateNode;try{Qi(c,"")}catch(fe){Fe(e,e.return,fe)}}a&4&&e.stateNode!=null&&(c=e.memoizedProps,Dr(e,c,l!==null?l.memoizedProps:c)),a&1024&&(Ur=!0);break;case 6:if(Gt(t,e),Vt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(fe){Fe(e,e.return,fe)}}break;case 3:if(Ba=null,c=hn,hn=Ga(t.containerInfo),Gt(t,e),hn=c,Vt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{_l(t.containerInfo)}catch(fe){Fe(e,e.return,fe)}Ur&&(Ur=!1,Tf(e));break;case 4:a=hn,hn=Ga(e.stateNode.containerInfo),Gt(t,e),Vt(e),hn=a;break;case 12:Gt(t,e),Vt(e);break;case 31:Gt(t,e),Vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Aa(e,a)));break;case 13:Gt(t,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Na=Ct()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Aa(e,a)));break;case 22:c=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,D=zn,H=vt;if(zn=D||c,vt=H||C,Gt(t,e),vt=H,zn=D,Vt(e),a&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(l===null||C||zn||vt||Gi(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){C=l=t;try{if(h=C.stateNode,c)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=C.stateNode;var B=C.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(fe){Fe(C,C.return,fe)}}}else if(t.tag===6){if(l===null){C=t;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(fe){Fe(C,C.return,fe)}}}else if(t.tag===18){if(l===null){C=t;try{var U=C.stateNode;c?rh(U,!0):rh(C.stateNode,!1)}catch(fe){Fe(C,C.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Aa(e,l))));break;case 19:Gt(t,e),Vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Aa(e,a)));break;case 30:break;case 21:break;default:Gt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(cf(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var c=l.stateNode,h=Ir(e);wa(e,h,c);break;case 5:var b=l.stateNode;l.flags&32&&(Qi(b,""),l.flags&=-33);var E=Ir(e);wa(e,E,b);break;case 3:case 4:var C=l.stateNode.containerInfo,D=Ir(e);kr(e,D,C);break;default:throw Error(s(161))}}catch(H){Fe(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hf(e,t.alternate,t),t=t.sibling}function Gi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:li(4,t,t.return),Gi(t);break;case 1:Sn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&rf(t,t.return,l),Gi(t);break;case 27:_o(t.stateNode);case 26:case 5:Sn(t,t.return),Gi(t);break;case 22:t.memoizedState===null&&Gi(t);break;case 30:Gi(t);break;default:Gi(t)}e=e.sibling}}function qn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,c=e,h=t,b=h.flags;switch(h.tag){case 0:case 11:case 15:qn(c,h,l),yo(4,h);break;case 1:if(qn(c,h,l),a=h,c=a.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(D){Fe(a,a.return,D)}if(a=h,c=a.updateQueue,c!==null){var E=a.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Kc(C[c],E)}catch(D){Fe(a,a.return,D)}}l&&b&64&&sf(h),vo(h,h.return);break;case 27:df(h);case 26:case 5:qn(c,h,l),l&&a===null&&b&4&&uf(h),vo(h,h.return);break;case 12:qn(c,h,l);break;case 31:qn(c,h,l),l&&b&4&&pf(c,h);break;case 13:qn(c,h,l),l&&b&4&&yf(c,h);break;case 22:h.memoizedState===null&&qn(c,h,l),vo(h,h.return);break;case 30:break;default:qn(c,h,l)}t=t.sibling}}function Lr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&io(l))}function zr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&io(e))}function mn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bf(e,t,l,a),t=t.sibling}function bf(e,t,l,a){var c=t.flags;switch(t.tag){case 0:case 11:case 15:mn(e,t,l,a),c&2048&&yo(9,t);break;case 1:mn(e,t,l,a);break;case 3:mn(e,t,l,a),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&io(e)));break;case 12:if(c&2048){mn(e,t,l,a),e=t.stateNode;try{var h=t.memoizedProps,b=h.id,E=h.onPostCommit;typeof E=="function"&&E(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Fe(t,t.return,C)}}else mn(e,t,l,a);break;case 31:mn(e,t,l,a);break;case 13:mn(e,t,l,a);break;case 23:break;case 22:h=t.stateNode,b=t.alternate,t.memoizedState!==null?h._visibility&2?mn(e,t,l,a):To(e,t):h._visibility&2?mn(e,t,l,a):(h._visibility|=2,pl(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Lr(b,t);break;case 24:mn(e,t,l,a),c&2048&&zr(t.alternate,t);break;default:mn(e,t,l,a)}}function pl(e,t,l,a,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,b=t,E=l,C=a,D=b.flags;switch(b.tag){case 0:case 11:case 15:pl(h,b,E,C,c),yo(8,b);break;case 23:break;case 22:var H=b.stateNode;b.memoizedState!==null?H._visibility&2?pl(h,b,E,C,c):To(h,b):(H._visibility|=2,pl(h,b,E,C,c)),c&&D&2048&&Lr(b.alternate,b);break;case 24:pl(h,b,E,C,c),c&&D&2048&&zr(b.alternate,b);break;default:pl(h,b,E,C,c)}t=t.sibling}}function To(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,c=a.flags;switch(a.tag){case 22:To(l,a),c&2048&&Lr(a.alternate,a);break;case 24:To(l,a),c&2048&&zr(a.alternate,a);break;default:To(l,a)}t=t.sibling}}var bo=8192;function yl(e,t,l){if(e.subtreeFlags&bo)for(e=e.child;e!==null;)Sf(e,t,l),e=e.sibling}function Sf(e,t,l){switch(e.tag){case 26:yl(e,t,l),e.flags&bo&&e.memoizedState!==null&&Oy(l,hn,e.memoizedState,e.memoizedProps);break;case 5:yl(e,t,l);break;case 3:case 4:var a=hn;hn=Ga(e.stateNode.containerInfo),yl(e,t,l),hn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=bo,bo=16777216,yl(e,t,l),bo=a):yl(e,t,l));break;default:yl(e,t,l)}}function xf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function So(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];xt=a,Cf(a,e)}xf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ef(e),e=e.sibling}function Ef(e){switch(e.tag){case 0:case 11:case 15:So(e),e.flags&2048&&li(9,e,e.return);break;case 3:So(e);break;case 12:So(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_a(e)):So(e);break;default:So(e)}}function _a(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];xt=a,Cf(a,e)}xf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:li(8,t,t.return),_a(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,_a(t));break;default:_a(t)}e=e.sibling}}function Cf(e,t){for(;xt!==null;){var l=xt;switch(l.tag){case 0:case 11:case 15:li(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:io(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,xt=a;else e:for(l=e;xt!==null;){a=xt;var c=a.sibling,h=a.return;if(mf(a),a===l){xt=null;break e}if(c!==null){c.return=h,xt=c;break e}xt=h}}}var ly={getCacheForType:function(e){var t=Nt(gt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Nt(gt).controller.signal}},oy=typeof WeakMap=="function"?WeakMap:Map,Be=0,We=null,Ne=null,ke=0,Ye=0,Zt=null,oi=!1,vl=!1,Pr=!1,Gn=0,ct=0,ai=0,Vi=0,Hr=0,Wt=0,Tl=0,xo=null,Bt=null,qr=!1,Na=0,wf=0,Ma=1/0,Ra=null,si=null,Tt=0,ri=null,bl=null,Vn=0,Gr=0,Vr=null,Af=null,Eo=0,Br=null;function $t(){return(Be&2)!==0&&ke!==0?ke&-ke:M.T!==null?Xr():Y()}function _f(){if(Wt===0)if((ke&536870912)===0||ze){var e=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),Wt=e}else Wt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Wt}function Ot(e,t,l){(e===We&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Sl(e,0),ui(e,ke,Wt,!1)),Ci(e,l),((Be&2)===0||e!==We)&&(e===We&&((Be&2)===0&&(Vi|=l),ct===4&&ui(e,ke,Wt,!1)),xn(e))}function Nf(e,t,l){if((Be&6)!==0)throw Error(s(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Ei(e,t),c=a?ry(e,t):Yr(e,t,!0),h=a;do{if(c===0){vl&&!a&&ui(e,t,0,!1);break}else{if(l=e.current.alternate,h&&!ay(l)){c=Yr(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var E=e;c=xo;var C=E.current.memoizedState.isDehydrated;if(C&&(Sl(E,b).flags|=256),b=Yr(E,b,!1),b!==2){if(Pr&&!C){E.errorRecoveryDisabledLanes|=h,Vi|=h,c=4;break e}h=Bt,Bt=c,h!==null&&(Bt===null?Bt=h:Bt.push.apply(Bt,h))}c=b}if(h=!1,c!==2)continue}}if(c===1){Sl(e,0),ui(e,t,0,!0);break}e:{switch(a=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ui(a,t,Wt,!oi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Na+300-Ct(),10<c)){if(ui(a,t,Wt,!oi),Ji(a,0,!0)!==0)break e;Vn=t,a.timeoutHandle=oh(Mf.bind(null,a,l,Bt,Ra,qr,t,Wt,Vi,Tl,oi,h,"Throttled",-0,0),c);break e}Mf(a,l,Bt,Ra,qr,t,Wt,Vi,Tl,oi,h,null,-0,0)}}break}while(!0);xn(e)}function Mf(e,t,l,a,c,h,b,E,C,D,H,B,I,U){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Sf(t,h,B);var fe=(h&62914560)===h?Na-Ct():(h&4194048)===h?wf-Ct():0;if(fe=Yy(B,fe),fe!==null){Vn=h,e.cancelPendingCommit=fe(Pf.bind(null,e,t,h,l,a,c,b,E,C,H,B,null,I,U)),ui(e,h,b,!D);return}}Pf(e,t,h,l,a,c,b,E,C)}function ay(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var c=l[a],h=c.getSnapshot;c=c.value;try{if(!jt(h(),c))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ui(e,t,l,a){t&=~Hr,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var c=t;0<c;){var h=31-rt(c),b=1<<h;a[h]=-1,c&=~b}l!==0&&Vl(e,l,t)}function Da(){return(Be&6)===0?(Co(0),!1):!0}function Or(){if(Ne!==null){if(Ye===0)var e=Ne.return;else e=Ne,Rn=Ii=null,or(e),dl=null,oo=0,e=Ne;for(;e!==null;)af(e.alternate,e),e=e.return;Ne=null}}function Sl(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Ay(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Vn=0,Or(),We=e,Ne=l=Nn(e.current,null),ke=t,Ye=0,Zt=null,oi=!1,vl=Ei(e,t),Pr=!1,Tl=Wt=Hr=Vi=ai=ct=0,Bt=xo=null,qr=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var c=31-rt(a),h=1<<c;t|=e[c],a&=~h}return Gn=t,Wo(),l}function Rf(e,t){Ae=null,M.H=mo,t===cl||t===aa?(t=Fc(),Ye=3):t===js?(t=Fc(),Ye=4):Ye=t===Sr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zt=t,Ne===null&&(ct=1,ba(e,ln(t,e.current)))}function Df(){var e=Kt.current;return e===null?!0:(ke&4194048)===ke?rn===null:(ke&62914560)===ke||(ke&536870912)!==0?e===rn:!1}function If(){var e=M.H;return M.H=mo,e===null?mo:e}function kf(){var e=M.A;return M.A=ly,e}function Ia(){ct=4,oi||(ke&4194048)!==ke&&Kt.current!==null||(vl=!0),(ai&134217727)===0&&(Vi&134217727)===0||We===null||ui(We,ke,Wt,!1)}function Yr(e,t,l){var a=Be;Be|=2;var c=If(),h=kf();(We!==e||ke!==t)&&(Ra=null,Sl(e,t)),t=!1;var b=ct;e:do try{if(Ye!==0&&Ne!==null){var E=Ne,C=Zt;switch(Ye){case 8:Or(),b=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var D=Ye;if(Ye=0,Zt=null,xl(e,E,C,D),l&&vl){b=0;break e}break;default:D=Ye,Ye=0,Zt=null,xl(e,E,C,D)}}sy(),b=ct;break}catch(H){Rf(e,H)}while(!0);return t&&e.shellSuspendCounter++,Rn=Ii=null,Be=a,M.H=c,M.A=h,Ne===null&&(We=null,ke=0,Wo()),b}function sy(){for(;Ne!==null;)Uf(Ne)}function ry(e,t){var l=Be;Be|=2;var a=If(),c=kf();We!==e||ke!==t?(Ra=null,Ma=Ct()+500,Sl(e,t)):vl=Ei(e,t);e:do try{if(Ye!==0&&Ne!==null){t=Ne;var h=Zt;t:switch(Ye){case 1:Ye=0,Zt=null,xl(e,t,h,1);break;case 2:case 9:if(Oc(h)){Ye=0,Zt=null,Lf(t);break}t=function(){Ye!==2&&Ye!==9||We!==e||(Ye=7),xn(e)},h.then(t,t);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Oc(h)?(Ye=0,Zt=null,Lf(t)):(Ye=0,Zt=null,xl(e,t,h,7));break;case 5:var b=null;switch(Ne.tag){case 26:b=Ne.memoizedState;case 5:case 27:var E=Ne;if(b?bh(b):E.stateNode.complete){Ye=0,Zt=null;var C=E.sibling;if(C!==null)Ne=C;else{var D=E.return;D!==null?(Ne=D,ka(D)):Ne=null}break t}}Ye=0,Zt=null,xl(e,t,h,5);break;case 6:Ye=0,Zt=null,xl(e,t,h,6);break;case 8:Or(),ct=6;break e;default:throw Error(s(462))}}uy();break}catch(H){Rf(e,H)}while(!0);return Rn=Ii=null,M.H=a,M.A=c,Be=l,Ne!==null?0:(We=null,ke=0,Wo(),ct)}function uy(){for(;Ne!==null&&!Pl();)Uf(Ne)}function Uf(e){var t=lf(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?ka(e):Ne=t}function Lf(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Zd(l,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Zd(l,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:or(t);default:af(l,t),t=Ne=Ic(t,Gn),t=lf(l,t,Gn)}e.memoizedProps=e.pendingProps,t===null?ka(e):Ne=t}function xl(e,t,l,a){Rn=Ii=null,or(t),dl=null,oo=0;var c=t.return;try{if(Zp(e,c,t,l,ke)){ct=1,ba(e,ln(l,e.current)),Ne=null;return}}catch(h){if(c!==null)throw Ne=c,h;ct=1,ba(e,ln(l,e.current)),Ne=null;return}t.flags&32768?(ze||a===1?e=!0:vl||(ke&536870912)!==0?e=!1:(oi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),zf(t,e)):ka(t)}function ka(e){var t=e;do{if((t.flags&32768)!==0){zf(t,oi);return}e=t.return;var l=ey(t.alternate,t,Gn);if(l!==null){Ne=l;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);ct===0&&(ct=5)}function zf(e,t){do{var l=ty(e.alternate,e);if(l!==null){l.flags&=32767,Ne=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=l}while(e!==null);ct=6,Ne=null}function Pf(e,t,l,a,c,h,b,E,C){e.cancelPendingCommit=null;do Ua();while(Tt!==0);if((Be&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(h=t.lanes|t.childLanes,h|=Is,Gl(e,l,h,b,E,C),e===We&&(Ne=We=null,ke=0),bl=t,ri=e,Vn=l,Gr=h,Vr=c,Af=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hy(nt,function(){return Bf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,c=Q.p,Q.p=2,b=Be,Be|=4;try{ny(e,t,l)}finally{Be=b,Q.p=c,M.T=a}}Tt=1,Hf(),qf(),Gf()}}function Hf(){if(Tt===1){Tt=0;var e=ri,t=bl,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var a=Q.p;Q.p=2;var c=Be;Be|=4;try{vf(t,e);var h=nu,b=Ec(e.containerInfo),E=h.focusedElem,C=h.selectionRange;if(b!==E&&E&&E.ownerDocument&&xc(E.ownerDocument.documentElement,E)){if(C!==null&&_s(E)){var D=C.start,H=C.end;if(H===void 0&&(H=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(H,E.value.length);else{var B=E.ownerDocument||document,I=B&&B.defaultView||window;if(I.getSelection){var U=I.getSelection(),fe=E.textContent.length,be=Math.min(C.start,fe),Xe=C.end===void 0?be:Math.min(C.end,fe);!U.extend&&be>Xe&&(b=Xe,Xe=be,be=b);var _=Sc(E,be),A=Sc(E,Xe);if(_&&A&&(U.rangeCount!==1||U.anchorNode!==_.node||U.anchorOffset!==_.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var R=B.createRange();R.setStart(_.node,_.offset),U.removeAllRanges(),be>Xe?(U.addRange(R),U.extend(A.node,A.offset)):(R.setEnd(A.node,A.offset),U.addRange(R))}}}}for(B=[],U=E;U=U.parentNode;)U.nodeType===1&&B.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<B.length;E++){var V=B[E];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Ja=!!tu,nu=tu=null}finally{Be=c,Q.p=a,M.T=l}}e.current=t,Tt=2}}function qf(){if(Tt===2){Tt=0;var e=ri,t=bl,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var a=Q.p;Q.p=2;var c=Be;Be|=4;try{hf(e,t.alternate,t)}finally{Be=c,Q.p=a,M.T=l}}Tt=3}}function Gf(){if(Tt===4||Tt===3){Tt=0,Hl();var e=ri,t=bl,l=Vn,a=Af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Tt=5:(Tt=0,bl=ri=null,Vf(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(si=null),Fl(l),t=t.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(At,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=M.T,c=Q.p,Q.p=2,M.T=null;try{for(var h=e.onRecoverableError,b=0;b<a.length;b++){var E=a[b];h(E.value,{componentStack:E.stack})}}finally{M.T=t,Q.p=c}}(Vn&3)!==0&&Ua(),xn(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===Br?Eo++:(Eo=0,Br=e):Eo=0,Co(0)}}function Vf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,io(t)))}function Ua(){return Hf(),qf(),Gf(),Bf()}function Bf(){if(Tt!==5)return!1;var e=ri,t=Gr;Gr=0;var l=Fl(Vn),a=M.T,c=Q.p;try{Q.p=32>l?32:l,M.T=null,l=Vr,Vr=null;var h=ri,b=Vn;if(Tt=0,bl=ri=null,Vn=0,(Be&6)!==0)throw Error(s(331));var E=Be;if(Be|=4,Ef(h.current),bf(h,h.current,b,l),Be=E,Co(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(At,h)}catch{}return!0}finally{Q.p=c,M.T=a,Vf(e,t)}}function Of(e,t,l){t=ln(l,t),t=br(e.stateNode,t,2),e=ti(e,t,2),e!==null&&(Ci(e,2),xn(e))}function Fe(e,t,l){if(e.tag===3)Of(e,e,l);else for(;t!==null;){if(t.tag===3){Of(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(si===null||!si.has(a))){e=ln(l,e),l=Od(2),a=ti(t,l,2),a!==null&&(Yd(l,a,t,e),Ci(a,2),xn(a));break}}t=t.return}}function Fr(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new oy;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(l)||(Pr=!0,c.add(l),e=cy.bind(null,e,t,l),t.then(e,e))}function cy(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,We===e&&(ke&l)===l&&(ct===4||ct===3&&(ke&62914560)===ke&&300>Ct()-Na?(Be&2)===0&&Sl(e,0):Hr|=l,Tl===ke&&(Tl=0)),xn(e)}function Yf(e,t){t===0&&(t=Go()),e=Mi(e,t),e!==null&&(Ci(e,t),xn(e))}function dy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Yf(e,l)}function fy(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Yf(e,l)}function hy(e,t){return Yn(e,t)}var La=null,El=null,Jr=!1,za=!1,jr=!1,ci=0;function xn(e){e!==El&&e.next===null&&(El===null?La=El=e:El=El.next=e),za=!0,Jr||(Jr=!0,gy())}function Co(e,t){if(!jr&&za){jr=!0;do for(var l=!1,a=La;a!==null;){if(e!==0){var c=a.pendingLanes;if(c===0)var h=0;else{var b=a.suspendedLanes,E=a.pingedLanes;h=(1<<31-rt(42|e)+1)-1,h&=c&~(b&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Xf(a,h))}else h=ke,h=Ji(a,a===We?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(h&3)===0||Ei(a,h)||(l=!0,Xf(a,h));a=a.next}while(l);jr=!1}}function my(){Ff()}function Ff(){za=Jr=!1;var e=0;ci!==0&&wy()&&(e=ci);for(var t=Ct(),l=null,a=La;a!==null;){var c=a.next,h=Jf(a,t);h===0?(a.next=null,l===null?La=c:l.next=c,c===null&&(El=l)):(l=a,(e!==0||(h&3)!==0)&&(za=!0)),a=c}Tt!==0&&Tt!==5||Co(e),ci!==0&&(ci=0)}function Jf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-rt(h),E=1<<b,C=c[b];C===-1?((E&l)===0||(E&a)!==0)&&(c[b]=cs(E,t)):C<=t&&(e.expiredLanes|=E),h&=~E}if(t=We,l=ke,l=Ji(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&En(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ei(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&En(a),Fl(l)){case 2:case 8:l=Qe;break;case 32:l=nt;break;case 268435456:l=et;break;default:l=nt}return a=jf.bind(null,e),l=Yn(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&En(a),e.callbackPriority=2,e.callbackNode=null,2}function jf(e,t){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ua()&&e.callbackNode!==l)return null;var a=ke;return a=Ji(e,e===We?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Nf(e,a,t),Jf(e,Ct()),e.callbackNode!=null&&e.callbackNode===l?jf.bind(null,e):null)}function Xf(e,t){if(Ua())return null;Nf(e,t,!0)}function gy(){_y(function(){(Be&6)!==0?Yn(Pe,my):Ff()})}function Xr(){if(ci===0){var e=rl;e===0&&(e=vn,vn<<=1,(vn&261888)===0&&(vn=256)),ci=e}return ci}function Kf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yo(""+e)}function Qf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function py(e,t,l,a,c){if(t==="submit"&&l&&l.stateNode===c){var h=Kf((c[j]||null).action),b=a.submitter;b&&(t=(t=b[j]||null)?Kf(t.formAction):b.getAttribute("formAction"),t!==null&&(h=t,b=null));var E=new Xo("action","action",null,a,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ci!==0){var C=b?Qf(c,b):new FormData(c);mr(l,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=b?Qf(c,b):new FormData(c),mr(l,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var Kr=0;Kr<Ds.length;Kr++){var Qr=Ds[Kr],yy=Qr.toLowerCase(),vy=Qr[0].toUpperCase()+Qr.slice(1);fn(yy,"on"+vy)}fn(Ac,"onAnimationEnd"),fn(_c,"onAnimationIteration"),fn(Nc,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Up,"onTransitionRun"),fn(Lp,"onTransitionStart"),fn(zp,"onTransitionCancel"),fn(Mc,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wo));function Zf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],c=a.event;a=a.listeners;e:{var h=void 0;if(t)for(var b=a.length-1;0<=b;b--){var E=a[b],C=E.instance,D=E.currentTarget;if(E=E.listener,C!==h&&c.isPropagationStopped())break e;h=E,c.currentTarget=D;try{h(c)}catch(H){Zo(H)}c.currentTarget=null,h=C}else for(b=0;b<a.length;b++){if(E=a[b],C=E.instance,D=E.currentTarget,E=E.listener,C!==h&&c.isPropagationStopped())break e;h=E,c.currentTarget=D;try{h(c)}catch(H){Zo(H)}c.currentTarget=null,h=C}}}}function Me(e,t){var l=t[Ce];l===void 0&&(l=t[Ce]=new Set);var a=e+"__bubble";l.has(a)||(Wf(t,e,2,!1),l.add(a))}function Zr(e,t,l){var a=0;t&&(a|=4),Wf(l,e,a,t)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Pa]){e[Pa]=!0,Yu.forEach(function(l){l!=="selectionchange"&&(Ty.has(l)||Zr(l,!1,e),Zr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pa]||(t[Pa]=!0,Zr("selectionchange",!1,t))}}function Wf(e,t,l,a){switch(_h(t)){case 2:var c=jy;break;case 8:c=Xy;break;default:c=hu}l=c.bind(null,t,l,e),c=void 0,!vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,l,{capture:!0,passive:c}):e.addEventListener(t,l,!0):c!==void 0?e.addEventListener(t,l,{passive:c}):e.addEventListener(t,l,!1)}function $r(e,t,l,a,c){var h=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var b=a.tag;if(b===3||b===4){var E=a.stateNode.containerInfo;if(E===c)break;if(b===4)for(b=a.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;E!==null;){if(b=It(E),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){a=h=b;continue e}E=E.parentNode}}a=a.return}nc(function(){var D=h,H=ps(l),B=[];e:{var I=Rc.get(e);if(I!==void 0){var U=Xo,fe=e;switch(e){case"keypress":if(Jo(l)===0)break e;case"keydown":case"keyup":U=fp;break;case"focusin":fe="focus",U=xs;break;case"focusout":fe="blur",U=xs;break;case"beforeblur":case"afterblur":U=xs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ep;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=gp;break;case Ac:case _c:case Nc:U=ip;break;case Mc:U=yp;break;case"scroll":case"scrollend":U=Wg;break;case"wheel":U=Tp;break;case"copy":case"cut":case"paste":U=op;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=sc;break;case"toggle":case"beforetoggle":U=Sp}var be=(t&4)!==0,Xe=!be&&(e==="scroll"||e==="scrollend"),_=be?I!==null?I+"Capture":null:I;be=[];for(var A=D,R;A!==null;){var V=A;if(R=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||R===null||_===null||(V=Jl(A,_),V!=null&&be.push(Ao(A,V,R))),Xe)break;A=A.return}0<be.length&&(I=new U(I,fe,null,l,H),B.push({event:I,listeners:be}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",I&&l!==gs&&(fe=l.relatedTarget||l.fromElement)&&(It(fe)||fe[re]))break e;if((U||I)&&(I=H.window===H?H:(I=H.ownerDocument)?I.defaultView||I.parentWindow:window,U?(fe=l.relatedTarget||l.toElement,U=D,fe=fe?It(fe):null,fe!==null&&(Xe=f(fe),be=fe.tag,fe!==Xe||be!==5&&be!==27&&be!==6)&&(fe=null)):(U=null,fe=D),U!==fe)){if(be=oc,V="onMouseLeave",_="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(be=sc,V="onPointerLeave",_="onPointerEnter",A="pointer"),Xe=U==null?I:kt(U),R=fe==null?I:kt(fe),I=new be(V,A+"leave",U,l,H),I.target=Xe,I.relatedTarget=R,V=null,It(H)===D&&(be=new be(_,A+"enter",fe,l,H),be.target=R,be.relatedTarget=Xe,V=be),Xe=V,U&&fe)t:{for(be=by,_=U,A=fe,R=0,V=_;V;V=be(V))R++;V=0;for(var pe=A;pe;pe=be(pe))V++;for(;0<R-V;)_=be(_),R--;for(;0<V-R;)A=be(A),V--;for(;R--;){if(_===A||A!==null&&_===A.alternate){be=_;break t}_=be(_),A=be(A)}be=null}else be=null;U!==null&&$f(B,I,U,be,!1),fe!==null&&Xe!==null&&$f(B,Xe,fe,be,!0)}}e:{if(I=D?kt(D):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var He=gc;else if(hc(I))if(pc)He=Dp;else{He=Mp;var me=Np}else U=I.nodeName,!U||U.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?D&&ms(D.elementType)&&(He=gc):He=Rp;if(He&&(He=He(e,D))){mc(B,He,l,H);break e}me&&me(e,I,D),e==="focusout"&&D&&I.type==="number"&&D.memoizedProps.value!=null&&hs(I,"number",I.value)}switch(me=D?kt(D):window,e){case"focusin":(hc(me)||me.contentEditable==="true")&&(el=me,Ns=D,eo=null);break;case"focusout":eo=Ns=el=null;break;case"mousedown":Ms=!0;break;case"contextmenu":case"mouseup":case"dragend":Ms=!1,Cc(B,l,H);break;case"selectionchange":if(kp)break;case"keydown":case"keyup":Cc(B,l,H)}var _e;if(Cs)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else $i?dc(e,l)&&(Ue="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(rc&&l.locale!=="ko"&&($i||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&$i&&(_e=ic()):(Xn=H,Ts="value"in Xn?Xn.value:Xn.textContent,$i=!0)),me=Ha(D,Ue),0<me.length&&(Ue=new ac(Ue,e,null,l,H),B.push({event:Ue,listeners:me}),_e?Ue.data=_e:(_e=fc(l),_e!==null&&(Ue.data=_e)))),(_e=Ep?Cp(e,l):wp(e,l))&&(Ue=Ha(D,"onBeforeInput"),0<Ue.length&&(me=new ac("onBeforeInput","beforeinput",null,l,H),B.push({event:me,listeners:Ue}),me.data=_e)),py(B,e,D,l,H)}Zf(B,t)})}function Ao(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ha(e,t){for(var l=t+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Jl(e,l),c!=null&&a.unshift(Ao(e,c,h)),c=Jl(e,t),c!=null&&a.push(Ao(e,c,h))),e.tag===3)return a;e=e.return}return[]}function by(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $f(e,t,l,a,c){for(var h=t._reactName,b=[];l!==null&&l!==a;){var E=l,C=E.alternate,D=E.stateNode;if(E=E.tag,C!==null&&C===a)break;E!==5&&E!==26&&E!==27||D===null||(C=D,c?(D=Jl(l,h),D!=null&&b.unshift(Ao(l,D,C))):c||(D=Jl(l,h),D!=null&&b.push(Ao(l,D,C)))),l=l.return}b.length!==0&&e.push({event:t,listeners:b})}var Sy=/\r\n?/g,xy=/\u0000|\uFFFD/g;function eh(e){return(typeof e=="string"?e:""+e).replace(Sy,`
`).replace(xy,"")}function th(e,t){return t=eh(t),eh(e)===t}function je(e,t,l,a,c,h){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Qi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Qi(e,""+a);break;case"className":Bo(e,"class",a);break;case"tabIndex":Bo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Bo(e,l,a);break;case"style":ec(e,a,h);break;case"data":if(t!=="object"){Bo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Yo(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(t!=="input"&&je(e,t,"name",c.name,c,null),je(e,t,"formEncType",c.formEncType,c,null),je(e,t,"formMethod",c.formMethod,c,null),je(e,t,"formTarget",c.formTarget,c,null)):(je(e,t,"encType",c.encType,c,null),je(e,t,"method",c.method,c,null),je(e,t,"target",c.target,c,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Yo(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=An);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Yo(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Vo(e,"popover",a);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Vo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Qg.get(l)||l,Vo(e,l,a))}}function eu(e,t,l,a,c,h){switch(l){case"style":ec(e,a,h);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Qi(e,a):(typeof a=="number"||typeof a=="bigint")&&Qi(e,""+a);break;case"onScroll":a!=null&&Me("scroll",e);break;case"onScrollEnd":a!=null&&Me("scrollend",e);break;case"onClick":a!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),t=l.slice(2,c?l.length-7:void 0),h=e[j]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof a=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,c);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Vo(e,l,a)}}}function Rt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var a=!1,c=!1,h;for(h in l)if(l.hasOwnProperty(h)){var b=l[h];if(b!=null)switch(h){case"src":a=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:je(e,t,h,b,l,null)}}c&&je(e,t,"srcSet",l.srcSet,l,null),a&&je(e,t,"src",l.src,l,null);return;case"input":Me("invalid",e);var E=h=b=c=null,C=null,D=null;for(a in l)if(l.hasOwnProperty(a)){var H=l[a];if(H!=null)switch(a){case"name":c=H;break;case"type":b=H;break;case"checked":C=H;break;case"defaultChecked":D=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:je(e,t,a,H,l,null)}}Qu(e,h,E,C,D,b,c,!1);return;case"select":Me("invalid",e),a=b=h=null;for(c in l)if(l.hasOwnProperty(c)&&(E=l[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":b=E;break;case"multiple":a=E;default:je(e,t,c,E,l,null)}t=h,l=b,e.multiple=!!a,t!=null?Ki(e,!!a,t,!1):l!=null&&Ki(e,!!a,l,!0);return;case"textarea":Me("invalid",e),h=c=a=null;for(b in l)if(l.hasOwnProperty(b)&&(E=l[b],E!=null))switch(b){case"value":a=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:je(e,t,b,E,l,null)}Wu(e,a,c,h);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:je(e,t,C,a,l,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(a=0;a<wo.length;a++)Me(wo[a],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(a=l[D],a!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:je(e,t,D,a,l,null)}return;default:if(ms(t)){for(H in l)l.hasOwnProperty(H)&&(a=l[H],a!==void 0&&eu(e,t,H,a,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(a=l[E],a!=null&&je(e,t,E,a,l,null))}function Ey(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,b=null,E=null,C=null,D=null,H=null;for(U in l){var B=l[U];if(l.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=B;default:a.hasOwnProperty(U)||je(e,t,U,null,a,B)}}for(var I in a){var U=a[I];if(B=l[I],a.hasOwnProperty(I)&&(U!=null||B!=null))switch(I){case"type":h=U;break;case"name":c=U;break;case"checked":D=U;break;case"defaultChecked":H=U;break;case"value":b=U;break;case"defaultValue":E=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:U!==B&&je(e,t,I,U,a,B)}}fs(e,b,E,C,D,H,h,c);return;case"select":U=b=E=I=null;for(h in l)if(C=l[h],l.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":U=C;default:a.hasOwnProperty(h)||je(e,t,h,null,a,C)}for(c in a)if(h=a[c],C=l[c],a.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":I=h;break;case"defaultValue":E=h;break;case"multiple":b=h;default:h!==C&&je(e,t,c,h,a,C)}t=E,l=b,a=U,I!=null?Ki(e,!!l,I,!1):!!a!=!!l&&(t!=null?Ki(e,!!l,t,!0):Ki(e,!!l,l?[]:"",!1));return;case"textarea":U=I=null;for(E in l)if(c=l[E],l.hasOwnProperty(E)&&c!=null&&!a.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:je(e,t,E,null,a,c)}for(b in a)if(c=a[b],h=l[b],a.hasOwnProperty(b)&&(c!=null||h!=null))switch(b){case"value":I=c;break;case"defaultValue":U=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&je(e,t,b,c,a,h)}Zu(e,I,U);return;case"option":for(var fe in l)if(I=l[fe],l.hasOwnProperty(fe)&&I!=null&&!a.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:je(e,t,fe,null,a,I)}for(C in a)if(I=a[C],U=l[C],a.hasOwnProperty(C)&&I!==U&&(I!=null||U!=null))switch(C){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:je(e,t,C,I,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)I=l[be],l.hasOwnProperty(be)&&I!=null&&!a.hasOwnProperty(be)&&je(e,t,be,null,a,I);for(D in a)if(I=a[D],U=l[D],a.hasOwnProperty(D)&&I!==U&&(I!=null||U!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,t));break;default:je(e,t,D,I,a,U)}return;default:if(ms(t)){for(var Xe in l)I=l[Xe],l.hasOwnProperty(Xe)&&I!==void 0&&!a.hasOwnProperty(Xe)&&eu(e,t,Xe,void 0,a,I);for(H in a)I=a[H],U=l[H],!a.hasOwnProperty(H)||I===U||I===void 0&&U===void 0||eu(e,t,H,I,a,U);return}}for(var _ in l)I=l[_],l.hasOwnProperty(_)&&I!=null&&!a.hasOwnProperty(_)&&je(e,t,_,null,a,I);for(B in a)I=a[B],U=l[B],!a.hasOwnProperty(B)||I===U||I==null&&U==null||je(e,t,B,I,a,U)}function nh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var c=l[a],h=c.transferSize,b=c.initiatorType,E=c.duration;if(h&&E&&nh(b)){for(b=0,E=c.responseEnd,a+=1;a<l.length;a++){var C=l[a],D=C.startTime;if(D>E)break;var H=C.transferSize,B=C.initiatorType;H&&nh(B)&&(C=C.responseEnd,b+=H*(C<E?1:(E-D)/(C-D)))}if(--a,t+=8*(h+b)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tu=null,nu=null;function qa(e){return e.nodeType===9?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=null;function wy(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var oh=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,_y=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(e){return ah.resolve(null).then(e).catch(Ny)}:oh;function Ny(e){setTimeout(function(){throw e})}function di(e){return e==="head"}function sh(e,t){var l=t,a=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(c),_l(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")_o(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,_o(l);for(var h=l.firstChild;h;){var b=h.nextSibling,E=h.nodeName;h[Oe]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=b}}else l==="body"&&_o(e.ownerDocument.body);l=c}while(l);_l(t)}function rh(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function ou(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ou(l),mt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function My(e,t,l,a){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Oe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function Ry(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=un(e.nextSibling),e===null))return null;return e}function uh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=un(e.nextSibling),e===null))return null;return e}function au(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Dy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ru=null;function ch(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return un(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function fh(e,t,l){switch(t=qa(l),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _o(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mt(e)}var cn=new Map,hh=new Set;function Ga(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bn=Q.d;Q.d={f:Iy,r:ky,D:Uy,C:Ly,L:zy,m:Py,X:qy,S:Hy,M:Gy};function Iy(){var e=Bn.f(),t=Da();return e||t}function ky(e){var t=Jt(e);t!==null&&t.tag===5&&t.type==="form"?Md(t):Bn.r(e)}var Cl=typeof document>"u"?null:document;function mh(e,t,l){var a=Cl;if(a&&typeof t=="string"&&t){var c=tn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),hh.has(c)||(hh.add(c),e={rel:e,crossOrigin:l,href:t},a.querySelector(c)===null&&(t=a.createElement("link"),Rt(t,"link",e),St(t),a.head.appendChild(t)))}}function Uy(e){Bn.D(e),mh("dns-prefetch",e,null)}function Ly(e,t){Bn.C(e,t),mh("preconnect",e,t)}function zy(e,t,l){Bn.L(e,t,l);var a=Cl;if(a&&e&&t){var c='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+tn(l.imageSizes)+'"]')):c+='[href="'+tn(e)+'"]';var h=c;switch(t){case"style":h=wl(e);break;case"script":h=Al(e)}cn.has(h)||(e=S({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),cn.set(h,e),a.querySelector(c)!==null||t==="style"&&a.querySelector(No(h))||t==="script"&&a.querySelector(Mo(h))||(t=a.createElement("link"),Rt(t,"link",e),St(t),a.head.appendChild(t)))}}function Py(e,t){Bn.m(e,t);var l=Cl;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+tn(a)+'"][href="'+tn(e)+'"]',h=c;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Al(e)}if(!cn.has(h)&&(e=S({rel:"modulepreload",href:e},t),cn.set(h,e),l.querySelector(c)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mo(h)))return}a=l.createElement("link"),Rt(a,"link",e),St(a),l.head.appendChild(a)}}}function Hy(e,t,l){Bn.S(e,t,l);var a=Cl;if(a&&e){var c=ji(a).hoistableStyles,h=wl(e);t=t||"default";var b=c.get(h);if(!b){var E={loading:0,preload:null};if(b=a.querySelector(No(h)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},l),(l=cn.get(h))&&uu(e,l);var C=b=a.createElement("link");St(C),Rt(C,"link",e),C._p=new Promise(function(D,H){C.onload=D,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Va(b,t,a)}b={type:"stylesheet",instance:b,count:1,state:E},c.set(h,b)}}}function qy(e,t){Bn.X(e,t);var l=Cl;if(l&&e){var a=ji(l).hoistableScripts,c=Al(e),h=a.get(c);h||(h=l.querySelector(Mo(c)),h||(e=S({src:e,async:!0},t),(t=cn.get(c))&&cu(e,t),h=l.createElement("script"),St(h),Rt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(c,h))}}function Gy(e,t){Bn.M(e,t);var l=Cl;if(l&&e){var a=ji(l).hoistableScripts,c=Al(e),h=a.get(c);h||(h=l.querySelector(Mo(c)),h||(e=S({src:e,async:!0,type:"module"},t),(t=cn.get(c))&&cu(e,t),h=l.createElement("script"),St(h),Rt(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},a.set(c,h))}}function gh(e,t,l,a){var c=(c=Se.current)?Ga(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=wl(l.href),l=ji(c).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=wl(l.href);var h=ji(c).hoistableStyles,b=h.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=c.querySelector(No(e)))&&!h._p&&(b.instance=h,b.state.loading=5),cn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},cn.set(e,l),h||Vy(c,e,l,b.state))),t&&a===null)throw Error(s(528,""));return b}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Al(l),l=ji(c).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wl(e){return'href="'+tn(e)+'"'}function No(e){return'link[rel="stylesheet"]['+e+"]"}function ph(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Vy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Rt(t,"link",l),St(t),e.head.appendChild(t))}function Al(e){return'[src="'+tn(e)+'"]'}function Mo(e){return"script[async]"+e}function yh(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+tn(l.href)+'"]');if(a)return t.instance=a,St(a),a;var c=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),St(a),Rt(a,"style",c),Va(a,l.precedence,e),t.instance=a;case"stylesheet":c=wl(l.href);var h=e.querySelector(No(c));if(h)return t.state.loading|=4,t.instance=h,St(h),h;a=ph(l),(c=cn.get(c))&&uu(a,c),h=(e.ownerDocument||e).createElement("link"),St(h);var b=h;return b._p=new Promise(function(E,C){b.onload=E,b.onerror=C}),Rt(h,"link",a),t.state.loading|=4,Va(h,l.precedence,e),t.instance=h;case"script":return h=Al(l.src),(c=e.querySelector(Mo(h)))?(t.instance=c,St(c),c):(a=l,(c=cn.get(h))&&(a=S({},l),cu(a,c)),e=e.ownerDocument||e,c=e.createElement("script"),St(c),Rt(c,"link",a),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Va(a,l.precedence,e));return t.instance}function Va(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=a.length?a[a.length-1]:null,h=c,b=0;b<a.length;b++){var E=a[b];if(E.dataset.precedence===t)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function uu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ba=null;function vh(e,t,l){if(Ba===null){var a=new Map,c=Ba=new Map;c.set(l,a)}else c=Ba,a=c.get(l),a||(a=new Map,c.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var h=l[c];if(!(h[Oe]||h[J]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(t)||"";b=e+b;var E=a.get(b);E?E.push(h):a.set(b,[h])}}return a}function Th(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function By(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function bh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Oy(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=wl(a.href),h=t.querySelector(No(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Oa.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=h,St(h);return}h=t.ownerDocument||t,a=ph(a),(c=cn.get(c))&&uu(a,c),h=h.createElement("link"),St(h);var b=h;b._p=new Promise(function(E,C){b.onload=E,b.onerror=C}),Rt(h,"link",a),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Oa.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var du=0;function Yy(e,t){return e.stylesheets&&e.count===0&&Fa(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Fa(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&du===0&&(du=62500*Cy());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fa(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>du?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(c)}}:null}function Oa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ya=null;function Fa(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ya=new Map,t.forEach(Fy,e),Ya=null,Oa.call(e))}function Fy(e,t){if(!(t.state.loading&4)){var l=Ya.get(e);if(l)var a=l.get(null);else{l=new Map,Ya.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var b=c[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),a=b)}a&&l.set(null,a)}c=t.instance,b=c.getAttribute("data-precedence"),h=l.get(b)||a,h===a&&l.set(null,c),l.set(b,c),this.count++,a=Oa.bind(this),c.addEventListener("load",a),c.addEventListener("error",a),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ro={$$typeof:F,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Jy(e,t,l,a,c,h,b,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.hiddenUpdates=ql(null),this.identifierPrefix=a,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Sh(e,t,l,a,c,h,b,E,C,D,H,B){return e=new Jy(e,t,l,b,C,D,H,B,E),t=1,h===!0&&(t|=24),h=Xt(3,null,null,t),e.current=h,h.stateNode=e,t=Ys(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:a,isDehydrated:l,cache:t},Xs(h),e}function xh(e){return e?(e=il,e):il}function Eh(e,t,l,a,c,h){c=xh(c),a.context===null?a.context=c:a.pendingContext=c,a=ei(t),a.payload={element:l},h=h===void 0?null:h,h!==null&&(a.callback=h),l=ti(e,a,t),l!==null&&(Ot(l,e,t),so(l,e,t))}function Ch(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function fu(e,t){Ch(e,t),(e=e.alternate)&&Ch(e,t)}function wh(e){if(e.tag===13||e.tag===31){var t=Mi(e,67108864);t!==null&&Ot(t,e,67108864),fu(e,67108864)}}function Ah(e){if(e.tag===13||e.tag===31){var t=$t();t=Yl(t);var l=Mi(e,t);l!==null&&Ot(l,e,t),fu(e,t)}}var Ja=!0;function jy(e,t,l,a){var c=M.T;M.T=null;var h=Q.p;try{Q.p=2,hu(e,t,l,a)}finally{Q.p=h,M.T=c}}function Xy(e,t,l,a){var c=M.T;M.T=null;var h=Q.p;try{Q.p=8,hu(e,t,l,a)}finally{Q.p=h,M.T=c}}function hu(e,t,l,a){if(Ja){var c=mu(a);if(c===null)$r(e,t,a,ja,l),Nh(e,a);else if(Qy(c,e,t,l,a))a.stopPropagation();else if(Nh(e,a),t&4&&-1<Ky.indexOf(e)){for(;c!==null;){var h=Jt(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=Cn(h.pendingLanes);if(b!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;b;){var C=1<<31-rt(b);E.entanglements[1]|=C,b&=~C}xn(h),(Be&6)===0&&(Ma=Ct()+500,Co(0))}}break;case 31:case 13:E=Mi(h,2),E!==null&&Ot(E,h,2),Da(),fu(h,2)}if(h=mu(a),h===null&&$r(e,t,a,ja,l),h===c)break;c=h}c!==null&&a.stopPropagation()}else $r(e,t,a,null,l)}}function mu(e){return e=ps(e),gu(e)}var ja=null;function gu(e){if(ja=null,e=It(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=m(t),e!==null)return e;e=null}else if(l===31){if(e=p(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ja=e,null}function _h(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ue()){case Pe:return 2;case Qe:return 8;case nt:case $e:return 32;case et:return 268435456;default:return 32}default:return 32}}var pu=!1,fi=null,hi=null,mi=null,Do=new Map,Io=new Map,gi=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(e,t){switch(e){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(t.pointerId)}}function ko(e,t,l,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Jt(t),t!==null&&wh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Qy(e,t,l,a,c){switch(t){case"focusin":return fi=ko(fi,e,t,l,a,c),!0;case"dragenter":return hi=ko(hi,e,t,l,a,c),!0;case"mouseover":return mi=ko(mi,e,t,l,a,c),!0;case"pointerover":var h=c.pointerId;return Do.set(h,ko(Do.get(h)||null,e,t,l,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Io.set(h,ko(Io.get(h)||null,e,t,l,a,c)),!0}return!1}function Mh(e){var t=It(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=m(l),t!==null){e.blockedOn=t,X(e.priority,function(){Ah(l)});return}}else if(t===31){if(t=p(l),t!==null){e.blockedOn=t,X(e.priority,function(){Ah(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=mu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);gs=a,l.target.dispatchEvent(a),gs=null}else return t=Jt(l),t!==null&&wh(t),e.blockedOn=l,!1;t.shift()}return!0}function Rh(e,t,l){Xa(e)&&l.delete(t)}function Zy(){pu=!1,fi!==null&&Xa(fi)&&(fi=null),hi!==null&&Xa(hi)&&(hi=null),mi!==null&&Xa(mi)&&(mi=null),Do.forEach(Rh),Io.forEach(Rh)}function Ka(e,t){e.blockedOn===t&&(e.blockedOn=null,pu||(pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zy)))}var Qa=null;function Dh(e){Qa!==e&&(Qa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qa===e&&(Qa=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],c=e[t+2];if(typeof a!="function"){if(gu(a||l)===null)continue;break}var h=Jt(l);h!==null&&(e.splice(t,3),t-=3,mr(h,{pending:!0,data:c,method:l.method,action:a},a,c))}}))}function _l(e){function t(C){return Ka(C,e)}fi!==null&&Ka(fi,e),hi!==null&&Ka(hi,e),mi!==null&&Ka(mi,e),Do.forEach(t),Io.forEach(t);for(var l=0;l<gi.length;l++){var a=gi[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<gi.length&&(l=gi[0],l.blockedOn===null);)Mh(l),l.blockedOn===null&&gi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var c=l[a],h=l[a+1],b=c[j]||null;if(typeof h=="function")b||Dh(l);else if(b){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,b=h[j]||null)E=b.formAction;else if(gu(c)!==null)continue}else E=b.action;typeof E=="function"?l[a+1]=E:(l.splice(a,3),a-=3),Dh(l)}}}function Ih(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(b){return c=b})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function yu(e){this._internalRoot=e}Za.prototype.render=yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var l=t.current,a=$t();Eh(l,a,e,t,null,null)},Za.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eh(e.current,2,null,e,null,null),Da(),t[re]=null}};function Za(e){this._internalRoot=e}Za.prototype.unstable_scheduleHydration=function(e){if(e){var t=Y();e={blockedOn:null,target:e,priority:t};for(var l=0;l<gi.length&&t!==0&&t<gi[l].priority;l++);gi.splice(l,0,e),l===0&&Mh(e)}};var kh=n.version;if(kh!=="19.2.0")throw Error(s(527,kh,"19.2.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var Wy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{At=Wa.inject(Wy),Ze=Wa}catch{}}return Lo.createRoot=function(e,t){if(!u(e))throw Error(s(299));var l=!1,a="",c=qd,h=Gd,b=Vd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError)),t=Sh(e,1,!1,null,null,l,a,null,c,h,b,Ih),e[re]=t.current,Wr(e),new yu(t)},Lo.hydrateRoot=function(e,t,l){if(!u(e))throw Error(s(299));var a=!1,c="",h=qd,b=Gd,E=Vd,C=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),t=Sh(e,1,!0,t,l??null,a,c,C,h,b,E,Ih),t.context=xh(null),l=t.current,a=$t(),a=Yl(a),c=ei(a),c.callback=null,ti(l,c,a),l=a,t.current.lanes=l,Ci(t,l),xn(t),e[re]=t.current,Wr(e),new Za(t)},Lo.version="19.2.0",Lo}var Oh;function u0(){if(Oh)return bu.exports;Oh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),bu.exports=r0(),bu.exports}var c0=u0();const d0=gg(c0),pg=({forceFull:i=!1})=>v.jsxs("div",{className:"flex items-center",title:"PHOTOBOOKVIETNAM Album Builder",children:[i&&v.jsxs("span",{className:"inline text-3xl",style:{fontFamily:"'Fjalla One', sans-serif",letterSpacing:"-0.075em",textShadow:"1px 1px 3px rgba(0, 0, 0, 0.5)"},children:[v.jsx("span",{className:"text-black",children:"PHOTOBOOK"}),v.jsx("span",{className:"text-cyan-200",children:"VIETNAM"})]}),!i&&v.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",style:{fontFamily:"'Fjalla One', sans-serif",textShadow:"1px 1px 3px rgba(0, 0, 0, 0.5)"},children:[v.jsx("span",{className:"text-black text-base",style:{letterSpacing:"-0.05em"},children:"PHOTOBOOK"}),v.jsx("span",{className:"text-cyan-200 text-base",style:{letterSpacing:"-0.05em",marginTop:"-0.25rem"},children:"VIETNAM"})]})]}),Au=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),yg=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),f0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 4.5h13.5M12 4.5v15m-3.75 0h7.5"})}),h0=({className:i="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h4.5a3 3 0 013 3v4.5a3 3 0 01-3 3h-4.5V6.75z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 12h4.5"})]}),m0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l-4.5 15"})}),g0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})}),p0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-12.75 5.25h9"})}),y0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),v0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 8.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 018.25 20.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})}),T0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),b0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),S0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A11.953 11.953 0 0112 16.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12a8.959 8.959 0 01-2.284 5.253"})}),Yh=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})}),Fh=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})}),x0=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})}),Jh=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l6-6m0 0l-6-6m6 6H9a6 6 0 000 12h3"})}),Pt=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),E0=({className:i="w-5 h-5"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})}),C0=({className:i="w-3 h-3"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),w0=({className:i="w-5 h-5"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),A0=({className:i="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 7.5v6m3-3h-6",strokeWidth:2})]}),Bi=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),ns=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.5 21.75l-.398-1.178a3.375 3.375 0 00-2.456-2.456L12.5 17.25l1.178-.398a3.375 3.375 0 002.456-2.456L16.5 13.5l.398 1.178a3.375 3.375 0 002.456 2.456L20.5 17.25l-1.178.398a3.375 3.375 0 00-2.456 2.456z"})}),Pu=({className:i="w-4 h-4"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-11.667 0a8.25 8.25 0 0111.667 0l3.181 3.183m0 0V19.645m0-4.992a8.25 8.25 0 01-11.667 0M2.985 19.644l3.181-3.182m0 0l-3.181 3.182m0 0l3.181-3.182"})}),jh=({className:i="w-4 h-4"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[v.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),v.jsx("path",{d:"M12 21a9 9 0 1 1 0 -18a9 8 0 0 1 9 8a4.5 4 0 0 1 -4.5 4h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25"}),v.jsx("circle",{cx:"7.5",cy:"10.5",r:".5",fill:"currentColor"}),v.jsx("circle",{cx:"12",cy:"7.5",r:".5",fill:"currentColor"}),v.jsx("circle",{cx:"16.5",cy:"10.5",r:".5",fill:"currentColor"})]}),_0=({className:i="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:i,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Cu={en:{welcomeTitle:"Album Builder",welcomeSubtitle:"please choose album size to start",or:"or",loadExistingProject:"Load an Existing Project",albumSize:"Album size",pagesOverview:"Pages overview",totalPages:"TOTAL PAGES",totalImages:"TOTAL IMAGES",submitProject:"Submit Project",submitProjectMobile:"Submit",langEN:"English",langVN:"Ting Vit",toggleOverviewTitle:"Toggle Page Overview",changeLanguageTitle:"Change language",myProjects:"My Projects",addSpread:"Add Spread (2 Pages)",pagesLabel:"Pages {start}-{end}",dropPhotoHere:"Drop Photo Here",changeLayout:"Change Layout",addText:"Add Text",addOverlayImage:"Add Image Overlay",addSticker:"Add Sticker",dropImagesToUpload:"Drop images to upload",libraryEmptyTitle:"Your library is empty",libraryEmptySubtitle:"Drag & drop photos here, or use the 'Add Photos' button.",designForMe:"AUTO DESIGN",designForMeMobile:"DESIGN FOR ME",designRandom:"RANDOM DESIGN",clear:"CLEAR",addPhotos:"+ ADD PHOTOS",removeImageTitle:"Remove image",chooseLayout:"Choose a Layout",designForMeTitle:'"Design For Me" - Choose an Album Theme',designForMeSubtitle:"Select one layout to apply to all pages.",selectAlbumSize:"Select Album Size",chooseTextStyle:"Choose a Text Style",chooseSticker:"Choose a Sticker",chooseBackground:"Choose a Background",randomDesignTitle:"Configure Random Design",randomDesignSubtitle:"Select which layouts to include in the randomization.",designOptionsTitle:"Design Options",selectAll:"Select All",selectNone:"Deselect All",cancel:"Cancel",confirmRandomization:"Randomize with {count} Layouts",chooseEffect:"Choose an Effect",projectManagerTitle:"Project Manager",saveAsNewProject:"Save As New Project",projectNamePlaceholder:"Enter project name...",save:"Save",saving:"Saving...",load:"Load",delete:"Delete",noSavedProjects:"No saved projects yet.",confirmDelete:"Are you sure?",newProject:"New Project",confirmNewProject:"Are you sure you want to start a new project? Any unsaved changes will be lost.",currentProject:"Current Project",submissionTitle:"Submit Your Project",submissionFormTitle:"Your Order Details",submissionOrderDetailsMessage:"Please provide your contact information so we can process your order.",fullNameLabel:"Full Name",phoneLabel:"Mobile Phone",emailLabel:"Email (Optional)",addressLabel:"Shipping Address (Optional)",validationFullNameRequired:"Full name is required.",validationPhoneRequired:"Mobile phone is required.",submissionButton:"Submit Project to Production",submissionPreparing:"Generating print-ready files...",submissionUploading:"Uploading...",submissionSuccessTitle:"Project Submitted Successfully!",submissionSuccessMessage:"Your project has been sent to production. We will contact you shortly.",submissionErrorTitle:"Upload Failed",submissionErrorMessage:"An error occurred while submitting your project. Please check your internet connection and try again.",submissionErrorAutoSaveFailed:"Auto-save failed before submission. Please try saving manually from the Project Manager.",submissionErrorNoImages:"Cannot submit a project with no images. Please add photos to your library first.",submissionErrorNoPlacedImages:"Cannot submit a project with no photos placed in the album. Please drag your photos from the library onto the pages first.",submissionWaitMessage:"Please keep this window open. High-resolution rendering may take several minutes for large albums.",retry:"Retry",close:"Close",zoom:"Zoom:",rotateLeftTitle:"Rotate Left",rotateRightTitle:"Rotate Right",flipHorizontalTitle:"Flip Horizontal",flipVerticalTitle:"Flip Vertical",doubleClickToEdit:"Double click to edit photo",doubleTapToEdit:"Tap twice to edit photo",back:"Back",aiRetouch:"AI Retouch",skinRetouch:"Skin Retouch",blurBackground:"Blur Background",aiRetouching:"AI is retouching...",replaceBackground:"Replace Background",editPhoto:"Edit photo",downloadImage:"Download image",downloadError:"Could not download the image.",effects:"Effects",colorGrading:"Color Grading",filterNone:"None",filterVintage:"Vintage",filterLomo:"Lomo",filterClarendon:"Clarendon",filterGingham:"Gingham",filterMoon:"Moon",filterNashville:"Nashville",filterXpro2:"X-Pro II",filterWillow:"Willow",removeTextTitle:"Remove text",removeStickerTitle:"Remove sticker",rotateStickerTitle:"Rotate sticker",mobileDragHint:"Touch and hold to move the photo.",aiStoryTitle:"AI Generated Story",aiStoryGenerating:"Generating your story...",copied:"Copied!",copyToClipboard:"Copy to Clipboard"},vn:{welcomeTitle:"App Thit K Album",welcomeSubtitle:"Vui lng chn kch thc album",or:"hoc",loadExistingProject:"M mt d n c sn",albumSize:"Kch thc album",pagesOverview:"Xem tt c trang",totalPages:"S TRANG",totalImages:"TNG S NH",submitProject:"Hon tt & t hng",submitProjectMobile:"Gi in",langEN:"English",langVN:"Ting Vit",toggleOverviewTitle:"Chuyn i ch  xem tng quan",changeLanguageTitle:"Thay i ngn ng",myProjects:"D n",addSpread:"Thm trang i",pagesLabel:"Trang {start}-{end}",dropPhotoHere:"Th nh vo y",changeLayout:"Thay i b cc",addText:"Thm ch",addOverlayImage:"Thm nh ni",addSticker:"Thm nhn dn",dropImagesToUpload:"Th nh  ti ln",libraryEmptyTitle:"Th vin ca bn trng",libraryEmptySubtitle:"Ko v th nh vo y, hoc s dng nt 'Thm nh'.",designForMe:"Dn trang t ng",designForMeMobile:"Thit k nhanh",designRandom:"Dn trang ngu nhin",clear:"XA HT",addPhotos:"+ THM NH",removeImageTitle:"Xa nh",chooseLayout:"Chn mt b cc",designForMeTitle:"Chn 1 layout cho tt c trang",designForMeSubtitle:"Chn mt b cc  p dng cho tt c cc trang.",selectAlbumSize:"Chn kch thc Album",chooseTextStyle:"Chn mt kiu ch",chooseSticker:"Chn mt nhn dn",chooseBackground:"Chn mt nh nn",randomDesignTitle:"Cu hnh Thit k Ngu nhin",randomDesignSubtitle:"Chn cc b cc bn mun s dng  to ngu nhin.",designOptionsTitle:"Ty chn Thit k",selectAll:"Chn tt c",selectNone:"B chn tt c",cancel:"Hy",confirmRandomization:"To ngu nhin vi {count} b cc",chooseEffect:"Chn mt hiu ng",projectManagerTitle:"Qun l d n",saveAsNewProject:"Lu thnh d n mi",projectNamePlaceholder:"Nhp tn d n...",save:"Lu",saving:"ang lu...",load:"Ti",delete:"Xa",noSavedProjects:"Cha c d n no c lu.",confirmDelete:"Bn chc ch?",newProject:"D n mi",confirmNewProject:"Bn c chc chn mun bt u mt d n mi khng? Mi thay i cha c lu s b mt.",currentProject:"D n hin ti",submissionTitle:"Gi n hng ca bn",submissionFormTitle:"Thng tin n hng ca bn",submissionOrderDetailsMessage:"Vui lng cung cp thng tin lin h ca bn  chng ti c th x l n hng.",fullNameLabel:"H v Tn",phoneLabel:"S in Thoi",emailLabel:"Email (Khng bt buc)",addressLabel:"a ch giao hng (Khng bt buc)",validationFullNameRequired:"Vui lng nhp h v tn.",validationPhoneRequired:"Vui lng nhp s in thoi.",submissionButton:"Xc nhn t hng",submissionPreparing:"ang to cc file sn sng  in...",submissionUploading:"ang ti ln...",submissionSuccessTitle:"Gi n hng thnh cng!",submissionSuccessMessage:"Album ca bn  c gi i sn xut. Chng ti s lin h vi bn sm.",submissionErrorTitle:"Ti ln tht bi",submissionErrorMessage:" xy ra li khi gi d n ca bn. Vui lng kim tra kt ni internet v th li.",submissionErrorAutoSaveFailed:"T ng lu khng thnh cng trc khi gi. Vui lng th lu th cng t Trnh qun l d n.",submissionErrorNoImages:"Khng th gi d n khng c nh. Vui lng thm nh vo th vin trc.",submissionErrorNoPlacedImages:"Khng th gi d n khng c nh no c t trong album. Vui lng ko nh t th vin vo cc trang trc.",submissionWaitMessage:"Vui lng gi ca s ny m. Vic kt xut   phn gii cao c th mt vi pht i vi cc album ln.",retry:"Th li",close:"ng",zoom:"Thu phng:",rotateLeftTitle:"Xoay tri",rotateRightTitle:"Xoay phi",flipHorizontalTitle:"Lt ngang",flipVerticalTitle:"Lt dc",doubleClickToEdit:"Nhp p  sa nh",doubleTapToEdit:"Chm hai ln  sa nh",back:"Quay li",aiRetouch:"Chnh sa AI",skinRetouch:"Lm mn da",blurBackground:"Lm m nn",aiRetouching:"AI ang chnh sa...",replaceBackground:"Thay nn",editPhoto:"Sa nh",downloadImage:"Ti nh xung",downloadError:"Khng th ti nh xung.",effects:"Hiu ng",colorGrading:"Chnh mu",filterNone:"Gc",filterVintage:"C in",filterLomo:"Lomo",filterClarendon:"Clarendon",filterGingham:"Gingham",filterMoon:"Trng en",filterNashville:"Nashville",filterXpro2:"X-Pro II",filterWillow:"Willow",removeTextTitle:"Xa ch",removeStickerTitle:"Xa nhn dn",rotateStickerTitle:"Xoay nhn dn",mobileDragHint:"Chm v gi  di chuyn nh.",aiStoryTitle:"Cu chuyn do AI to",aiStoryGenerating:"ang to cu chuyn ca bn...",copied:" sao chp!",copyToClipboard:"Sao chp"}},vg=Z.createContext(void 0),dt=()=>{const i=Z.useContext(vg);if(!i)throw new Error("useI18n must be used within an I18nProvider");return i},N0=({children:i})=>{const[n,o]=Z.useState("vn"),u={language:n,setLanguage:o,t:(f,m)=>{let y=(Cu[n]||Cu.en)[f]||Cu.en[f]||f;return m&&Object.keys(m).forEach(g=>{const T=new RegExp(`\\{${g}\\}`,"g");y=y.replace(T,String(m[g]))}),y}};return v.jsx(vg.Provider,{value:u,children:i})},M0=({totalPages:i,isOverviewMode:n,onSubmitProject:o,onToggleOverview:s,onDesignForMe:u,onDesignRandom:f,isDesignDisabled:m,onOpenProjectManager:p,isMobile:y,onOpenMobileDesignPicker:g})=>{const[T,S]=Z.useState(!1),[x,N]=Z.useState(!1),L=Z.useRef(null),z=Z.useRef(null),{language:W,setLanguage:q,t:k}=dt();return Z.useEffect(()=>{const F=ne=>{L.current&&!L.current.contains(ne.target)&&S(!1),z.current&&!z.current.contains(ne.target)&&N(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),v.jsxs("header",{className:"flex items-stretch shadow-sm border-b border-gray-300",children:[v.jsxs("div",{className:"bg-cyan-500 flex-shrink-0 flex items-center space-x-2 px-2 md:px-4 py-2",children:[v.jsxs("div",{className:"relative md:hidden",ref:z,children:[v.jsx("button",{onClick:()=>N(F=>!F),className:"p-2 rounded-lg text-black hover:bg-cyan-600/50","aria-label":"Open menu","aria-haspopup":"true","aria-expanded":x,children:v.jsx(_0,{className:"w-6 h-6"})}),x&&v.jsx("div",{className:"absolute top-full left-0 mt-2 w-64 bg-gray-700 rounded-md shadow-lg z-50 border border-gray-600 text-gray-200",role:"menu",children:v.jsxs("div",{className:"p-2 space-y-1",children:[v.jsxs("button",{onClick:()=>{p(),N(!1)},className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-600",role:"menuitem",children:[v.jsx(Au,{className:"w-5 h-5 text-gray-300"}),v.jsx("span",{children:k("myProjects")})]}),v.jsxs("button",{onClick:()=>{f(),N(!1)},disabled:m,className:"w-full text-left flex items-center space-x-3 px-3 py-2 rounded-md hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",role:"menuitem",children:[v.jsx(Pu,{className:"w-5 h-5 text-green-400"}),v.jsx("span",{children:k("designRandom")})]}),v.jsx("div",{className:"border-t border-gray-600 my-1 !mx-2"}),v.jsx("div",{className:"px-3 pt-2 pb-1 text-xs text-gray-400 font-semibold uppercase",children:k("changeLanguageTitle")}),v.jsxs("button",{onClick:()=>{q("en"),N(!1)},className:`w-full text-left flex items-center justify-between px-3 py-2 rounded-md hover:bg-gray-600 ${W==="en"?"font-bold":""}`,role:"menuitem",children:[v.jsx("span",{children:k("langEN")}),W==="en"&&v.jsx(Bi,{className:"w-4 h-4 text-blue-400"})]}),v.jsxs("button",{onClick:()=>{q("vn"),N(!1)},className:`w-full text-left flex items-center justify-between px-3 py-2 rounded-md hover:bg-gray-600 ${W==="vn"?"font-bold":""}`,role:"menuitem",children:[v.jsx("span",{children:k("langVN")}),W==="vn"&&v.jsx(Bi,{className:"w-4 h-4 text-blue-400"})]})]})})]}),v.jsx(pg,{})]}),v.jsxs("div",{className:"bg-gray-800 flex-grow flex items-center justify-between px-2 md:px-4 py-2",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs("button",{onClick:p,className:"hidden md:flex items-center space-x-2 px-4 py-2 rounded-lg bg-gray-700 text-gray-200 hover:bg-gray-600 transition-colors",title:k("myProjects"),children:[v.jsx(Au,{className:"w-5 h-5"}),v.jsx("span",{className:"text-sm font-semibold",children:k("myProjects")})]}),v.jsx("div",{className:"h-6 border-l border-gray-600 hidden md:block"}),v.jsx("button",{onClick:y?g:u,disabled:m,className:"px-4 py-2 rounded-lg bg-gray-700 text-gray-200 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-semibold transition-colors",title:k(y?"designForMeMobile":"designForMe"),children:k(y?"designForMeMobile":"designForMe")}),v.jsx("button",{onClick:f,disabled:m,className:"hidden md:block px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 text-sm disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:k("designRandom")})]}),v.jsxs("div",{className:"flex items-center space-x-2 md:space-x-6",children:[v.jsxs("button",{onClick:s,className:`hidden md:flex items-center space-x-2 px-3 md:px-4 py-2 rounded-lg transition-colors ${n?"bg-red-500 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,title:k("toggleOverviewTitle"),children:[v.jsx(T0,{className:"w-5 h-5"}),v.jsx("span",{className:"hidden md:inline text-sm font-semibold",children:k("pagesOverview")})]}),v.jsxs("div",{className:"relative hidden md:block",ref:L,children:[v.jsxs("button",{onClick:()=>S(F=>!F),className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-gray-700 text-gray-200 hover:bg-gray-600 transition-colors",title:k("changeLanguageTitle"),children:[v.jsx(S0,{className:"w-5 h-5"}),v.jsx("span",{className:"text-sm font-semibold",children:k(`lang${W.toUpperCase()}`)})]}),T&&v.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 border border-gray-200",children:[v.jsxs("button",{onClick:()=>{q("en"),S(!1)},className:`w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between ${W==="en"?"font-bold":""}`,children:[v.jsx("span",{children:k("langEN")}),W==="en"&&v.jsx(Bi,{className:"w-4 h-4 text-blue-500"})]}),v.jsxs("button",{onClick:()=>{q("vn"),S(!1)},className:`w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between ${W==="vn"?"font-bold":""}`,children:[v.jsx("span",{children:k("langVN")}),W==="vn"&&v.jsx(Bi,{className:"w-4 h-4 text-blue-500"})]})]})]}),v.jsx("div",{className:"h-6 border-l border-gray-600 hidden md:block"}),v.jsx("div",{className:"text-right text-xs hidden md:block",children:v.jsxs("p",{className:"text-gray-400",children:[k("totalPages")," ",v.jsx("span",{className:"font-bold text-white",children:i})]})}),v.jsx("div",{className:"flex items-center",children:v.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white font-semibold rounded-md shadow hover:bg-blue-600 text-sm transition-colors",children:[v.jsx(yg,{className:"w-5 h-5"}),v.jsx("span",{className:"hidden md:inline",children:k("submitProject")}),v.jsx("span",{className:"md:hidden",children:k("submitProjectMobile")})]})})]})]})]})},Ho={"single-full":{id:"single-full",name:"Full Bleed Single Image",name_vn:"Mt nh trn l",gridTemplateColumns:"1fr",gridTemplateRows:"1fr",gap:"0",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"}]},"two-equal-vertical-split":{id:"two-equal-vertical-split",name:"Two Equal Vertical (Spread)",name_vn:"Hai nh dc bng nhau (Trang i)",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr",gap:"0.125rem",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"feature-left":{id:"feature-left",name:"Feature Left",name_vn:"Ni bt bn tri",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"}]},"feature-right":{id:"feature-right",name:"Feature Right",name_vn:"Ni bt bn phi",gridTemplateColumns:"1fr 2fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 2 / 3 / 3"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"}]},"four-square":{id:"four-square",name:"Four Square",name_vn:"Bn  vung",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"},{id:"slot-4",gridArea:"2 / 2 / 3 / 3"}]},"panorama-top-split":{id:"panorama-top-split",name:"Panorama Top Split",name_vn:"Panorama trn",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"2fr 1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 3"},{id:"slot-2",gridArea:"2 / 1 / 4 / 2"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"},{id:"slot-4",gridArea:"3 / 2 / 4 / 3"}],hideOnMobile:!0},"offset-grid":{id:"offset-grid",name:"Offset Grid",name_vn:"Li lch",gridTemplateColumns:"repeat(5, 1fr)",gridTemplateRows:"repeat(4, 1fr)",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 4"},{id:"slot-2",gridArea:"1 / 4 / 3 / 6"},{id:"slot-3",gridArea:"3 / 1 / 5 / 3"},{id:"slot-4",gridArea:"3 / 3 / 5 / 6"}]},"vertical-stack-right":{id:"vertical-stack-right",name:"Vertical Stack Right",name_vn:"Chng dc bn phi",gridTemplateColumns:"3fr 2fr",gridTemplateRows:"1fr 1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 4 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"},{id:"slot-4",gridArea:"3 / 2 / 4 / 3"}],hideOnMobile:!0},"five-photo-story":{id:"five-photo-story",name:"Five Photo Story",name_vn:"Cu chuyn nm nh",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridTemplateRows:"2fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 5"},{id:"slot-2",gridArea:"2 / 1 / 3 / 2"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"},{id:"slot-4",gridArea:"2 / 3 / 3 / 4"},{id:"slot-5",gridArea:"2 / 4 / 3 / 5"}],hideOnMobile:!0},"left-triple-stack":{id:"left-triple-stack",name:"Left Triple Stack",name_vn:"Ba nh dc bn tri",gridTemplateColumns:"1fr 2fr",gridTemplateRows:"repeat(3, 1fr)",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 2 / 4 / 3"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"},{id:"slot-4",gridArea:"3 / 1 / 4 / 2"}],hideOnMobile:!0},"left-split-feature":{id:"left-split-feature",name:"Left Split Feature",name_vn:"Ni bt chia i tri",gridTemplateColumns:"1fr 2fr",gridTemplateRows:"2fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 2 / 3 / 3"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"2 / 1 / 3 / 2"}]},"offset-vertical-split":{id:"offset-vertical-split",name:"Offset Vertical Split",name_vn:"Chia dc lch",gridTemplateColumns:"2fr 3fr",gridTemplateRows:"1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"trio-left-tall":{id:"trio-left-tall",name:"Trio Left Tall",name_vn:"B ba dc tri",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"}]},"main-left-vertical":{id:"main-left-vertical",name:"Main Left Vertical",name_vn:"nh chnh dc tri",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"centered-horizontal-pair":{id:"centered-horizontal-pair",name:"Centered Horizontal Pair",name_vn:"Cp nh ngang gia",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 8fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"2 / 1 / 3 / 2"},{id:"slot-2",gridArea:"2 / 2 / 3 / 3"}]},"tall-with-two-sides":{id:"tall-with-two-sides",name:"Tall with Two Sides",name_vn:"Dc vi hai bn",gridTemplateColumns:"2fr 1fr 1fr",gridTemplateRows:"1fr 8fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 4 / 2"},{id:"slot-2",gridArea:"2 / 2 / 3 / 3"},{id:"slot-3",gridArea:"2 / 3 / 3 / 4"}]},"asymmetric-four":{id:"asymmetric-four",name:"Asymmetric Four",name_vn:"Bn nh bt i xng",gridTemplateColumns:"1fr 1fr 2fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 3 / 3 / 4"},{id:"slot-2",gridArea:"1 / 1 / 2 / 2"},{id:"slot-3",gridArea:"1 / 2 / 2 / 3"},{id:"slot-4",gridArea:"2 / 1 / 3 / 3"}]},"mosaic-story":{id:"mosaic-story",name:"Mosaic Story",name_vn:"Cu chuyn Mosaic",gridTemplateColumns:"repeat(4, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 3"},{id:"slot-2",gridArea:"1 / 3 / 2 / 5"},{id:"slot-3",gridArea:"2 / 1 / 4 / 3"},{id:"slot-4",gridArea:"2 / 3 / 3 / 5"},{id:"slot-5",gridArea:"3 / 3 / 4 / 5"}],hideOnMobile:!0},"feature-left-two-right-stack":{id:"feature-left-two-right-stack",name:"Feature Left, Two Right Stack",name_vn:"Tri ni bt, hai nh dc phi",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"},{id:"slot-3",gridArea:"2 / 2 / 3 / 3"}]},"dominant-left-portrait":{id:"dominant-left-portrait",name:"Dominant Left, Portrait Right",name_vn:"Tri chnh, phi ph",gridTemplateColumns:"3fr 2fr",gridTemplateRows:"1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 2 / 2"},{id:"slot-2",gridArea:"1 / 2 / 2 / 3"}]},"feature-left-mosaic-right":{id:"feature-left-mosaic-right",name:"Feature Left, Mosaic Right",name_vn:"Tri chnh, phi mosaic",gridTemplateColumns:"1fr 1fr 1fr 1fr",gridTemplateRows:"1fr 1fr",gap:"8px",slots:[{id:"slot-1",gridArea:"1 / 1 / 3 / 3"},{id:"slot-2",gridArea:"1 / 3 / 2 / 4"},{id:"slot-3",gridArea:"1 / 4 / 2 / 5"},{id:"slot-4",gridArea:"2 / 3 / 3 / 4"},{id:"slot-5",gridArea:"2 / 4 / 3 / 5"}]}},Il=Object.values(Ho),R0=({isMobile:i,onSelectLayout:n,onClose:o})=>{const{language:s,t:u}=dt(),f=i?Il.filter(m=>!m.hideOnMobile):Il;return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:u("chooseLayout")}),v.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map(m=>v.jsxs("div",{className:"cursor-pointer group",onClick:()=>n(m.id),children:[v.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200 rounded-md aspect-[2/1] p-1 grid",style:{gridTemplateColumns:m.gridTemplateColumns,gridTemplateRows:m.gridTemplateRows,gap:"4px"},children:m.slots.map(p=>v.jsx("div",{className:"bg-gray-300 rounded-sm",style:{gridArea:p.gridArea}},p.id))}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:s==="vn"?m.name_vn:m.name})]},m.id))})})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let D0,I0;function k0(){return{geminiUrl:D0,vertexUrl:I0}}function U0(i,n,o,s){var u,f;if(!(i!=null&&i.baseUrl)){const m=k0();return n?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(f=m.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yi{}function he(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(s,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const f=n[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function d(i,n,o){for(let f=0;f<n.length-1;f++){const m=n[f];if(m.endsWith("[]")){const p=m.slice(0,-2);if(!(p in i))if(Array.isArray(o))i[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[p])){const y=i[p];if(Array.isArray(o))for(let g=0;g<y.length;g++){const T=y[g];d(T,n.slice(f+1),o[g])}else for(const g of y)d(g,n.slice(f+1),o)}return}else if(m.endsWith("[0]")){const p=m.slice(0,-3);p in i||(i[p]=[{}]);const y=i[p];d(y[0],n.slice(f+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const s=n[n.length-1],u=i[s];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function r(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return o;const u=n[s];if(u.endsWith("[]")){const f=u.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(p=>r(p,n.slice(s+1),o)):o}else return o}else i=i[u]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function L0(i,n){for(const[o,s]of Object.entries(n)){const u=o.split("."),f=s.split("."),m=new Set;let p=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){p=y;break}if(p!==-1&&f.length>p)for(let y=p;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&m.add(g)}_u(i,u,f,0,m)}}function _u(i,n,o,s,u){if(s>=n.length||typeof i!="object"||i===null)return;const f=n[s];if(f.endsWith("[]")){const m=f.slice(0,-2),p=i;if(m in p&&Array.isArray(p[m]))for(const y of p[m])_u(y,n,o,s+1,u)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,p=Object.keys(m).filter(g=>!g.startsWith("_")&&!u.has(g)),y={};for(const g of p)y[g]=m[g];for(const[g,T]of Object.entries(y)){const S=[];for(const x of o.slice(s))x==="*"?S.push(g):S.push(x);d(m,S,T)}for(const g of p)delete m[g]}}else{const m=i;f in m&&_u(m[f],n,o,s+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z0(i){const n={},o=r(i,["operationName"]);o!=null&&d(n,["operationName"],o);const s=r(i,["resourceName"]);return s!=null&&d(n,["_url","resourceName"],s),n}function P0(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["metadata"]);s!=null&&d(n,["metadata"],s);const u=r(i,["done"]);u!=null&&d(n,["done"],u);const f=r(i,["error"]);f!=null&&d(n,["error"],f);const m=r(i,["response","generateVideoResponse"]);return m!=null&&d(n,["response"],q0(m)),n}function H0(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["metadata"]);s!=null&&d(n,["metadata"],s);const u=r(i,["done"]);u!=null&&d(n,["done"],u);const f=r(i,["error"]);f!=null&&d(n,["error"],f);const m=r(i,["response"]);return m!=null&&d(n,["response"],G0(m)),n}function q0(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>V0(m))),d(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function G0(i){const n={},o=r(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>B0(m))),d(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function V0(i){const n={},o=r(i,["video"]);return o!=null&&d(n,["video"],F0(o)),n}function B0(i){const n={},o=r(i,["_self"]);return o!=null&&d(n,["video"],J0(o)),n}function O0(i){const n={},o=r(i,["operationName"]);return o!=null&&d(n,["_url","operationName"],o),n}function Y0(i){const n={},o=r(i,["operationName"]);return o!=null&&d(n,["_url","operationName"],o),n}function F0(i){const n={},o=r(i,["uri"]);o!=null&&d(n,["uri"],o);const s=r(i,["encodedVideo"]);s!=null&&d(n,["videoBytes"],Hu(s));const u=r(i,["encoding"]);return u!=null&&d(n,["mimeType"],u),n}function J0(i){const n={},o=r(i,["gcsUri"]);o!=null&&d(n,["uri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&d(n,["videoBytes"],Hu(s));const u=r(i,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xh;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Xh||(Xh={}));var Kh;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Kh||(Kh={}));var Qh;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Qh||(Qh={}));var yi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(yi||(yi={}));var Zh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Zh||(Zh={}));var Wh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Wh||(Wh={}));var $h;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})($h||($h={}));var em;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(em||(em={}));var tm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(tm||(tm={}));var nm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nm||(nm={}));var im;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(im||(im={}));var lm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(lm||(lm={}));var om;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(om||(om={}));var am;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(am||(am={}));var sm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(sm||(sm={}));var rm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rm||(rm={}));var kl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(kl||(kl={}));var um;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(um||(um={}));var Nu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nu||(Nu={}));var cm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(cm||(cm={}));var dm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dm||(dm={}));var fm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V"})(fm||(fm={}));var hm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(hm||(hm={}));var mm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(mm||(mm={}));var gm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(gm||(gm={}));var pm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pm||(pm={}));var ym;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(ym||(ym={}));var vm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(vm||(vm={}));var Tm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Tm||(Tm={}));var bm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(bm||(bm={}));var Sm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sm||(Sm={}));var xm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xm||(xm={}));var Em;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Em||(Em={}));var Cm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Cm||(Cm={}));var wm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(wm||(wm={}));var Am;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Am||(Am={}));var _m;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(_m||(_m={}));var Nm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Nm||(Nm={}));var Mm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Mm||(Mm={}));var Rm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Rm||(Rm={}));var Dm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Dm||(Dm={}));var Im;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Im||(Im={}));var km;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(km||(km={}));var Um;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Um||(Um={}));var Lm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Lm||(Lm={}));var zm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zm||(zm={}));var Pm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pm||(Pm={}));var Hm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Hm||(Hm={}));var Nl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Nl||(Nl={}));class Mu{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class zo{get text(){var n,o,s,u,f,m,p,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",T=!1;const S=[];for(const x of(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[N,L]of Object.entries(x))N!=="text"&&N!=="thought"&&(L!==null||L!==void 0)&&S.push(N);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;T=!0,g+=x.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?g:void 0}get data(){var n,o,s,u,f,m,p,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const T=[];for(const S of(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[x,N]of Object.entries(S))x!=="inlineData"&&(N!==null||N!==void 0)&&T.push(x);S.inlineData&&typeof S.inlineData.data=="string"&&(g+=atob(S.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var n,o,s,u,f,m,p,y;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var n,o,s,u,f,m,p,y,g;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var n,o,s,u,f,m,p,y,g;if(((u=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(y=(p=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((T==null?void 0:T.length)!==0)return(g=T==null?void 0:T[0])===null||g===void 0?void 0:g.output}}class qm{}class Gm{}class j0{}class X0{}class K0{}class Q0{}class Vm{}class Bm{}class Om{}class Z0{}class is{_fromAPIResponse({apiResponse:n,isVertexAI:o}){const s=new is;let u;const f=n;return o?u=H0(f):u=P0(f),Object.assign(s,u),s}}class Ym{}class Fm{}class Jm{}class W0{}class $0{}class ev{}class jm{}class tv{get text(){var n,o,s;let u="",f=!1;const m=[];for(const p of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&m.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,u+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var n,o,s;let u="";const f=[];for(const m of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[p,y]of Object.entries(m))p!=="inlineData"&&y!==null&&f.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class nv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Tg(i,n){const o=Ge(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function bg(i){return Array.isArray(i)?i.map(n=>ls(n)):[ls(i)]}function ls(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Sg(i){const n=ls(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function xg(i){const n=ls(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Xm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Xm(n)):[Xm(i)]}function Ru(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Km(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Qm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Lt(i){if(i==null)throw new Error("ContentUnion is required");return Ru(i)?i:{role:"user",parts:Eg(i)}}function qu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=Lt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=Lt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>Lt(o)):[Lt(n)]}function dn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Km(i)||Qm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(i)]}const n=[],o=[],s=Ru(i[0]);for(const u of i){const f=Ru(u);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(u);else{if(Km(u)||Qm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return s||n.push({role:"user",parts:Eg(o)}),n}function iv(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(yi).includes(o[0].toUpperCase())?o[0].toUpperCase():yi.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(yi).includes(s.toUpperCase())?s.toUpperCase():yi.TYPE_UNSPECIFIED})}}function Ml(i){const n={},o=["items"],s=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,i=f[1]):f[1].type==="null"&&(n.nullable=!0,i=f[0])),i.type instanceof Array&&iv(i.type,n);for(const[m,p]of Object.entries(i))if(p!=null)if(m=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;n.type=Object.values(yi).includes(p.toUpperCase())?p.toUpperCase():yi.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=Ml(p);else if(s.includes(m)){const y=[];for(const g of p){if(g.type=="null"){n.nullable=!0;continue}y.push(Ml(g))}n[m]=y}else if(u.includes(m)){const y={};for(const[g,T]of Object.entries(p))y[g]=Ml(T);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=p}return n}function Gu(i){return Ml(i)}function Vu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Bu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ul(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Ml(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Ml(n.response));return i}function Ll(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function lv(i,n,o,s=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function On(i,n){if(typeof n!="string")throw new Error("name must be a string");return lv(i,n,"cachedContents")}function Cg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ti(i){return Hu(i)}function ov(i){return i!=null&&typeof i=="object"&&"name"in i}function av(i){return i!=null&&typeof i=="object"&&"video"in i}function sv(i){return i!=null&&typeof i=="object"&&"uri"in i}function wg(i){var n;let o;if(ov(i)&&(o=i.name),!(sv(i)&&(o=i.uri,o===void 0))&&!(av(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Ag(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function _g(i){for(const n of["models","tunedModels","publisherModels"])if(rv(i,n))return i[n];return[]}function rv(i,n){return i!==null&&typeof i=="object"&&n in i}function uv(i,n={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function cv(i,n={}){const o=[],s=new Set;for(const u of i){const f=u.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const m=uv(u,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function Ng(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function dv(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Mg(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let f=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function zl(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Rg(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fv(i){const n={},o=r(i,["responsesFile"]);o!=null&&d(n,["fileName"],o);const s=r(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>Ov(m))),d(n,["inlinedResponses"],f)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),d(n,["inlinedEmbedContentResponses"],f)}return n}function hv(i){const n={},o=r(i,["predictionsFormat"]);o!=null&&d(n,["format"],o);const s=r(i,["gcsDestination","outputUriPrefix"]);s!=null&&d(n,["gcsUri"],s);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&d(n,["bigqueryUri"],u),n}function mv(i){const n={},o=r(i,["format"]);o!=null&&d(n,["predictionsFormat"],o);const s=r(i,["gcsUri"]);s!=null&&d(n,["gcsDestination","outputUriPrefix"],s);const u=r(i,["bigqueryUri"]);if(u!=null&&d(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function es(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["metadata","displayName"]);s!=null&&d(n,["displayName"],s);const u=r(i,["metadata","state"]);u!=null&&d(n,["state"],Rg(u));const f=r(i,["metadata","createTime"]);f!=null&&d(n,["createTime"],f);const m=r(i,["metadata","endTime"]);m!=null&&d(n,["endTime"],m);const p=r(i,["metadata","updateTime"]);p!=null&&d(n,["updateTime"],p);const y=r(i,["metadata","model"]);y!=null&&d(n,["model"],y);const g=r(i,["metadata","output"]);return g!=null&&d(n,["dest"],fv(Mg(g))),n}function Du(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["displayName"]);s!=null&&d(n,["displayName"],s);const u=r(i,["state"]);u!=null&&d(n,["state"],Rg(u));const f=r(i,["error"]);f!=null&&d(n,["error"],f);const m=r(i,["createTime"]);m!=null&&d(n,["createTime"],m);const p=r(i,["startTime"]);p!=null&&d(n,["startTime"],p);const y=r(i,["endTime"]);y!=null&&d(n,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&d(n,["updateTime"],g);const T=r(i,["model"]);T!=null&&d(n,["model"],T);const S=r(i,["inputConfig"]);S!=null&&d(n,["src"],gv(S));const x=r(i,["outputConfig"]);return x!=null&&d(n,["dest"],hv(Mg(x))),n}function gv(i){const n={},o=r(i,["instancesFormat"]);o!=null&&d(n,["format"],o);const s=r(i,["gcsSource","uris"]);s!=null&&d(n,["gcsUri"],s);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&d(n,["bigqueryUri"],u),n}function pv(i,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=r(n,["fileName"]);s!=null&&d(o,["fileName"],s);const u=r(n,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Bv(i,m))),d(o,["requests","requests"],f)}return o}function yv(i){const n={},o=r(i,["format"]);o!=null&&d(n,["instancesFormat"],o);const s=r(i,["gcsUri"]);s!=null&&d(n,["gcsSource","uris"],s);const u=r(i,["bigqueryUri"]);if(u!=null&&d(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function vv(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&d(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Tv(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],zl(i,s)),o}function bv(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],zl(i,s)),o}function Sv(i){const n={},o=r(i,["content"]);o!=null&&d(n,["content"],o);const s=r(i,["citationMetadata"]);s!=null&&d(n,["citationMetadata"],xv(s));const u=r(i,["tokenCount"]);u!=null&&d(n,["tokenCount"],u);const f=r(i,["finishReason"]);f!=null&&d(n,["finishReason"],f);const m=r(i,["urlContextMetadata"]);m!=null&&d(n,["urlContextMetadata"],m);const p=r(i,["avgLogprobs"]);p!=null&&d(n,["avgLogprobs"],p);const y=r(i,["groundingMetadata"]);y!=null&&d(n,["groundingMetadata"],y);const g=r(i,["index"]);g!=null&&d(n,["index"],g);const T=r(i,["logprobsResult"]);T!=null&&d(n,["logprobsResult"],T);const S=r(i,["safetyRatings"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(N=>N)),d(n,["safetyRatings"],x)}return n}function xv(i){const n={},o=r(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),d(n,["citations"],s)}return n}function Dg(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Qv(f))),d(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&d(n,["role"],s),n}function Ev(i,n){const o={},s=r(i,["displayName"]);if(n!==void 0&&s!=null&&d(n,["batch","displayName"],s),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Cv(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const u=r(i,["dest"]);return n!==void 0&&u!=null&&d(n,["outputConfig"],mv(dv(u))),o}function Zm(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["src"]);u!=null&&d(o,["batch","inputConfig"],pv(i,Ng(i,u)));const f=r(n,["config"]);return f!=null&&Ev(f,o),o}function wv(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["model"],Ge(i,s));const u=r(n,["src"]);u!=null&&d(o,["inputConfig"],yv(Ng(i,u)));const f=r(n,["config"]);return f!=null&&Cv(f,o),o}function Av(i,n){const o={},s=r(i,["displayName"]);return n!==void 0&&s!=null&&d(n,["batch","displayName"],s),o}function _v(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["src"]);u!=null&&d(o,["batch","inputConfig"],Uv(i,u));const f=r(n,["config"]);return f!=null&&Av(f,o),o}function Nv(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],zl(i,s)),o}function Mv(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],zl(i,s)),o}function Rv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&d(n,["name"],s);const u=r(i,["done"]);u!=null&&d(n,["done"],u);const f=r(i,["error"]);return f!=null&&d(n,["error"],f),n}function Dv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["name"]);s!=null&&d(n,["name"],s);const u=r(i,["done"]);u!=null&&d(n,["done"],u);const f=r(i,["error"]);return f!=null&&d(n,["error"],f),n}function Iv(i,n){const o={},s=r(n,["contents"]);if(s!=null){let f=qu(i,s);Array.isArray(f)&&(f=f.map(m=>m)),d(o,["requests[]","request","content"],f)}const u=r(n,["config"]);return u!=null&&(d(o,["_self"],kv(u,o)),L0(o,{"requests[].*":"requests[].request.*"})),o}function kv(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&d(n,["requests[]","taskType"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const f=r(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&d(n,["requests[]","outputDimensionality"],f),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Uv(i,n){const o={},s=r(n,["fileName"]);s!=null&&d(o,["file_name"],s);const u=r(n,["inlinedRequests"]);return u!=null&&d(o,["requests"],Iv(i,u)),o}function Lv(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function zv(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],Dg(Lt(u)));const f=r(n,["temperature"]);f!=null&&d(s,["temperature"],f);const m=r(n,["topP"]);m!=null&&d(s,["topP"],m);const p=r(n,["topK"]);p!=null&&d(s,["topK"],p);const y=r(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=r(n,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const T=r(n,["stopSequences"]);T!=null&&d(s,["stopSequences"],T);const S=r(n,["responseLogprobs"]);S!=null&&d(s,["responseLogprobs"],S);const x=r(n,["logprobs"]);x!=null&&d(s,["logprobs"],x);const N=r(n,["presencePenalty"]);N!=null&&d(s,["presencePenalty"],N);const L=r(n,["frequencyPenalty"]);L!=null&&d(s,["frequencyPenalty"],L);const z=r(n,["seed"]);z!=null&&d(s,["seed"],z);const W=r(n,["responseMimeType"]);W!=null&&d(s,["responseMimeType"],W);const q=r(n,["responseSchema"]);q!=null&&d(s,["responseSchema"],Gu(q));const k=r(n,["responseJsonSchema"]);if(k!=null&&d(s,["responseJsonSchema"],k),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=r(n,["safetySettings"]);if(o!==void 0&&F!=null){let de=F;Array.isArray(de)&&(de=de.map(Ee=>Zv(Ee))),d(o,["safetySettings"],de)}const ne=r(n,["tools"]);if(o!==void 0&&ne!=null){let de=Ll(ne);Array.isArray(de)&&(de=de.map(Ee=>Wv(Ul(Ee)))),d(o,["tools"],de)}const se=r(n,["toolConfig"]);if(o!==void 0&&se!=null&&d(o,["toolConfig"],se),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=r(n,["cachedContent"]);o!==void 0&&ee!=null&&d(o,["cachedContent"],On(i,ee));const O=r(n,["responseModalities"]);O!=null&&d(s,["responseModalities"],O);const K=r(n,["mediaResolution"]);K!=null&&d(s,["mediaResolution"],K);const G=r(n,["speechConfig"]);if(G!=null&&d(s,["speechConfig"],Vu(G)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=r(n,["thinkingConfig"]);oe!=null&&d(s,["thinkingConfig"],oe);const ie=r(n,["imageConfig"]);return ie!=null&&d(s,["imageConfig"],ie),s}function Pv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>Sv(g))),d(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&d(n,["modelVersion"],u);const f=r(i,["promptFeedback"]);f!=null&&d(n,["promptFeedback"],f);const m=r(i,["responseId"]);m!=null&&d(n,["responseId"],m);const p=r(i,["usageMetadata"]);return p!=null&&d(n,["usageMetadata"],p),n}function Hv(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],zl(i,s)),o}function qv(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],zl(i,s)),o}function Gv(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function Vv(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&d(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Bv(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["request","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let p=dn(u);Array.isArray(p)&&(p=p.map(y=>Dg(y))),d(o,["request","contents"],p)}const f=r(n,["metadata"]);f!=null&&d(o,["metadata"],f);const m=r(n,["config"]);return m!=null&&d(o,["request","generationConfig"],zv(i,m,r(o,["request"],{}))),o}function Ov(i){const n={},o=r(i,["response"]);o!=null&&d(n,["response"],Pv(o));const s=r(i,["error"]);return s!=null&&d(n,["error"],s),n}function Yv(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Fv(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&d(n,["_query","pageToken"],u);const f=r(i,["filter"]);return n!==void 0&&f!=null&&d(n,["_query","filter"],f),o}function Jv(i){const n={},o=r(i,["config"]);return o!=null&&Yv(o,n),n}function jv(i){const n={},o=r(i,["config"]);return o!=null&&Fv(o,n),n}function Xv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>es(m))),d(n,["batchJobs"],f)}return n}function Kv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Du(m))),d(n,["batchJobs"],f)}return n}function Qv(i){const n={},o=r(i,["videoMetadata"]);o!=null&&d(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&d(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&d(n,["inlineData"],vv(u));const f=r(i,["fileData"]);f!=null&&d(n,["fileData"],Lv(f));const m=r(i,["thoughtSignature"]);m!=null&&d(n,["thoughtSignature"],m);const p=r(i,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=r(i,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const g=r(i,["executableCode"]);g!=null&&d(n,["executableCode"],g);const T=r(i,["functionResponse"]);T!=null&&d(n,["functionResponse"],T);const S=r(i,["text"]);return S!=null&&d(n,["text"],S),n}function Zv(i){const n={};if(r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(i,["category"]);o!=null&&d(n,["category"],o);const s=r(i,["threshold"]);return s!=null&&d(n,["threshold"],s),n}function Wv(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(T=>T)),d(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&d(n,["googleSearch"],Vv(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&d(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],Gv(f));const m=r(i,["urlContext"]);m!=null&&d(n,["urlContext"],m);const p=r(i,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=r(i,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Oi;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Oi||(Oi={}));class qo{constructor(n,o,s,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,u)}init(n,o,s){var u,f;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $v extends Yi{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new qo(Oi.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Zm(this.apiClient,n),s=o._url,u=he("{model}:batchGenerateContent",s),p=o.batch.inputConfig.requests,y=p.requests,g=[];for(const T of y){const S=Object.assign({},T);if(S.systemInstruction){const x=S.systemInstruction;delete S.systemInstruction;const N=S.request;N.systemInstruction=x,S.request=N}g.push(S)}return p.requests=g,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},u=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${u}`),s.dest===void 0){const f=this.getGcsUri(n),m=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${u}`;else if(m)s.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=wv(this.apiClient,n);return p=he("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>Du(T))}else{const g=Zm(this.apiClient,n);return p=he("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>es(T))}}async createEmbeddingsInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_v(this.apiClient,n);return f=he("{model}:asyncBatchEmbedContent",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>es(y))}}async get(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=qv(this.apiClient,n);return p=he("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>Du(T))}else{const g=Hv(this.apiClient,n);return p=he("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>es(T))}}async cancel(n){var o,s,u,f;let m="",p={};if(this.apiClient.isVertexAI()){const y=bv(this.apiClient,n);m=he("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Tv(this.apiClient,n);m=he("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=jv(n);return p=he("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Kv(T),x=new jm;return Object.assign(x,S),x})}else{const g=Jv(n);return p=he("batches",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Xv(T),x=new jm;return Object.assign(x,S),x})}}async delete(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Mv(this.apiClient,n);return p=he("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>Dv(T))}else{const g=Nv(this.apiClient,n);return p=he("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>Rv(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&d(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Wm(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>ST(f))),d(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&d(n,["role"],s),n}function tT(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&d(n,["expireTime"],u);const f=r(i,["displayName"]);n!==void 0&&f!=null&&d(n,["displayName"],f);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let T=dn(m);Array.isArray(T)&&(T=T.map(S=>Wm(S))),d(n,["contents"],T)}const p=r(i,["systemInstruction"]);n!==void 0&&p!=null&&d(n,["systemInstruction"],Wm(Lt(p)));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>xT(S))),d(n,["tools"],T)}const g=r(i,["toolConfig"]);if(n!==void 0&&g!=null&&d(n,["toolConfig"],g),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function nT(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&d(n,["expireTime"],u);const f=r(i,["displayName"]);n!==void 0&&f!=null&&d(n,["displayName"],f);const m=r(i,["contents"]);if(n!==void 0&&m!=null){let S=dn(m);Array.isArray(S)&&(S=S.map(x=>x)),d(n,["contents"],S)}const p=r(i,["systemInstruction"]);n!==void 0&&p!=null&&d(n,["systemInstruction"],Lt(p));const y=r(i,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(x=>ET(x))),d(n,["tools"],S)}const g=r(i,["toolConfig"]);n!==void 0&&g!=null&&d(n,["toolConfig"],g);const T=r(i,["kmsKeyName"]);return n!==void 0&&T!=null&&d(n,["encryption_spec","kmsKeyName"],T),o}function iT(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["model"],Tg(i,s));const u=r(n,["config"]);return u!=null&&tT(u,o),o}function lT(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["model"],Tg(i,s));const u=r(n,["config"]);return u!=null&&nT(u,o),o}function oT(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],On(i,s)),o}function aT(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],On(i,s)),o}function sT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function rT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function uT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function cT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&d(n,["description"],o);const s=r(i,["name"]);s!=null&&d(n,["name"],s);const u=r(i,["parameters"]);u!=null&&d(n,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&d(n,["parametersJsonSchema"],f);const m=r(i,["response"]);m!=null&&d(n,["response"],m);const p=r(i,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function dT(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],On(i,s)),o}function fT(i,n){const o={},s=r(n,["name"]);return s!=null&&d(o,["_url","name"],On(i,s)),o}function hT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function mT(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&d(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function gT(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),o}function pT(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),o}function yT(i){const n={},o=r(i,["config"]);return o!=null&&gT(o,n),n}function vT(i){const n={},o=r(i,["config"]);return o!=null&&pT(o,n),n}function TT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),d(n,["cachedContents"],f)}return n}function bT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),d(n,["cachedContents"],f)}return n}function ST(i){const n={},o=r(i,["videoMetadata"]);o!=null&&d(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&d(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&d(n,["inlineData"],eT(u));const f=r(i,["fileData"]);f!=null&&d(n,["fileData"],uT(f));const m=r(i,["thoughtSignature"]);m!=null&&d(n,["thoughtSignature"],m);const p=r(i,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=r(i,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const g=r(i,["executableCode"]);g!=null&&d(n,["executableCode"],g);const T=r(i,["functionResponse"]);T!=null&&d(n,["functionResponse"],T);const S=r(i,["text"]);return S!=null&&d(n,["text"],S),n}function xT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(T=>T)),d(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&d(n,["googleSearch"],mT(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&d(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],hT(f));const m=r(i,["urlContext"]);m!=null&&d(n,["urlContext"],m);const p=r(i,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=r(i,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}function ET(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(x=>cT(x))),d(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&d(n,["retrieval"],s);const u=r(i,["googleSearch"]);u!=null&&d(n,["googleSearch"],u);const f=r(i,["googleSearchRetrieval"]);f!=null&&d(n,["googleSearchRetrieval"],f);const m=r(i,["enterpriseWebSearch"]);m!=null&&d(n,["enterpriseWebSearch"],m);const p=r(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],p);const y=r(i,["urlContext"]);y!=null&&d(n,["urlContext"],y);const g=r(i,["computerUse"]);g!=null&&d(n,["computerUse"],g);const T=r(i,["codeExecution"]);return T!=null&&d(n,["codeExecution"],T),n}function CT(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&d(n,["expireTime"],u),o}function wT(i,n){const o={},s=r(i,["ttl"]);n!==void 0&&s!=null&&d(n,["ttl"],s);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&d(n,["expireTime"],u),o}function AT(i,n){const o={},s=r(n,["name"]);s!=null&&d(o,["_url","name"],On(i,s));const u=r(n,["config"]);return u!=null&&CT(u,o),o}function _T(i,n){const o={},s=r(n,["name"]);s!=null&&d(o,["_url","name"],On(i,s));const u=r(n,["config"]);return u!=null&&wT(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NT extends Yi{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new qo(Oi.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=lT(this.apiClient,n);return p=he("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>T)}else{const g=iT(this.apiClient,n);return p=he("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>T)}}async get(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=fT(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>T)}else{const g=dT(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>T)}}async delete(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=aT(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=rT(T),x=new Fm;return Object.assign(x,S),x})}else{const g=oT(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=sT(T),x=new Fm;return Object.assign(x,S),x})}}async update(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=_T(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>T)}else{const g=AT(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>T)}}async listInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=vT(n);return p=he("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=bT(T),x=new Jm;return Object.assign(x,S),x})}else{const g=yT(n);return p=he("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=TT(T),x=new Jm;return Object.assign(x,S),x})}}}function $m(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ot(i){return this instanceof ot?(this.v=i,this):new ot(i)}function Rl(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,n||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(N){return function(L){return Promise.resolve(L).then(N,S)}}function p(N,L){s[N]&&(u[N]=function(z){return new Promise(function(W,q){f.push([N,z,W,q])>1||y(N,z)})},L&&(u[N]=L(u[N])))}function y(N,L){try{g(s[N](L))}catch(z){x(f[0][3],z)}}function g(N){N.value instanceof ot?Promise.resolve(N.value.v).then(T,S):x(f[0][2],N)}function T(N){y("next",N)}function S(N){y("throw",N)}function x(N,L){N(L),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Po(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof $m=="function"?$m(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(m){return new Promise(function(p,y){m=i[f](m),u(p,y,m.done,m.value)})}}function u(f,m,p,y){Promise.resolve(y).then(function(g){f({value:g,done:p})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MT(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Ig(o)}function Ig(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function RT(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function eg(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")n.push(i[s]),s++;else{const u=[];let f=!0;for(;s<o&&i[s].role==="model";)u.push(i[s]),f&&!Ig(i[s])&&(f=!1),s++;f?n.push(...u):n.pop()}return n}class DT{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new IT(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class IT{constructor(n,o,s,u={},f=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),RT(f)}async sendMessage(n){var o;await this.sendPromise;const s=Lt(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,p;const y=await u,g=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,T=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let x=[];T!=null&&(x=(p=T.slice(S))!==null&&p!==void 0?p:[]);const N=g?[g]:[];this.recordHistory(s,N,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const s=Lt(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,s)}getHistory(n=!1){const o=n?eg(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,u;return Rl(this,arguments,function*(){var m,p,y,g;const T=[];try{for(var S=!0,x=Po(n),N;N=yield ot(x.next()),m=N.done,!m;S=!0){g=N.value,S=!1;const L=g;if(MT(L)){const z=(u=(s=L.candidates)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.content;z!==void 0&&T.push(z)}yield yield ot(L)}}catch(L){p={error:L}}finally{try{!S&&!m&&(y=x.return)&&(yield ot(y.call(x)))}finally{if(p)throw p.error}}this.recordHistory(o,T)})}recordHistory(n,o,s){let u=[];o.length>0&&o.every(f=>f.role!==void 0)?u=o:u.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...eg(s)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class os extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,os.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kT(i){const n={},o=r(i,["file"]);return o!=null&&d(n,["file"],o),n}function UT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function LT(i){const n={},o=r(i,["name"]);return o!=null&&d(n,["_url","file"],wg(o)),n}function zT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function PT(i){const n={},o=r(i,["name"]);return o!=null&&d(n,["_url","file"],wg(o)),n}function HT(i,n){const o={},s=r(i,["pageSize"]);n!==void 0&&s!=null&&d(n,["_query","pageSize"],s);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&d(n,["_query","pageToken"],u),o}function qT(i){const n={},o=r(i,["config"]);return o!=null&&HT(o,n),n}function GT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),d(n,["files"],f)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VT extends Yi{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new qo(Oi.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=qT(n);return f=he("files",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const g=GT(y),T=new W0;return Object.assign(T,g),T})}}async createInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=kT(n);return f=he("upload/v1beta/files",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=UT(y),T=new $0;return Object.assign(T,g),T})}}async get(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=PT(n);return f=he("files/{file}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=LT(n);return f=he("files/{file}",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const g=zT(y),T=new ev;return Object.assign(T,g),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ts(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&d(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function BT(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>ib(f))),d(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&d(n,["role"],s),n}function OT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function YT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&d(n,["description"],o);const s=r(i,["name"]);s!=null&&d(n,["name"],s);const u=r(i,["parameters"]);u!=null&&d(n,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&d(n,["parametersJsonSchema"],f);const m=r(i,["response"]);m!=null&&d(n,["response"],m);const p=r(i,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function FT(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&d(n,["modelConfig"],o);const s=r(i,["audioTimestamp"]);s!=null&&d(n,["audioTimestamp"],s);const u=r(i,["candidateCount"]);u!=null&&d(n,["candidateCount"],u);const f=r(i,["enableAffectiveDialog"]);f!=null&&d(n,["enableAffectiveDialog"],f);const m=r(i,["frequencyPenalty"]);m!=null&&d(n,["frequencyPenalty"],m);const p=r(i,["logprobs"]);p!=null&&d(n,["logprobs"],p);const y=r(i,["maxOutputTokens"]);y!=null&&d(n,["maxOutputTokens"],y);const g=r(i,["mediaResolution"]);g!=null&&d(n,["mediaResolution"],g);const T=r(i,["presencePenalty"]);T!=null&&d(n,["presencePenalty"],T);const S=r(i,["responseJsonSchema"]);S!=null&&d(n,["responseJsonSchema"],S);const x=r(i,["responseLogprobs"]);x!=null&&d(n,["responseLogprobs"],x);const N=r(i,["responseMimeType"]);N!=null&&d(n,["responseMimeType"],N);const L=r(i,["responseModalities"]);L!=null&&d(n,["responseModalities"],L);const z=r(i,["responseSchema"]);z!=null&&d(n,["responseSchema"],z);const W=r(i,["routingConfig"]);W!=null&&d(n,["routingConfig"],W);const q=r(i,["seed"]);q!=null&&d(n,["seed"],q);const k=r(i,["speechConfig"]);k!=null&&d(n,["speechConfig"],kg(k));const F=r(i,["stopSequences"]);F!=null&&d(n,["stopSequences"],F);const ne=r(i,["temperature"]);ne!=null&&d(n,["temperature"],ne);const se=r(i,["thinkingConfig"]);se!=null&&d(n,["thinkingConfig"],se);const ee=r(i,["topK"]);ee!=null&&d(n,["topK"],ee);const O=r(i,["topP"]);if(O!=null&&d(n,["topP"],O),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function JT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function jT(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&d(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function XT(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],s);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","temperature"],f);const m=r(i,["topP"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","topP"],m);const p=r(i,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const T=r(i,["seed"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","seed"],T);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],Bu(S));const x=r(i,["thinkingConfig"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","thinkingConfig"],x);const N=r(i,["enableAffectiveDialog"]);n!==void 0&&N!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],N);const L=r(i,["systemInstruction"]);n!==void 0&&L!=null&&d(n,["setup","systemInstruction"],BT(Lt(L)));const z=r(i,["tools"]);if(n!==void 0&&z!=null){let ee=Ll(z);Array.isArray(ee)&&(ee=ee.map(O=>ob(Ul(O)))),d(n,["setup","tools"],ee)}const W=r(i,["sessionResumption"]);n!==void 0&&W!=null&&d(n,["setup","sessionResumption"],lb(W));const q=r(i,["inputAudioTranscription"]);n!==void 0&&q!=null&&d(n,["setup","inputAudioTranscription"],q);const k=r(i,["outputAudioTranscription"]);n!==void 0&&k!=null&&d(n,["setup","outputAudioTranscription"],k);const F=r(i,["realtimeInputConfig"]);n!==void 0&&F!=null&&d(n,["setup","realtimeInputConfig"],F);const ne=r(i,["contextWindowCompression"]);n!==void 0&&ne!=null&&d(n,["setup","contextWindowCompression"],ne);const se=r(i,["proactivity"]);return n!==void 0&&se!=null&&d(n,["setup","proactivity"],se),o}function KT(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],FT(s));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","temperature"],f);const m=r(i,["topP"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","topP"],m);const p=r(i,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const T=r(i,["seed"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","seed"],T);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],kg(Bu(S)));const x=r(i,["thinkingConfig"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","thinkingConfig"],x);const N=r(i,["enableAffectiveDialog"]);n!==void 0&&N!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],N);const L=r(i,["systemInstruction"]);n!==void 0&&L!=null&&d(n,["setup","systemInstruction"],Lt(L));const z=r(i,["tools"]);if(n!==void 0&&z!=null){let ee=Ll(z);Array.isArray(ee)&&(ee=ee.map(O=>ab(Ul(O)))),d(n,["setup","tools"],ee)}const W=r(i,["sessionResumption"]);n!==void 0&&W!=null&&d(n,["setup","sessionResumption"],W);const q=r(i,["inputAudioTranscription"]);n!==void 0&&q!=null&&d(n,["setup","inputAudioTranscription"],q);const k=r(i,["outputAudioTranscription"]);n!==void 0&&k!=null&&d(n,["setup","outputAudioTranscription"],k);const F=r(i,["realtimeInputConfig"]);n!==void 0&&F!=null&&d(n,["setup","realtimeInputConfig"],F);const ne=r(i,["contextWindowCompression"]);n!==void 0&&ne!=null&&d(n,["setup","contextWindowCompression"],ne);const se=r(i,["proactivity"]);return n!==void 0&&se!=null&&d(n,["setup","proactivity"],se),o}function QT(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["setup","model"],Ge(i,s));const u=r(n,["config"]);return u!=null&&d(o,["config"],XT(u,o)),o}function ZT(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["setup","model"],Ge(i,s));const u=r(n,["config"]);return u!=null&&d(o,["config"],KT(u,o)),o}function WT(i){const n={},o=r(i,["musicGenerationConfig"]);return o!=null&&d(n,["musicGenerationConfig"],o),n}function $T(i){const n={},o=r(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),d(n,["weightedPrompts"],s)}return n}function eb(i){const n={},o=r(i,["media"]);if(o!=null){let g=bg(o);Array.isArray(g)&&(g=g.map(T=>ts(T))),d(n,["mediaChunks"],g)}const s=r(i,["audio"]);s!=null&&d(n,["audio"],ts(xg(s)));const u=r(i,["audioStreamEnd"]);u!=null&&d(n,["audioStreamEnd"],u);const f=r(i,["video"]);f!=null&&d(n,["video"],ts(Sg(f)));const m=r(i,["text"]);m!=null&&d(n,["text"],m);const p=r(i,["activityStart"]);p!=null&&d(n,["activityStart"],p);const y=r(i,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function tb(i){const n={},o=r(i,["media"]);if(o!=null){let g=bg(o);Array.isArray(g)&&(g=g.map(T=>T)),d(n,["mediaChunks"],g)}const s=r(i,["audio"]);s!=null&&d(n,["audio"],xg(s));const u=r(i,["audioStreamEnd"]);u!=null&&d(n,["audioStreamEnd"],u);const f=r(i,["video"]);f!=null&&d(n,["video"],Sg(f));const m=r(i,["text"]);m!=null&&d(n,["text"],m);const p=r(i,["activityStart"]);p!=null&&d(n,["activityStart"],p);const y=r(i,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function nb(i){const n={},o=r(i,["setupComplete"]);o!=null&&d(n,["setupComplete"],o);const s=r(i,["serverContent"]);s!=null&&d(n,["serverContent"],s);const u=r(i,["toolCall"]);u!=null&&d(n,["toolCall"],u);const f=r(i,["toolCallCancellation"]);f!=null&&d(n,["toolCallCancellation"],f);const m=r(i,["usageMetadata"]);m!=null&&d(n,["usageMetadata"],sb(m));const p=r(i,["goAway"]);p!=null&&d(n,["goAway"],p);const y=r(i,["sessionResumptionUpdate"]);return y!=null&&d(n,["sessionResumptionUpdate"],y),n}function ib(i){const n={},o=r(i,["videoMetadata"]);o!=null&&d(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&d(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&d(n,["inlineData"],ts(u));const f=r(i,["fileData"]);f!=null&&d(n,["fileData"],OT(f));const m=r(i,["thoughtSignature"]);m!=null&&d(n,["thoughtSignature"],m);const p=r(i,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=r(i,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const g=r(i,["executableCode"]);g!=null&&d(n,["executableCode"],g);const T=r(i,["functionResponse"]);T!=null&&d(n,["functionResponse"],T);const S=r(i,["text"]);return S!=null&&d(n,["text"],S),n}function lb(i){const n={},o=r(i,["handle"]);if(o!=null&&d(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function kg(i){const n={},o=r(i,["voiceConfig"]);if(o!=null&&d(n,["voiceConfig"],o),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(i,["languageCode"]);return s!=null&&d(n,["languageCode"],s),n}function ob(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(T=>T)),d(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&d(n,["googleSearch"],jT(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&d(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],JT(f));const m=r(i,["urlContext"]);m!=null&&d(n,["urlContext"],m);const p=r(i,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=r(i,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}function ab(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(x=>YT(x))),d(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&d(n,["retrieval"],s);const u=r(i,["googleSearch"]);u!=null&&d(n,["googleSearch"],u);const f=r(i,["googleSearchRetrieval"]);f!=null&&d(n,["googleSearchRetrieval"],f);const m=r(i,["enterpriseWebSearch"]);m!=null&&d(n,["enterpriseWebSearch"],m);const p=r(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],p);const y=r(i,["urlContext"]);y!=null&&d(n,["urlContext"],y);const g=r(i,["computerUse"]);g!=null&&d(n,["computerUse"],g);const T=r(i,["codeExecution"]);return T!=null&&d(n,["codeExecution"],T),n}function sb(i){const n={},o=r(i,["promptTokenCount"]);o!=null&&d(n,["promptTokenCount"],o);const s=r(i,["cachedContentTokenCount"]);s!=null&&d(n,["cachedContentTokenCount"],s);const u=r(i,["candidatesTokenCount"]);u!=null&&d(n,["responseTokenCount"],u);const f=r(i,["toolUsePromptTokenCount"]);f!=null&&d(n,["toolUsePromptTokenCount"],f);const m=r(i,["thoughtsTokenCount"]);m!=null&&d(n,["thoughtsTokenCount"],m);const p=r(i,["totalTokenCount"]);p!=null&&d(n,["totalTokenCount"],p);const y=r(i,["promptTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(L=>L)),d(n,["promptTokensDetails"],N)}const g=r(i,["cacheTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(L=>L)),d(n,["cacheTokensDetails"],N)}const T=r(i,["candidatesTokensDetails"]);if(T!=null){let N=T;Array.isArray(N)&&(N=N.map(L=>L)),d(n,["responseTokensDetails"],N)}const S=r(i,["toolUsePromptTokensDetails"]);if(S!=null){let N=S;Array.isArray(N)&&(N=N.map(L=>L)),d(n,["toolUsePromptTokensDetails"],N)}const x=r(i,["trafficType"]);return x!=null&&d(n,["trafficType"],x),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&d(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function ub(i){const n={},o=r(i,["content"]);o!=null&&d(n,["content"],o);const s=r(i,["citationMetadata"]);s!=null&&d(n,["citationMetadata"],cb(s));const u=r(i,["tokenCount"]);u!=null&&d(n,["tokenCount"],u);const f=r(i,["finishReason"]);f!=null&&d(n,["finishReason"],f);const m=r(i,["urlContextMetadata"]);m!=null&&d(n,["urlContextMetadata"],m);const p=r(i,["avgLogprobs"]);p!=null&&d(n,["avgLogprobs"],p);const y=r(i,["groundingMetadata"]);y!=null&&d(n,["groundingMetadata"],y);const g=r(i,["index"]);g!=null&&d(n,["index"],g);const T=r(i,["logprobsResult"]);T!=null&&d(n,["logprobsResult"],T);const S=r(i,["safetyRatings"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(N=>N)),d(n,["safetyRatings"],x)}return n}function cb(i){const n={},o=r(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>u)),d(n,["citations"],s)}return n}function db(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let f=dn(u);Array.isArray(f)&&(f=f.map(m=>m)),d(o,["contents"],f)}return o}function fb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["tokensInfo"],u)}return n}function hb(i){const n={},o=r(i,["values"]);o!=null&&d(n,["values"],o);const s=r(i,["statistics"]);return s!=null&&d(n,["statistics"],mb(s)),n}function mb(i){const n={},o=r(i,["truncated"]);o!=null&&d(n,["truncated"],o);const s=r(i,["token_count"]);return s!=null&&d(n,["tokenCount"],s),n}function as(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>TS(f))),d(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&d(n,["role"],s),n}function gb(i){const n={},o=r(i,["controlType"]);o!=null&&d(n,["controlType"],o);const s=r(i,["enableControlImageComputation"]);return s!=null&&d(n,["computeControl"],s),n}function pb(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function yb(i,n){const o={},s=r(i,["systemInstruction"]);n!==void 0&&s!=null&&d(n,["systemInstruction"],Lt(s));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(p=>Hg(p))),d(n,["tools"],m)}const f=r(i,["generationConfig"]);return n!==void 0&&f!=null&&d(n,["generationConfig"],aS(f)),o}function vb(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let m=dn(u);Array.isArray(m)&&(m=m.map(p=>as(p))),d(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&pb(f),o}function Tb(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let m=dn(u);Array.isArray(m)&&(m=m.map(p=>p)),d(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&yb(f,o),o}function bb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["totalTokens"]);s!=null&&d(n,["totalTokens"],s);const u=r(i,["cachedContentTokenCount"]);return u!=null&&d(n,["cachedContentTokenCount"],u),n}function Sb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["totalTokens"]);return s!=null&&d(n,["totalTokens"],s),n}function xb(i,n){const o={},s=r(n,["model"]);return s!=null&&d(o,["_url","name"],Ge(i,s)),o}function Eb(i,n){const o={},s=r(n,["model"]);return s!=null&&d(o,["_url","name"],Ge(i,s)),o}function Cb(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function wb(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&d(n,["sdkHttpResponse"],o),n}function Ab(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const f=r(i,["numberOfImages"]);n!==void 0&&f!=null&&d(n,["parameters","sampleCount"],f);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&d(n,["parameters","aspectRatio"],m);const p=r(i,["guidanceScale"]);n!==void 0&&p!=null&&d(n,["parameters","guidanceScale"],p);const y=r(i,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const T=r(i,["personGeneration"]);n!==void 0&&T!=null&&d(n,["parameters","personGeneration"],T);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const x=r(i,["includeRaiReason"]);n!==void 0&&x!=null&&d(n,["parameters","includeRaiReason"],x);const N=r(i,["language"]);n!==void 0&&N!=null&&d(n,["parameters","language"],N);const L=r(i,["outputMimeType"]);n!==void 0&&L!=null&&d(n,["parameters","outputOptions","mimeType"],L);const z=r(i,["outputCompressionQuality"]);n!==void 0&&z!=null&&d(n,["parameters","outputOptions","compressionQuality"],z);const W=r(i,["addWatermark"]);n!==void 0&&W!=null&&d(n,["parameters","addWatermark"],W);const q=r(i,["labels"]);n!==void 0&&q!=null&&d(n,["labels"],q);const k=r(i,["editMode"]);n!==void 0&&k!=null&&d(n,["parameters","editMode"],k);const F=r(i,["baseSteps"]);return n!==void 0&&F!=null&&d(n,["parameters","editConfig","baseSteps"],F),o}function _b(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=r(n,["referenceImages"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>wS(y))),d(o,["instances[0]","referenceImages"],p)}const m=r(n,["config"]);return m!=null&&Ab(m,o),o}function Nb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>ss(f))),d(n,["generatedImages"],u)}return n}function Mb(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&d(n,["requests[]","taskType"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&d(n,["requests[]","title"],u);const f=r(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&d(n,["requests[]","outputDimensionality"],f),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Rb(i,n){const o={},s=r(i,["taskType"]);n!==void 0&&s!=null&&d(n,["instances[]","task_type"],s);const u=r(i,["title"]);n!==void 0&&u!=null&&d(n,["instances[]","title"],u);const f=r(i,["outputDimensionality"]);n!==void 0&&f!=null&&d(n,["parameters","outputDimensionality"],f);const m=r(i,["mimeType"]);n!==void 0&&m!=null&&d(n,["instances[]","mimeType"],m);const p=r(i,["autoTruncate"]);return n!==void 0&&p!=null&&d(n,["parameters","autoTruncate"],p),o}function Db(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let p=qu(i,u);Array.isArray(p)&&(p=p.map(y=>y)),d(o,["requests[]","content"],p)}const f=r(n,["config"]);f!=null&&Mb(f,o);const m=r(n,["model"]);return m!==void 0&&d(o,["requests[]","model"],Ge(i,m)),o}function Ib(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let m=qu(i,u);Array.isArray(m)&&(m=m.map(p=>p)),d(o,["instances[]","content"],m)}const f=r(n,["config"]);return f!=null&&Rb(f,o),o}function kb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>m)),d(n,["embeddings"],f)}const u=r(i,["metadata"]);return u!=null&&d(n,["metadata"],u),n}function Ub(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>hb(m))),d(n,["embeddings"],f)}const u=r(i,["metadata"]);return u!=null&&d(n,["metadata"],u),n}function Lb(i){const n={},o=r(i,["endpoint"]);o!=null&&d(n,["name"],o);const s=r(i,["deployedModelId"]);return s!=null&&d(n,["deployedModelId"],s),n}function zb(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Pb(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&d(n,["description"],o);const s=r(i,["name"]);s!=null&&d(n,["name"],s);const u=r(i,["parameters"]);u!=null&&d(n,["parameters"],u);const f=r(i,["parametersJsonSchema"]);f!=null&&d(n,["parametersJsonSchema"],f);const m=r(i,["response"]);m!=null&&d(n,["response"],m);const p=r(i,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function Hb(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],as(Lt(u)));const f=r(n,["temperature"]);f!=null&&d(s,["temperature"],f);const m=r(n,["topP"]);m!=null&&d(s,["topP"],m);const p=r(n,["topK"]);p!=null&&d(s,["topK"],p);const y=r(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=r(n,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const T=r(n,["stopSequences"]);T!=null&&d(s,["stopSequences"],T);const S=r(n,["responseLogprobs"]);S!=null&&d(s,["responseLogprobs"],S);const x=r(n,["logprobs"]);x!=null&&d(s,["logprobs"],x);const N=r(n,["presencePenalty"]);N!=null&&d(s,["presencePenalty"],N);const L=r(n,["frequencyPenalty"]);L!=null&&d(s,["frequencyPenalty"],L);const z=r(n,["seed"]);z!=null&&d(s,["seed"],z);const W=r(n,["responseMimeType"]);W!=null&&d(s,["responseMimeType"],W);const q=r(n,["responseSchema"]);q!=null&&d(s,["responseSchema"],Gu(q));const k=r(n,["responseJsonSchema"]);if(k!=null&&d(s,["responseJsonSchema"],k),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=r(n,["safetySettings"]);if(o!==void 0&&F!=null){let de=F;Array.isArray(de)&&(de=de.map(Ee=>AS(Ee))),d(o,["safetySettings"],de)}const ne=r(n,["tools"]);if(o!==void 0&&ne!=null){let de=Ll(ne);Array.isArray(de)&&(de=de.map(Ee=>IS(Ul(Ee)))),d(o,["tools"],de)}const se=r(n,["toolConfig"]);if(o!==void 0&&se!=null&&d(o,["toolConfig"],se),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=r(n,["cachedContent"]);o!==void 0&&ee!=null&&d(o,["cachedContent"],On(i,ee));const O=r(n,["responseModalities"]);O!=null&&d(s,["responseModalities"],O);const K=r(n,["mediaResolution"]);K!=null&&d(s,["mediaResolution"],K);const G=r(n,["speechConfig"]);if(G!=null&&d(s,["speechConfig"],Vu(G)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=r(n,["thinkingConfig"]);oe!=null&&d(s,["thinkingConfig"],oe);const ie=r(n,["imageConfig"]);return ie!=null&&d(s,["imageConfig"],ie),s}function qb(i,n,o){const s={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],Lt(u));const f=r(n,["temperature"]);f!=null&&d(s,["temperature"],f);const m=r(n,["topP"]);m!=null&&d(s,["topP"],m);const p=r(n,["topK"]);p!=null&&d(s,["topK"],p);const y=r(n,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const g=r(n,["maxOutputTokens"]);g!=null&&d(s,["maxOutputTokens"],g);const T=r(n,["stopSequences"]);T!=null&&d(s,["stopSequences"],T);const S=r(n,["responseLogprobs"]);S!=null&&d(s,["responseLogprobs"],S);const x=r(n,["logprobs"]);x!=null&&d(s,["logprobs"],x);const N=r(n,["presencePenalty"]);N!=null&&d(s,["presencePenalty"],N);const L=r(n,["frequencyPenalty"]);L!=null&&d(s,["frequencyPenalty"],L);const z=r(n,["seed"]);z!=null&&d(s,["seed"],z);const W=r(n,["responseMimeType"]);W!=null&&d(s,["responseMimeType"],W);const q=r(n,["responseSchema"]);q!=null&&d(s,["responseSchema"],Gu(q));const k=r(n,["responseJsonSchema"]);k!=null&&d(s,["responseJsonSchema"],k);const F=r(n,["routingConfig"]);F!=null&&d(s,["routingConfig"],F);const ne=r(n,["modelSelectionConfig"]);ne!=null&&d(s,["modelConfig"],ne);const se=r(n,["safetySettings"]);if(o!==void 0&&se!=null){let M=se;Array.isArray(M)&&(M=M.map(Q=>Q)),d(o,["safetySettings"],M)}const ee=r(n,["tools"]);if(o!==void 0&&ee!=null){let M=Ll(ee);Array.isArray(M)&&(M=M.map(Q=>Hg(Ul(Q)))),d(o,["tools"],M)}const O=r(n,["toolConfig"]);o!==void 0&&O!=null&&d(o,["toolConfig"],O);const K=r(n,["labels"]);o!==void 0&&K!=null&&d(o,["labels"],K);const G=r(n,["cachedContent"]);o!==void 0&&G!=null&&d(o,["cachedContent"],On(i,G));const oe=r(n,["responseModalities"]);oe!=null&&d(s,["responseModalities"],oe);const ie=r(n,["mediaResolution"]);ie!=null&&d(s,["mediaResolution"],ie);const de=r(n,["speechConfig"]);de!=null&&d(s,["speechConfig"],Pg(Vu(de)));const Ee=r(n,["audioTimestamp"]);Ee!=null&&d(s,["audioTimestamp"],Ee);const Le=r(n,["thinkingConfig"]);Le!=null&&d(s,["thinkingConfig"],Le);const Re=r(n,["imageConfig"]);return Re!=null&&d(s,["imageConfig"],Re),s}function tg(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let m=dn(u);Array.isArray(m)&&(m=m.map(p=>as(p))),d(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&d(o,["generationConfig"],Hb(i,f,o)),o}function ng(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["contents"]);if(u!=null){let m=dn(u);Array.isArray(m)&&(m=m.map(p=>p)),d(o,["contents"],m)}const f=r(n,["config"]);return f!=null&&d(o,["generationConfig"],qb(i,f,o)),o}function ig(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>ub(g))),d(n,["candidates"],y)}const u=r(i,["modelVersion"]);u!=null&&d(n,["modelVersion"],u);const f=r(i,["promptFeedback"]);f!=null&&d(n,["promptFeedback"],f);const m=r(i,["responseId"]);m!=null&&d(n,["responseId"],m);const p=r(i,["usageMetadata"]);return p!=null&&d(n,["usageMetadata"],p),n}function lg(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(T=>T)),d(n,["candidates"],g)}const u=r(i,["createTime"]);u!=null&&d(n,["createTime"],u);const f=r(i,["modelVersion"]);f!=null&&d(n,["modelVersion"],f);const m=r(i,["promptFeedback"]);m!=null&&d(n,["promptFeedback"],m);const p=r(i,["responseId"]);p!=null&&d(n,["responseId"],p);const y=r(i,["usageMetadata"]);return y!=null&&d(n,["usageMetadata"],y),n}function Gb(i,n){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=r(i,["numberOfImages"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&d(n,["parameters","aspectRatio"],u);const f=r(i,["guidanceScale"]);if(n!==void 0&&f!=null&&d(n,["parameters","guidanceScale"],f),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&d(n,["parameters","safetySetting"],m);const p=r(i,["personGeneration"]);n!==void 0&&p!=null&&d(n,["parameters","personGeneration"],p);const y=r(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&d(n,["parameters","includeSafetyAttributes"],y);const g=r(i,["includeRaiReason"]);n!==void 0&&g!=null&&d(n,["parameters","includeRaiReason"],g);const T=r(i,["language"]);n!==void 0&&T!=null&&d(n,["parameters","language"],T);const S=r(i,["outputMimeType"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","mimeType"],S);const x=r(i,["outputCompressionQuality"]);if(n!==void 0&&x!=null&&d(n,["parameters","outputOptions","compressionQuality"],x),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=r(i,["imageSize"]);if(n!==void 0&&N!=null&&d(n,["parameters","sampleImageSize"],N),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Vb(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&d(n,["parameters","negativePrompt"],u);const f=r(i,["numberOfImages"]);n!==void 0&&f!=null&&d(n,["parameters","sampleCount"],f);const m=r(i,["aspectRatio"]);n!==void 0&&m!=null&&d(n,["parameters","aspectRatio"],m);const p=r(i,["guidanceScale"]);n!==void 0&&p!=null&&d(n,["parameters","guidanceScale"],p);const y=r(i,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const g=r(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&d(n,["parameters","safetySetting"],g);const T=r(i,["personGeneration"]);n!==void 0&&T!=null&&d(n,["parameters","personGeneration"],T);const S=r(i,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const x=r(i,["includeRaiReason"]);n!==void 0&&x!=null&&d(n,["parameters","includeRaiReason"],x);const N=r(i,["language"]);n!==void 0&&N!=null&&d(n,["parameters","language"],N);const L=r(i,["outputMimeType"]);n!==void 0&&L!=null&&d(n,["parameters","outputOptions","mimeType"],L);const z=r(i,["outputCompressionQuality"]);n!==void 0&&z!=null&&d(n,["parameters","outputOptions","compressionQuality"],z);const W=r(i,["addWatermark"]);n!==void 0&&W!=null&&d(n,["parameters","addWatermark"],W);const q=r(i,["labels"]);n!==void 0&&q!=null&&d(n,["labels"],q);const k=r(i,["imageSize"]);n!==void 0&&k!=null&&d(n,["parameters","sampleImageSize"],k);const F=r(i,["enhancePrompt"]);return n!==void 0&&F!=null&&d(n,["parameters","enhancePrompt"],F),o}function Bb(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=r(n,["config"]);return f!=null&&Gb(f,o),o}function Ob(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=r(n,["config"]);return f!=null&&Vb(f,o),o}function Yb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>nS(m))),d(n,["generatedImages"],f)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&d(n,["positivePromptSafetyAttributes"],Lg(u)),n}function Fb(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>ss(m))),d(n,["generatedImages"],f)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&d(n,["positivePromptSafetyAttributes"],zg(u)),n}function Jb(i,n){const o={},s=r(i,["numberOfVideos"]);if(n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&d(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=r(i,["aspectRatio"]);n!==void 0&&f!=null&&d(n,["parameters","aspectRatio"],f);const m=r(i,["resolution"]);n!==void 0&&m!=null&&d(n,["parameters","resolution"],m);const p=r(i,["personGeneration"]);if(n!==void 0&&p!=null&&d(n,["parameters","personGeneration"],p),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=r(i,["negativePrompt"]);n!==void 0&&y!=null&&d(n,["parameters","negativePrompt"],y);const g=r(i,["enhancePrompt"]);if(n!==void 0&&g!=null&&d(n,["parameters","enhancePrompt"],g),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=r(i,["lastFrame"]);n!==void 0&&T!=null&&d(n,["instances[0]","lastFrame"],rs(T));const S=r(i,["referenceImages"]);if(n!==void 0&&S!=null){let x=S;Array.isArray(x)&&(x=x.map(N=>FS(N))),d(n,["instances[0]","referenceImages"],x)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function jb(i,n){const o={},s=r(i,["numberOfVideos"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&d(n,["parameters","storageUri"],u);const f=r(i,["fps"]);n!==void 0&&f!=null&&d(n,["parameters","fps"],f);const m=r(i,["durationSeconds"]);n!==void 0&&m!=null&&d(n,["parameters","durationSeconds"],m);const p=r(i,["seed"]);n!==void 0&&p!=null&&d(n,["parameters","seed"],p);const y=r(i,["aspectRatio"]);n!==void 0&&y!=null&&d(n,["parameters","aspectRatio"],y);const g=r(i,["resolution"]);n!==void 0&&g!=null&&d(n,["parameters","resolution"],g);const T=r(i,["personGeneration"]);n!==void 0&&T!=null&&d(n,["parameters","personGeneration"],T);const S=r(i,["pubsubTopic"]);n!==void 0&&S!=null&&d(n,["parameters","pubsubTopic"],S);const x=r(i,["negativePrompt"]);n!==void 0&&x!=null&&d(n,["parameters","negativePrompt"],x);const N=r(i,["enhancePrompt"]);n!==void 0&&N!=null&&d(n,["parameters","enhancePrompt"],N);const L=r(i,["generateAudio"]);n!==void 0&&L!=null&&d(n,["parameters","generateAudio"],L);const z=r(i,["lastFrame"]);n!==void 0&&z!=null&&d(n,["instances[0]","lastFrame"],gn(z));const W=r(i,["referenceImages"]);if(n!==void 0&&W!=null){let F=W;Array.isArray(F)&&(F=F.map(ne=>JS(ne))),d(n,["instances[0]","referenceImages"],F)}const q=r(i,["mask"]);n!==void 0&&q!=null&&d(n,["instances[0]","mask"],YS(q));const k=r(i,["compressionQuality"]);return n!==void 0&&k!=null&&d(n,["parameters","compressionQuality"],k),o}function Xb(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["metadata"]);s!=null&&d(n,["metadata"],s);const u=r(i,["done"]);u!=null&&d(n,["done"],u);const f=r(i,["error"]);f!=null&&d(n,["error"],f);const m=r(i,["response","generateVideoResponse"]);return m!=null&&d(n,["response"],Wb(m)),n}function Kb(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["metadata"]);s!=null&&d(n,["metadata"],s);const u=r(i,["done"]);u!=null&&d(n,["done"],u);const f=r(i,["error"]);f!=null&&d(n,["error"],f);const m=r(i,["response"]);return m!=null&&d(n,["response"],$b(m)),n}function Qb(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=r(n,["image"]);f!=null&&d(o,["instances[0]","image"],rs(f));const m=r(n,["video"]);m!=null&&d(o,["instances[0]","video"],qg(m));const p=r(n,["source"]);p!=null&&eS(p,o);const y=r(n,["config"]);return y!=null&&Jb(y,o),o}function Zb(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["prompt"]);u!=null&&d(o,["instances[0]","prompt"],u);const f=r(n,["image"]);f!=null&&d(o,["instances[0]","image"],gn(f));const m=r(n,["video"]);m!=null&&d(o,["instances[0]","video"],Gg(m));const p=r(n,["source"]);p!=null&&tS(p,o);const y=r(n,["config"]);return y!=null&&jb(y,o),o}function Wb(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>lS(m))),d(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function $b(i){const n={},o=r(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>oS(m))),d(n,["generatedVideos"],f)}const s=r(i,["raiMediaFilteredCount"]);s!=null&&d(n,["raiMediaFilteredCount"],s);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&d(n,["raiMediaFilteredReasons"],u),n}function eS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],rs(u));const f=r(i,["video"]);return n!==void 0&&f!=null&&d(n,["instances[0]","video"],qg(f)),o}function tS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],gn(u));const f=r(i,["video"]);return n!==void 0&&f!=null&&d(n,["instances[0]","video"],Gg(f)),o}function nS(i){const n={},o=r(i,["_self"]);o!=null&&d(n,["image"],dS(o));const s=r(i,["raiFilteredReason"]);s!=null&&d(n,["raiFilteredReason"],s);const u=r(i,["_self"]);return u!=null&&d(n,["safetyAttributes"],Lg(u)),n}function ss(i){const n={},o=r(i,["_self"]);o!=null&&d(n,["image"],Ug(o));const s=r(i,["raiFilteredReason"]);s!=null&&d(n,["raiFilteredReason"],s);const u=r(i,["_self"]);u!=null&&d(n,["safetyAttributes"],zg(u));const f=r(i,["prompt"]);return f!=null&&d(n,["enhancedPrompt"],f),n}function iS(i){const n={},o=r(i,["_self"]);o!=null&&d(n,["mask"],Ug(o));const s=r(i,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),d(n,["labels"],u)}return n}function lS(i){const n={},o=r(i,["video"]);return o!=null&&d(n,["video"],BS(o)),n}function oS(i){const n={},o=r(i,["_self"]);return o!=null&&d(n,["video"],OS(o)),n}function aS(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&d(n,["modelConfig"],o);const s=r(i,["audioTimestamp"]);s!=null&&d(n,["audioTimestamp"],s);const u=r(i,["candidateCount"]);u!=null&&d(n,["candidateCount"],u);const f=r(i,["enableAffectiveDialog"]);f!=null&&d(n,["enableAffectiveDialog"],f);const m=r(i,["frequencyPenalty"]);m!=null&&d(n,["frequencyPenalty"],m);const p=r(i,["logprobs"]);p!=null&&d(n,["logprobs"],p);const y=r(i,["maxOutputTokens"]);y!=null&&d(n,["maxOutputTokens"],y);const g=r(i,["mediaResolution"]);g!=null&&d(n,["mediaResolution"],g);const T=r(i,["presencePenalty"]);T!=null&&d(n,["presencePenalty"],T);const S=r(i,["responseJsonSchema"]);S!=null&&d(n,["responseJsonSchema"],S);const x=r(i,["responseLogprobs"]);x!=null&&d(n,["responseLogprobs"],x);const N=r(i,["responseMimeType"]);N!=null&&d(n,["responseMimeType"],N);const L=r(i,["responseModalities"]);L!=null&&d(n,["responseModalities"],L);const z=r(i,["responseSchema"]);z!=null&&d(n,["responseSchema"],z);const W=r(i,["routingConfig"]);W!=null&&d(n,["routingConfig"],W);const q=r(i,["seed"]);q!=null&&d(n,["seed"],q);const k=r(i,["speechConfig"]);k!=null&&d(n,["speechConfig"],Pg(k));const F=r(i,["stopSequences"]);F!=null&&d(n,["stopSequences"],F);const ne=r(i,["temperature"]);ne!=null&&d(n,["temperature"],ne);const se=r(i,["thinkingConfig"]);se!=null&&d(n,["thinkingConfig"],se);const ee=r(i,["topK"]);ee!=null&&d(n,["topK"],ee);const O=r(i,["topP"]);if(O!=null&&d(n,["topP"],O),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function sS(i,n){const o={},s=r(n,["model"]);return s!=null&&d(o,["_url","name"],Ge(i,s)),o}function rS(i,n){const o={},s=r(n,["model"]);return s!=null&&d(o,["_url","name"],Ge(i,s)),o}function uS(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function cS(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&d(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function dS(i){const n={},o=r(i,["bytesBase64Encoded"]);o!=null&&d(n,["imageBytes"],Ti(o));const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Ug(i){const n={},o=r(i,["gcsUri"]);o!=null&&d(n,["gcsUri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&d(n,["imageBytes"],Ti(s));const u=r(i,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function rs(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&d(n,["bytesBase64Encoded"],Ti(o));const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function gn(i){const n={},o=r(i,["gcsUri"]);o!=null&&d(n,["gcsUri"],o);const s=r(i,["imageBytes"]);s!=null&&d(n,["bytesBase64Encoded"],Ti(s));const u=r(i,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function fS(i,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=r(n,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const m=r(n,["filter"]);o!==void 0&&m!=null&&d(o,["_query","filter"],m);const p=r(n,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],Ag(i,p)),s}function hS(i,n,o){const s={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=r(n,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const m=r(n,["filter"]);o!==void 0&&m!=null&&d(o,["_query","filter"],m);const p=r(n,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],Ag(i,p)),s}function mS(i,n){const o={},s=r(n,["config"]);return s!=null&&fS(i,s,o),o}function gS(i,n){const o={},s=r(n,["config"]);return s!=null&&hS(i,s,o),o}function pS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["_self"]);if(u!=null){let f=_g(u);Array.isArray(f)&&(f=f.map(m=>Iu(m))),d(n,["models"],f)}return n}function yS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["nextPageToken"]);s!=null&&d(n,["nextPageToken"],s);const u=r(i,["_self"]);if(u!=null){let f=_g(u);Array.isArray(f)&&(f=f.map(m=>ku(m))),d(n,["models"],f)}return n}function vS(i){const n={},o=r(i,["maskMode"]);o!=null&&d(n,["maskMode"],o);const s=r(i,["segmentationClasses"]);s!=null&&d(n,["maskClasses"],s);const u=r(i,["maskDilation"]);return u!=null&&d(n,["dilation"],u),n}function Iu(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["displayName"]);s!=null&&d(n,["displayName"],s);const u=r(i,["description"]);u!=null&&d(n,["description"],u);const f=r(i,["version"]);f!=null&&d(n,["version"],f);const m=r(i,["_self"]);m!=null&&d(n,["tunedModelInfo"],kS(m));const p=r(i,["inputTokenLimit"]);p!=null&&d(n,["inputTokenLimit"],p);const y=r(i,["outputTokenLimit"]);y!=null&&d(n,["outputTokenLimit"],y);const g=r(i,["supportedGenerationMethods"]);return g!=null&&d(n,["supportedActions"],g),n}function ku(i){const n={},o=r(i,["name"]);o!=null&&d(n,["name"],o);const s=r(i,["displayName"]);s!=null&&d(n,["displayName"],s);const u=r(i,["description"]);u!=null&&d(n,["description"],u);const f=r(i,["versionId"]);f!=null&&d(n,["version"],f);const m=r(i,["deployedModels"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(x=>Lb(x))),d(n,["endpoints"],S)}const p=r(i,["labels"]);p!=null&&d(n,["labels"],p);const y=r(i,["_self"]);y!=null&&d(n,["tunedModelInfo"],US(y));const g=r(i,["defaultCheckpointId"]);g!=null&&d(n,["defaultCheckpointId"],g);const T=r(i,["checkpoints"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(x=>x)),d(n,["checkpoints"],S)}return n}function TS(i){const n={},o=r(i,["videoMetadata"]);o!=null&&d(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&d(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&d(n,["inlineData"],rb(u));const f=r(i,["fileData"]);f!=null&&d(n,["fileData"],zb(f));const m=r(i,["thoughtSignature"]);m!=null&&d(n,["thoughtSignature"],m);const p=r(i,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=r(i,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const g=r(i,["executableCode"]);g!=null&&d(n,["executableCode"],g);const T=r(i,["functionResponse"]);T!=null&&d(n,["functionResponse"],T);const S=r(i,["text"]);return S!=null&&d(n,["text"],S),n}function bS(i){const n={},o=r(i,["productImage"]);return o!=null&&d(n,["image"],gn(o)),n}function SS(i,n){const o={},s=r(i,["numberOfImages"]);n!==void 0&&s!=null&&d(n,["parameters","sampleCount"],s);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&d(n,["parameters","editConfig","baseSteps"],u);const f=r(i,["outputGcsUri"]);n!==void 0&&f!=null&&d(n,["parameters","storageUri"],f);const m=r(i,["seed"]);n!==void 0&&m!=null&&d(n,["parameters","seed"],m);const p=r(i,["safetyFilterLevel"]);n!==void 0&&p!=null&&d(n,["parameters","safetySetting"],p);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&d(n,["parameters","personGeneration"],y);const g=r(i,["addWatermark"]);n!==void 0&&g!=null&&d(n,["parameters","addWatermark"],g);const T=r(i,["outputMimeType"]);n!==void 0&&T!=null&&d(n,["parameters","outputOptions","mimeType"],T);const S=r(i,["outputCompressionQuality"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","compressionQuality"],S);const x=r(i,["enhancePrompt"]);n!==void 0&&x!=null&&d(n,["parameters","enhancePrompt"],x);const N=r(i,["labels"]);return n!==void 0&&N!=null&&d(n,["labels"],N),o}function xS(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["source"]);u!=null&&CS(u,o);const f=r(n,["config"]);return f!=null&&SS(f,o),o}function ES(i){const n={},o=r(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>ss(u))),d(n,["generatedImages"],s)}return n}function CS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=r(i,["personImage"]);n!==void 0&&u!=null&&d(n,["instances[0]","personImage","image"],gn(u));const f=r(i,["productImages"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>bS(p))),d(n,["instances[0]","productImages"],m)}return o}function wS(i){const n={},o=r(i,["referenceImage"]);o!=null&&d(n,["referenceImage"],gn(o));const s=r(i,["referenceId"]);s!=null&&d(n,["referenceId"],s);const u=r(i,["referenceType"]);u!=null&&d(n,["referenceType"],u);const f=r(i,["maskImageConfig"]);f!=null&&d(n,["maskImageConfig"],vS(f));const m=r(i,["controlImageConfig"]);m!=null&&d(n,["controlImageConfig"],gb(m));const p=r(i,["styleImageConfig"]);p!=null&&d(n,["styleImageConfig"],p);const y=r(i,["subjectImageConfig"]);return y!=null&&d(n,["subjectImageConfig"],y),n}function Lg(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&d(n,["categories"],o);const s=r(i,["safetyAttributes","scores"]);s!=null&&d(n,["scores"],s);const u=r(i,["contentType"]);return u!=null&&d(n,["contentType"],u),n}function zg(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&d(n,["categories"],o);const s=r(i,["safetyAttributes","scores"]);s!=null&&d(n,["scores"],s);const u=r(i,["contentType"]);return u!=null&&d(n,["contentType"],u),n}function AS(i){const n={};if(r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=r(i,["category"]);o!=null&&d(n,["category"],o);const s=r(i,["threshold"]);return s!=null&&d(n,["threshold"],s),n}function _S(i){const n={},o=r(i,["image"]);return o!=null&&d(n,["image"],gn(o)),n}function NS(i,n){const o={},s=r(i,["mode"]);n!==void 0&&s!=null&&d(n,["parameters","mode"],s);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&d(n,["parameters","maxPredictions"],u);const f=r(i,["confidenceThreshold"]);n!==void 0&&f!=null&&d(n,["parameters","confidenceThreshold"],f);const m=r(i,["maskDilation"]);n!==void 0&&m!=null&&d(n,["parameters","maskDilation"],m);const p=r(i,["binaryColorThreshold"]);n!==void 0&&p!=null&&d(n,["parameters","binaryColorThreshold"],p);const y=r(i,["labels"]);return n!==void 0&&y!=null&&d(n,["labels"],y),o}function MS(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["source"]);u!=null&&DS(u,o);const f=r(n,["config"]);return f!=null&&NS(f,o),o}function RS(i){const n={},o=r(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>iS(u))),d(n,["generatedMasks"],s)}return n}function DS(i,n){const o={},s=r(i,["prompt"]);n!==void 0&&s!=null&&d(n,["instances[0]","prompt"],s);const u=r(i,["image"]);n!==void 0&&u!=null&&d(n,["instances[0]","image"],gn(u));const f=r(i,["scribbleImage"]);return n!==void 0&&f!=null&&d(n,["instances[0]","scribble"],_S(f)),o}function Pg(i){const n={},o=r(i,["voiceConfig"]);if(o!=null&&d(n,["voiceConfig"],o),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=r(i,["languageCode"]);return s!=null&&d(n,["languageCode"],s),n}function IS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(T=>T)),d(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&d(n,["googleSearch"],cS(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&d(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],uS(f));const m=r(i,["urlContext"]);m!=null&&d(n,["urlContext"],m);const p=r(i,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=r(i,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}function Hg(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let S=o;Array.isArray(S)&&(S=S.map(x=>Pb(x))),d(n,["functionDeclarations"],S)}const s=r(i,["retrieval"]);s!=null&&d(n,["retrieval"],s);const u=r(i,["googleSearch"]);u!=null&&d(n,["googleSearch"],u);const f=r(i,["googleSearchRetrieval"]);f!=null&&d(n,["googleSearchRetrieval"],f);const m=r(i,["enterpriseWebSearch"]);m!=null&&d(n,["enterpriseWebSearch"],m);const p=r(i,["googleMaps"]);p!=null&&d(n,["googleMaps"],p);const y=r(i,["urlContext"]);y!=null&&d(n,["urlContext"],y);const g=r(i,["computerUse"]);g!=null&&d(n,["computerUse"],g);const T=r(i,["codeExecution"]);return T!=null&&d(n,["codeExecution"],T),n}function kS(i){const n={},o=r(i,["baseModel"]);o!=null&&d(n,["baseModel"],o);const s=r(i,["createTime"]);s!=null&&d(n,["createTime"],s);const u=r(i,["updateTime"]);return u!=null&&d(n,["updateTime"],u),n}function US(i){const n={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(n,["baseModel"],o);const s=r(i,["createTime"]);s!=null&&d(n,["createTime"],s);const u=r(i,["updateTime"]);return u!=null&&d(n,["updateTime"],u),n}function LS(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const u=r(i,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const f=r(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&d(n,["defaultCheckpointId"],f),o}function zS(i,n){const o={},s=r(i,["displayName"]);n!==void 0&&s!=null&&d(n,["displayName"],s);const u=r(i,["description"]);n!==void 0&&u!=null&&d(n,["description"],u);const f=r(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&d(n,["defaultCheckpointId"],f),o}function PS(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","name"],Ge(i,s));const u=r(n,["config"]);return u!=null&&LS(u,o),o}function HS(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["config"]);return u!=null&&zS(u,o),o}function qS(i,n){const o={},s=r(i,["outputGcsUri"]);n!==void 0&&s!=null&&d(n,["parameters","storageUri"],s);const u=r(i,["includeRaiReason"]);n!==void 0&&u!=null&&d(n,["parameters","includeRaiReason"],u);const f=r(i,["outputMimeType"]);n!==void 0&&f!=null&&d(n,["parameters","outputOptions","mimeType"],f);const m=r(i,["outputCompressionQuality"]);n!==void 0&&m!=null&&d(n,["parameters","outputOptions","compressionQuality"],m);const p=r(i,["enhanceInputImage"]);n!==void 0&&p!=null&&d(n,["parameters","upscaleConfig","enhanceInputImage"],p);const y=r(i,["imagePreservationFactor"]);n!==void 0&&y!=null&&d(n,["parameters","upscaleConfig","imagePreservationFactor"],y);const g=r(i,["labels"]);n!==void 0&&g!=null&&d(n,["labels"],g);const T=r(i,["numberOfImages"]);n!==void 0&&T!=null&&d(n,["parameters","sampleCount"],T);const S=r(i,["mode"]);return n!==void 0&&S!=null&&d(n,["parameters","mode"],S),o}function GS(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["_url","model"],Ge(i,s));const u=r(n,["image"]);u!=null&&d(o,["instances[0]","image"],gn(u));const f=r(n,["upscaleFactor"]);f!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=r(n,["config"]);return m!=null&&qS(m,o),o}function VS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&d(n,["sdkHttpResponse"],o);const s=r(i,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>ss(f))),d(n,["generatedImages"],u)}return n}function BS(i){const n={},o=r(i,["uri"]);o!=null&&d(n,["uri"],o);const s=r(i,["encodedVideo"]);s!=null&&d(n,["videoBytes"],Ti(s));const u=r(i,["encoding"]);return u!=null&&d(n,["mimeType"],u),n}function OS(i){const n={},o=r(i,["gcsUri"]);o!=null&&d(n,["uri"],o);const s=r(i,["bytesBase64Encoded"]);s!=null&&d(n,["videoBytes"],Ti(s));const u=r(i,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}function YS(i){const n={},o=r(i,["image"]);o!=null&&d(n,["_self"],gn(o));const s=r(i,["maskMode"]);return s!=null&&d(n,["maskMode"],s),n}function FS(i){const n={},o=r(i,["image"]);o!=null&&d(n,["image"],rs(o));const s=r(i,["referenceType"]);return s!=null&&d(n,["referenceType"],s),n}function JS(i){const n={},o=r(i,["image"]);o!=null&&d(n,["image"],gn(o));const s=r(i,["referenceType"]);return s!=null&&d(n,["referenceType"],s),n}function qg(i){const n={},o=r(i,["uri"]);o!=null&&d(n,["uri"],o);const s=r(i,["videoBytes"]);s!=null&&d(n,["encodedVideo"],Ti(s));const u=r(i,["mimeType"]);return u!=null&&d(n,["encoding"],u),n}function Gg(i){const n={},o=r(i,["uri"]);o!=null&&d(n,["gcsUri"],o);const s=r(i,["videoBytes"]);s!=null&&d(n,["bytesBase64Encoded"],Ti(s));const u=r(i,["mimeType"]);return u!=null&&d(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jS="Content-Type",XS="X-Server-Timeout",KS="User-Agent",Uu="x-goog-api-client",QS="1.27.0",ZS=`google-genai-sdk/${QS}`,WS="v1beta1",$S="v1beta",og=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ex{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:WS,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:$S,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const u=[this.getRequestUrlInternal(o)];return s&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[m,p]of Object.entries(n.queryParams))u.searchParams.append(m,String(p));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,u.toString(),n.abortSignal),this.unaryApiCall(u,f,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[u,f]of Object.entries(o))typeof f=="object"?s[u]=Object.assign(Object.assign({},s[u]),f):f!==void 0&&(s[u]=f);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,s);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,u.toString(),n.abortSignal),this.streamApiCall(u,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,u){if(o&&o.timeout||u){const f=new AbortController,m=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>f.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}u&&u.addEventListener("abort",()=>{f.abort()}),n.signal=m}return o&&o.extraBody!==null&&tx(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await ag(u),new Mu(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async u=>(await ag(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return Rl(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:p,value:y}=yield ot(u.read());if(p){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=f.decode(y,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const x=JSON.parse(JSON.stringify(S.error)),N=x.status,L=x.code,z=`got status: ${N}. ${JSON.stringify(S)}`;if(L>=400&&L<600)throw new os({message:z,status:L})}}catch(S){if(S.name==="ApiError")throw S}m+=g;let T=m.match(og);for(;T;){const S=T[1];try{const x=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield ot(new Mu(x)),m=m.slice(T[0].length),T=m.match(og)}catch(x){throw new Error(`exception parsing stream chunk ${S}. ${x}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=ZS+" "+this.clientOptions.userAgentExtra;return n[KS]=o,n[Uu]=o,n[jS]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[u,f]of Object.entries(n.headers))s.append(u,f);n.timeout&&n.timeout>0&&s.append(XS,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}async uploadFile(n,o){var s;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,m=await f.stat(n);u.sizeBytes=String(m.size);const p=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:m.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=p;const y=await this.fetchUploadUrl(u,o);return f.upload(n,y,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o){var s;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const f={file:n},m=await this.request({path:he("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(s=m==null?void 0:m.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function ag(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(s);throw o>=400&&o<600?new os({message:u,status:o}):new Error(u)}}function tx(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,m){const p=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const g=m[y],T=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&T&&typeof T=="object"&&!Array.isArray(T)?p[y]=s(T,g):(T&&g&&typeof T!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof T}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const u=s(o,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nx="mcp_used/unknown";let ix=!1;function Vg(i){for(const n of i)if(lx(n)||typeof n=="object"&&"inputSchema"in n)return!0;return ix}function Bg(i){var n;const o=(n=i[Uu])!==null&&n!==void 0?n:"";i[Uu]=(o+` ${nx}`).trimStart()}function lx(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function ox(i,n=100){return Rl(this,arguments,function*(){let s,u=0;for(;u<n;){const f=yield ot(i.listTools({cursor:s}));for(const m of f.tools)yield yield ot(m),u++;if(!f.nextCursor)break;s=f.nextCursor}})}class Ou{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Ou(n,o)}async initialize(){var n,o,s,u;if(this.mcpTools.length>0)return;const f={},m=[];for(const T of this.mcpClients)try{for(var p=!0,y=(o=void 0,Po(ox(T))),g;g=await y.next(),n=g.done,!n;p=!0){u=g.value,p=!1;const S=u;m.push(S);const x=S.name;if(f[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);f[x]=T}}catch(S){o={error:S}}finally{try{!p&&!n&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),cv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await u.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ax(i,n,o){const s=new nv;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(s,u),n(s)}class sx{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=cx(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const T=new Promise(F=>{g=F}),S=n.callbacks,x=function(){g({})},N=this.apiClient,L={onopen:x,onmessage:F=>{ax(N,S.onmessage,F)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(F){},onclose:(s=S==null?void 0:S.onclose)!==null&&s!==void 0?s:function(F){}},z=this.webSocketFactory.create(y,ux(m),L);z.connect(),await T;const k={setup:{model:Ge(this.apiClient,n.model)}};return z.send(JSON.stringify(k)),new rx(z,this.apiClient)}}class rx{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=$T(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=WT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Nl.PLAY)}pause(){this.sendPlaybackControl(Nl.PAUSE)}stop(){this.sendPlaybackControl(Nl.STOP)}resetContext(){this.sendPlaybackControl(Nl.RESET_CONTEXT)}close(){this.conn.close()}}function ux(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function cx(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fx(i,n,o){const s=new tv;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const f=JSON.parse(u);if(i.isVertexAI()){const m=nb(f);Object.assign(s,m)}else Object.assign(s,f);n(s)}class hx{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new sx(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,u,f,m,p;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let T;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&Vg(n.config.tools)&&Bg(S);const x=yx(S);if(this.apiClient.isVertexAI())T=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,T);else{const G=this.apiClient.getApiKey();let oe="BidiGenerateContent",ie="key";G!=null&&G.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",ie="access_token"),T=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${oe}?${ie}=${G}`}let N=()=>{};const L=new Promise(G=>{N=G}),z=n.callbacks,W=function(){var G;(G=z==null?void 0:z.onopen)===null||G===void 0||G.call(z),N({})},q=this.apiClient,k={onopen:W,onmessage:G=>{fx(q,z.onmessage,G)},onerror:(o=z==null?void 0:z.onerror)!==null&&o!==void 0?o:function(G){},onclose:(s=z==null?void 0:z.onclose)!==null&&s!==void 0?s:function(G){}},F=this.webSocketFactory.create(T,px(x),k);F.connect(),await L;let ne=Ge(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&ne.startsWith("publishers/")){const G=this.apiClient.getProject(),oe=this.apiClient.getLocation();ne=`projects/${G}/locations/${oe}/`+ne}let se={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[kl.AUDIO]}:n.config.responseModalities=[kl.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(p=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[],O=[];for(const G of ee)if(this.isCallableTool(G)){const oe=G;O.push(await oe.tool())}else O.push(G);O.length>0&&(n.config.tools=O);const K={model:ne,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?se=ZT(this.apiClient,K):se=QT(this.apiClient,K),delete se.config,F.send(JSON.stringify(se)),new gx(F,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const mx={turnComplete:!0};class gx{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=dn(o.turns),n.isVertexAI()||(s=s.map(u=>as(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(dx)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},mx),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:tb(n)}:o={realtimeInput:eb(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function px(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function yx(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sg=10;function rg(i){var n,o,s;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const m of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Dl(m)){u=!0;break}if(!u)return!0;const f=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Dl(i){return"callTool"in i&&typeof i.callTool=="function"}function vx(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>Dl(u)))!==null&&s!==void 0?s:!1}function Tx(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>!Dl(u)))!==null&&s!==void 0?s:!1}function ug(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bx extends Yi{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,u,f,m,p;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!vx(o)||rg(o.config))return await this.generateContentInternal(y);if(Tx(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,T;const S=dn(y.contents),x=(f=(u=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:sg;let N=0;for(;N<x&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const L=g.candidates[0].content,z=[];for(const W of(p=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[])if(Dl(W)){const k=await W.callTool(g.functionCalls);z.push(...k)}N++,T={role:"user",parts:z},y.contents=dn(y.contents),y.contents.push(L),y.contents.push(T),ug(y.config)&&(S.push(L),S.push(T))}return ug(y.config)&&(g.automaticFunctionCallingHistory=S),g},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),rg(o.config)){const s=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var u;let f;const m=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let p;return f?p={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async o=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new qo(Oi.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(m),m)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var s,u,f,m,p,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(f=o.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((y=(p=o.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,u;const f=(o=n.config)===null||o===void 0?void 0:o.tools;if(!f)return n;const m=await Promise.all(f.map(async y=>Dl(y)?await y.tool():y)),p={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(p.config.tools=m,n.config&&n.config.tools&&Vg(n.config.tools)){const y=(u=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Bg(g),p.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(n){var o,s,u;const f=new Map;for(const m of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Dl(m)){const p=m,y=await p.tool();for(const g of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,p)}}return f}async processAfcStream(n){var o,s,u;const f=(u=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:sg;let m=!1,p=0;const y=await this.initAfcToolsMap(n);return(function(g,T,S){var x,N;return Rl(this,arguments,function*(){for(var L,z,W,q;p<f;){m&&(p++,m=!1);const se=yield ot(g.processParamsMaybeAddMcpUsage(S)),ee=yield ot(g.generateContentStreamInternal(se)),O=[],K=[];try{for(var k=!0,F=(z=void 0,Po(ee)),ne;ne=yield ot(F.next()),L=ne.done,!L;k=!0){q=ne.value,k=!1;const G=q;if(yield yield ot(G),G.candidates&&(!((x=G.candidates[0])===null||x===void 0)&&x.content)){K.push(G.candidates[0].content);for(const oe of(N=G.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(p<f&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(oe.functionCall.name)){const ie=yield ot(T.get(oe.functionCall.name).callTool([oe.functionCall]));O.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(G){z={error:G}}finally{try{!k&&!L&&(W=F.return)&&(yield ot(W.call(F)))}finally{if(z)throw z.error}}if(O.length>0){m=!0;const G=new zo;G.candidates=[{content:{role:"user",parts:O}}],yield yield ot(G);const oe=[];oe.push(...K),oe.push({role:"user",parts:O});const ie=dn(S.contents).concat(oe);S.contents=ie}else break}})})(this,y,n)}async generateContentInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=ng(this.apiClient,n);return p=he("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=lg(T),x=new zo;return Object.assign(x,S),x})}else{const g=tg(this.apiClient,n);return p=he("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=ig(T),x=new zo;return Object.assign(x,S),x})}}async generateContentStreamInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=ng(this.apiClient,n);return p=he("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(S){return Rl(this,arguments,function*(){var x,N,L,z;try{for(var W=!0,q=Po(S),k;k=yield ot(q.next()),x=k.done,!x;W=!0){z=k.value,W=!1;const F=z,ne=lg(yield ot(F.json()));ne.sdkHttpResponse={headers:F.headers};const se=new zo;Object.assign(se,ne),yield yield ot(se)}}catch(F){N={error:F}}finally{try{!W&&!x&&(L=q.return)&&(yield ot(L.call(q)))}finally{if(N)throw N.error}}})})}else{const g=tg(this.apiClient,n);return p=he("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(S){return Rl(this,arguments,function*(){var x,N,L,z;try{for(var W=!0,q=Po(S),k;k=yield ot(q.next()),x=k.done,!x;W=!0){z=k.value,W=!1;const F=z,ne=ig(yield ot(F.json()));ne.sdkHttpResponse={headers:F.headers};const se=new zo;Object.assign(se,ne),yield yield ot(se)}}catch(F){N={error:F}}finally{try{!W&&!x&&(L=q.return)&&(yield ot(L.call(q)))}finally{if(N)throw N.error}}})})}}async embedContent(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Ib(this.apiClient,n);return p=he("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Ub(T),x=new qm;return Object.assign(x,S),x})}else{const g=Db(this.apiClient,n);return p=he("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=kb(T),x=new qm;return Object.assign(x,S),x})}}async generateImagesInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Ob(this.apiClient,n);return p=he("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Fb(T),x=new Gm;return Object.assign(x,S),x})}else{const g=Bb(this.apiClient,n);return p=he("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Yb(T),x=new Gm;return Object.assign(x,S),x})}}async editImageInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=_b(this.apiClient,n);return f=he("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const g=Nb(y),T=new j0;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=GS(this.apiClient,n);return f=he("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const g=VS(y),T=new X0;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=xS(this.apiClient,n);return f=he("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=ES(y),T=new K0;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=MS(this.apiClient,n);return f=he("{model}:predict",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u.then(y=>{const g=RS(y),T=new Q0;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=rS(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>ku(T))}else{const g=sS(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>Iu(T))}}async listInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=gS(this.apiClient,n);return p=he("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=yS(T),x=new Vm;return Object.assign(x,S),x})}else{const g=mS(this.apiClient,n);return p=he("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=pS(T),x=new Vm;return Object.assign(x,S),x})}}async update(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=HS(this.apiClient,n);return p=he("{model}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>ku(T))}else{const g=PS(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>Iu(T))}}async delete(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Eb(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=wb(T),x=new Bm;return Object.assign(x,S),x})}else{const g=xb(this.apiClient,n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Cb(T),x=new Bm;return Object.assign(x,S),x})}}async countTokens(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Tb(this.apiClient,n);return p=he("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Sb(T),x=new Om;return Object.assign(x,S),x})}else{const g=vb(this.apiClient,n);return p=he("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=bb(T),x=new Om;return Object.assign(x,S),x})}}async computeTokens(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=db(this.apiClient,n);return f=he("{model}:computeTokens",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const g=fb(y),T=new Z0;return Object.assign(T,g),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Zb(this.apiClient,n);return p=he("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m.then(T=>{const S=Kb(T),x=new is;return Object.assign(x,S),x})}else{const g=Qb(this.apiClient,n);return p=he("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m.then(T=>{const S=Xb(T),x=new is;return Object.assign(x,S),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sx extends Yi{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Y0(n);return p=he("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json()),m}else{const g=O0(n);return p=he("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),m}}async fetchPredictVideosOperationInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=z0(n);return f=he("{resourceName}:fetchPredictOperation",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xx(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["data"]);o!=null&&d(n,["data"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function Ex(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Dx(f))),d(n,["parts"],u)}const s=r(i,["role"]);return s!=null&&d(n,["role"],s),n}function Cx(i,n,o){const s={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&d(o,["expireTime"],u);const f=r(n,["newSessionExpireTime"]);o!==void 0&&f!=null&&d(o,["newSessionExpireTime"],f);const m=r(n,["uses"]);o!==void 0&&m!=null&&d(o,["uses"],m);const p=r(n,["liveConnectConstraints"]);o!==void 0&&p!=null&&d(o,["bidiGenerateContentSetup"],Rx(i,p));const y=r(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),s}function wx(i,n){const o={},s=r(n,["config"]);return s!=null&&d(o,["config"],Cx(i,s,o)),o}function Ax(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&d(n,["fileUri"],o);const s=r(i,["mimeType"]);return s!=null&&d(n,["mimeType"],s),n}function _x(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&d(n,["enableWidget"],o),n}function Nx(i){const n={},o=r(i,["timeRangeFilter"]);if(o!=null&&d(n,["timeRangeFilter"],o),r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function Mx(i,n){const o={},s=r(i,["generationConfig"]);n!==void 0&&s!=null&&d(n,["setup","generationConfig"],s);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&d(n,["setup","generationConfig","responseModalities"],u);const f=r(i,["temperature"]);n!==void 0&&f!=null&&d(n,["setup","generationConfig","temperature"],f);const m=r(i,["topP"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","topP"],m);const p=r(i,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=r(i,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const g=r(i,["mediaResolution"]);n!==void 0&&g!=null&&d(n,["setup","generationConfig","mediaResolution"],g);const T=r(i,["seed"]);n!==void 0&&T!=null&&d(n,["setup","generationConfig","seed"],T);const S=r(i,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],Bu(S));const x=r(i,["thinkingConfig"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","thinkingConfig"],x);const N=r(i,["enableAffectiveDialog"]);n!==void 0&&N!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],N);const L=r(i,["systemInstruction"]);n!==void 0&&L!=null&&d(n,["setup","systemInstruction"],Ex(Lt(L)));const z=r(i,["tools"]);if(n!==void 0&&z!=null){let ee=Ll(z);Array.isArray(ee)&&(ee=ee.map(O=>kx(Ul(O)))),d(n,["setup","tools"],ee)}const W=r(i,["sessionResumption"]);n!==void 0&&W!=null&&d(n,["setup","sessionResumption"],Ix(W));const q=r(i,["inputAudioTranscription"]);n!==void 0&&q!=null&&d(n,["setup","inputAudioTranscription"],q);const k=r(i,["outputAudioTranscription"]);n!==void 0&&k!=null&&d(n,["setup","outputAudioTranscription"],k);const F=r(i,["realtimeInputConfig"]);n!==void 0&&F!=null&&d(n,["setup","realtimeInputConfig"],F);const ne=r(i,["contextWindowCompression"]);n!==void 0&&ne!=null&&d(n,["setup","contextWindowCompression"],ne);const se=r(i,["proactivity"]);return n!==void 0&&se!=null&&d(n,["setup","proactivity"],se),o}function Rx(i,n){const o={},s=r(n,["model"]);s!=null&&d(o,["setup","model"],Ge(i,s));const u=r(n,["config"]);return u!=null&&d(o,["config"],Mx(u,o)),o}function Dx(i){const n={},o=r(i,["videoMetadata"]);o!=null&&d(n,["videoMetadata"],o);const s=r(i,["thought"]);s!=null&&d(n,["thought"],s);const u=r(i,["inlineData"]);u!=null&&d(n,["inlineData"],xx(u));const f=r(i,["fileData"]);f!=null&&d(n,["fileData"],Ax(f));const m=r(i,["thoughtSignature"]);m!=null&&d(n,["thoughtSignature"],m);const p=r(i,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=r(i,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const g=r(i,["executableCode"]);g!=null&&d(n,["executableCode"],g);const T=r(i,["functionResponse"]);T!=null&&d(n,["functionResponse"],T);const S=r(i,["text"]);return S!=null&&d(n,["text"],S),n}function Ix(i){const n={},o=r(i,["handle"]);if(o!=null&&d(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function kx(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(T=>T)),d(n,["functionDeclarations"],g)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=r(i,["googleSearch"]);s!=null&&d(n,["googleSearch"],Nx(s));const u=r(i,["googleSearchRetrieval"]);if(u!=null&&d(n,["googleSearchRetrieval"],u),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=r(i,["googleMaps"]);f!=null&&d(n,["googleMaps"],_x(f));const m=r(i,["urlContext"]);m!=null&&d(n,["urlContext"],m);const p=r(i,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=r(i,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ux(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const u=Object.keys(s).map(f=>`${o}.${f}`);n.push(...u)}else n.push(o)}return n.join(",")}function Lx(i,n){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const f=Ux(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];u.length>0&&(p=u.map(g=>m.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),p.length>0&&y.push(...p),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class zx extends Yi{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=wx(this.apiClient,n);f=he("auth_tokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query;const y=Lx(p,n.config);return u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Px(i,n){const o={},s=r(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function Hx(i,n){const o={},s=r(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function qx(i,n,o){const s={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&d(n,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=r(i,["epochCount"]);n!==void 0&&f!=null&&d(n,["tuningTask","hyperparameters","epochCount"],f);const m=r(i,["learningRateMultiplier"]);if(m!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=r(i,["batchSize"]);n!==void 0&&p!=null&&d(n,["tuningTask","hyperparameters","batchSize"],p);const y=r(i,["learningRate"]);if(n!==void 0&&y!=null&&d(n,["tuningTask","hyperparameters","learningRate"],y),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return s}function Gx(i,n,o){const s={},u=r(i,["validationDataset"]);n!==void 0&&u!=null&&d(n,["supervisedTuningSpec"],tE(u));const f=r(i,["tunedModelDisplayName"]);n!==void 0&&f!=null&&d(n,["tunedModelDisplayName"],f);const m=r(i,["description"]);n!==void 0&&m!=null&&d(n,["description"],m);const p=r(i,["epochCount"]);n!==void 0&&p!=null&&d(n,["supervisedTuningSpec","hyperParameters","epochCount"],p);const y=r(i,["learningRateMultiplier"]);n!==void 0&&y!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const g=r(i,["exportLastCheckpointOnly"]);n!==void 0&&g!=null&&d(n,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const T=r(i,["adapterSize"]);if(n!==void 0&&T!=null&&d(n,["supervisedTuningSpec","hyperParameters","adapterSize"],T),r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=r(i,["labels"]);return n!==void 0&&S!=null&&d(n,["labels"],S),s}function Vx(i,n){const o={},s=r(i,["baseModel"]);s!=null&&d(o,["baseModel"],s);const u=r(i,["preTunedModel"]);u!=null&&d(o,["preTunedModel"],u);const f=r(i,["trainingDataset"]);f!=null&&d(o,["tuningTask","trainingData"],Wx(f));const m=r(i,["config"]);return m!=null&&qx(m,o),o}function Bx(i,n){const o={},s=r(i,["baseModel"]);s!=null&&d(o,["baseModel"],s);const u=r(i,["preTunedModel"]);u!=null&&d(o,["preTunedModel"],u);const f=r(i,["trainingDataset"]);f!=null&&$x(f,o);const m=r(i,["config"]);return m!=null&&Gx(m,o),o}function Ox(i,n){const o={},s=r(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function Yx(i,n){const o={},s=r(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function Fx(i,n,o){const s={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&d(n,["_query","pageSize"],u);const f=r(i,["pageToken"]);n!==void 0&&f!=null&&d(n,["_query","pageToken"],f);const m=r(i,["filter"]);return n!==void 0&&m!=null&&d(n,["_query","filter"],m),s}function Jx(i,n,o){const s={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&d(n,["_query","pageSize"],u);const f=r(i,["pageToken"]);n!==void 0&&f!=null&&d(n,["_query","pageToken"],f);const m=r(i,["filter"]);return n!==void 0&&m!=null&&d(n,["_query","filter"],m),s}function jx(i,n){const o={},s=r(i,["config"]);return s!=null&&Fx(s,o),o}function Xx(i,n){const o={},s=r(i,["config"]);return s!=null&&Jx(s,o),o}function Kx(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const u=r(i,["nextPageToken"]);u!=null&&d(o,["nextPageToken"],u);const f=r(i,["tunedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>Og(p))),d(o,["tuningJobs"],m)}return o}function Qx(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const u=r(i,["nextPageToken"]);u!=null&&d(o,["nextPageToken"],u);const f=r(i,["tuningJobs"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>Lu(p))),d(o,["tuningJobs"],m)}return o}function Zx(i,n){const o={},s=r(i,["name"]);s!=null&&d(o,["model"],s);const u=r(i,["name"]);return u!=null&&d(o,["endpoint"],u),o}function Wx(i,n){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=r(i,["examples"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["examples","examples"],u)}return o}function $x(i,n,o){const s={},u=r(i,["gcsUri"]);n!==void 0&&u!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],u);const f=r(i,["vertexDatasetResource"]);if(n!==void 0&&f!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],f),r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Og(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const u=r(i,["name"]);u!=null&&d(o,["name"],u);const f=r(i,["state"]);f!=null&&d(o,["state"],Cg(f));const m=r(i,["createTime"]);m!=null&&d(o,["createTime"],m);const p=r(i,["tuningTask","startTime"]);p!=null&&d(o,["startTime"],p);const y=r(i,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&d(o,["updateTime"],g);const T=r(i,["description"]);T!=null&&d(o,["description"],T);const S=r(i,["baseModel"]);S!=null&&d(o,["baseModel"],S);const x=r(i,["_self"]);return x!=null&&d(o,["tunedModel"],Zx(x)),o}function Lu(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const u=r(i,["name"]);u!=null&&d(o,["name"],u);const f=r(i,["state"]);f!=null&&d(o,["state"],Cg(f));const m=r(i,["createTime"]);m!=null&&d(o,["createTime"],m);const p=r(i,["startTime"]);p!=null&&d(o,["startTime"],p);const y=r(i,["endTime"]);y!=null&&d(o,["endTime"],y);const g=r(i,["updateTime"]);g!=null&&d(o,["updateTime"],g);const T=r(i,["error"]);T!=null&&d(o,["error"],T);const S=r(i,["description"]);S!=null&&d(o,["description"],S);const x=r(i,["baseModel"]);x!=null&&d(o,["baseModel"],x);const N=r(i,["tunedModel"]);N!=null&&d(o,["tunedModel"],N);const L=r(i,["preTunedModel"]);L!=null&&d(o,["preTunedModel"],L);const z=r(i,["supervisedTuningSpec"]);z!=null&&d(o,["supervisedTuningSpec"],z);const W=r(i,["tuningDataStats"]);W!=null&&d(o,["tuningDataStats"],W);const q=r(i,["encryptionSpec"]);q!=null&&d(o,["encryptionSpec"],q);const k=r(i,["partnerModelTuningSpec"]);k!=null&&d(o,["partnerModelTuningSpec"],k);const F=r(i,["customBaseModel"]);F!=null&&d(o,["customBaseModel"],F);const ne=r(i,["experiment"]);ne!=null&&d(o,["experiment"],ne);const se=r(i,["labels"]);se!=null&&d(o,["labels"],se);const ee=r(i,["outputUri"]);ee!=null&&d(o,["outputUri"],ee);const O=r(i,["pipelineJob"]);O!=null&&d(o,["pipelineJob"],O);const K=r(i,["serviceAccount"]);K!=null&&d(o,["serviceAccount"],K);const G=r(i,["tunedModelDisplayName"]);G!=null&&d(o,["tunedModelDisplayName"],G);const oe=r(i,["veoTuningSpec"]);return oe!=null&&d(o,["veoTuningSpec"],oe),o}function eE(i,n){const o={},s=r(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const u=r(i,["name"]);u!=null&&d(o,["name"],u);const f=r(i,["metadata"]);f!=null&&d(o,["metadata"],f);const m=r(i,["done"]);m!=null&&d(o,["done"],m);const p=r(i,["error"]);return p!=null&&d(o,["error"],p),o}function tE(i,n){const o={},s=r(i,["gcsUri"]);s!=null&&d(o,["validationDatasetUri"],s);const u=r(i,["vertexDatasetResource"]);return u!=null&&d(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nE extends Yi{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new qo(Oi.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),f=await this.tuneMldevInternal(u);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:Nu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Yx(n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>Lu(T))}else{const g=Ox(n);return p=he("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>Og(T))}}async listInternal(n){var o,s,u,f;let m,p="",y={};if(this.apiClient.isVertexAI()){const g=Xx(n);return p=he("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Qx(T),x=new Ym;return Object.assign(x,S),x})}else{const g=jx(n);return p=he("tunedModels",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(S=>{const x=S;return x.sdkHttpResponse={headers:T.headers},x})),m.then(T=>{const S=Kx(T),x=new Ym;return Object.assign(x,S),x})}}async cancel(n){var o,s,u,f;let m="",p={};if(this.apiClient.isVertexAI()){const y=Hx(n);m=he("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Px(n);m=he("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI()){const p=Bx(n);return f=he("tuningJobs",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>Lu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Vx(n);return f=he("tunedModels",p._url),m=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const T=g;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>eE(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iE{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lE=1024*1024*8,oE=3,aE=1e3,sE=2,wu="x-goog-upload-status";async function rE(i,n,o){var s,u,f;let m=0,p=0,y=new Mu(new Response),g="upload";for(m=i.size;p<m;){const S=Math.min(lE,m-p),x=i.slice(p,p+S);p+S>=m&&(g+=", finalize");let N=0,L=aE;for(;N<oE&&(y=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(p),"Content-Length":String(S)}}}),!(!((s=y==null?void 0:y.headers)===null||s===void 0)&&s[wu]));)N++,await cE(L),L=L*sE;if(p+=S,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[wu])!=="active")break;if(m<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const T=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[wu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return T.file}async function uE(i){return{size:i.size,type:i.type}}function cE(i){return new Promise(n=>setTimeout(n,i))}class dE{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await rE(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await uE(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fE{create(n,o,s){return new hE(n,o,s)}}class hE{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cg="x-goog-api-key";class mE{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(cg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(cg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gE="gl-node/";class pE{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=U0(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const u=new mE(this.apiKey);this.apiClient=new ex({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:gE+"web",uploader:new dE,downloader:new iE}),this.models=new bx(this.apiClient),this.live=new hx(this.apiClient,u,new fE),this.batches=new $v(this.apiClient),this.chats=new DT(this.models,this.apiClient),this.caches=new NT(this.apiClient),this.files=new VT(this.apiClient),this.operations=new Sx(this.apiClient),this.authTokens=new zx(this.apiClient),this.tunings=new nE(this.apiClient)}}const yE=i=>new Promise((n,o)=>{const s=new FileReader;s.onloadend=()=>{if(s.error)return o(s.error);const f=s.result.split(",")[1];n(f)},s.onerror=u=>o(u),s.readAsDataURL(i)}),vE=[{id:"floral-arch-door",name:"Floral Arch Doorway",name_vn:"Cng hoa",thumbnailUrl:"https://canvasvietnam.com/images/background1.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into A magnificent, ornate arched doorway of a stately building, lavishly adorned with a voluminous floral garland. The garland features a romantic blend of lush blush pink garden roses, smaller spray roses, and large, fluffy creamy white dahlias, interspersed with rich, dark green foliage (such as eucalyptus or ferns). The floral arrangement follows the entire arch, extending generously down both sides of the entrance, and culminates in two large, symmetrical floral arrangements flanking the base of the doorway. The doorway itself consists of double, dark, rich brown wooden doors with intricate carved panels and classic dark metal door handles/knobs. The arch is framed by light-colored stone or stucco, suggesting classic architectural details. The ground in front is a natural stone pathway, gently scattered with creamy white and pale pink rose petals. A few delicate petals appear to be floating or falling in the air, adding a whimsical touch. The scene is bathed in bright, soft natural daylight, creating gentle highlights and shadows that enhance texture and depth. The overall aesthetic is romantic, elegant, luxurious, and inviting.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"indoor-curtain-arch",name:"Indoor Curtain Arch",name_vn:"Cng trong nh",thumbnailUrl:"https://canvasvietnam.com/images/background3.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into an elegant indoor wedding ceremony backdrop. A beautiful arch is heavily decorated with white and cream roses and abundant green foliage. Two large white classical urns with matching floral arrangements stand on either side. The floor is white and strewn with white petals. In the background, soft, sheer white curtains are backlit by gentle sunlight, creating a dreamy and romantic atmosphere. Several white pillar candles are lit on the floor, adding to the warm ambiance.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"grand-window-room",name:"Grand Window Room",name_vn:"Phng ca s ln",thumbnailUrl:"https://canvasvietnam.com/images/background2.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into A grand, elegantly lit interior hall with a pristine, bright aesthetic. The central focus is a magnificent, tall, vertical display featuring objects positioned directly in front of a vast, ornate arched window. This window features intricate leaded glass detailing in the upper fanlight section, with multiple clear panes below, allowing abundant natural light to flood the space. The window is flanked by classical fluted columns with detailed golden Corinthian capitals, all set within a beautifully molded archway. The walls are smooth, rendered in a pristine palette of creamy white, ivory, and soft beige tones. The polished floor, also in light cream or white, reflects the bright light, creating a luminous and expansive feel. Sunlight streams through the window, casting soft, elongated shadows and bright highlights on the floor and architecture. The overall atmosphere is one of serene grandeur, classical elegance, and bright sophistication, reminiscent of a luxurious event space or neo-classical palace. The composition is centered, emphasizing the height and luminosity of the scene, with the [NEW SUBJECT] serving as the vibrant focal point against the softly lit architectural backdrop. Style: Neoclassical, luxurious, ethereal, bright, high-key photography, architectural elegance. Colors: Predominantly cream, ivory, soft white, pale gold accents, subtle warm undertones, with natural greens and soft blushes or colors complementary to the object.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Song H",thumbnailUrl:"https://canvasvietnam.com/images/background4.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that have setting featuring A large, central three-dimensional structure of "double happiness" () symbol is meticulously wrapped in rich, deep red satin fabric. The fabric exhibits elegant, soft folds and subtle creases, creating a luxurious, slightly ruffled texture and enhancing its three-dimensionality. Two vibrant floral arrangements adorn this red structure: one is positioned at its top-left, and the other at its bottom-right. Each arrangement features a lavish mix of crimson and scarlet flowers (such as small poinsettias or wild strawberries), delicate white or cream blossoms (like jasmine or tiny apple blossoms), clusters of bright red berries, and abundant dark green pine-like foliage. These bouquets possess depth and natural layering. Numerous individual red flower petals are scattered throughout the scene, some gently floating in the mid-air around the central red form, and a higher concentration softly resting on the ground in the bottom half of the frame. The petals are depicted with subtle variations in shape and orientation, suggesting natural movement. The background is a clean, warm, and uniform light beige or off-white, providing a neutral canvas that makes the red and green elements pop. The lighting is soft, diffuse, and even, casting gentle shadows that define the contours of the fabric-wrapped form and the textures of the floral arrangements, creating a refined and celebratory atmosphere. The overall composition is balanced and elegant, with the main subject prominently centered. The perspective is eye-level to slightly elevated, looking down just enough to show the scattered petals on the ground.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Tri tim hng",thumbnailUrl:"https://canvasvietnam.com/images/background5.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that A breathtaking, romantic landscape designed to embody the essence of love and devotion, perfect for a Valentine's Day setting. The scene is set in a vast field of delicate pink cherry blossoms, with soft petals gently swaying in the breeze. The entire landscape is immersed in a romantic pink hue, with rolling hills and distant mountains in the background, adding depth to the composition. The sky is a brilliant azure blue, scattered with fluffy white clouds, illuminated by the golden rays of the sun, casting a warm, ethereal glow over the scenery. At the center, a magnificent floral heart sculpture made entirely of vibrant pink blossoms stands as a grand centerpiece, symbolizing eternal love. The heart is adorned with delicate white butterflies, their wings shimmering in the sunlight as they flutter gracefully in the air. More pink butterflies fill the sky, creating a sense of movement and magic. The foreground is filled with blooming rose bushes and cherry blossom branches, framing the scene perfectly and adding an extra layer of depth to the composition. The soft-focus effect on the flowers in the foreground enhances the dreamy aesthetic of the scene. Everything in the image is designed to evoke an overwhelming sense of love, warmth, and happiness, making it the perfect setting for a romantic Valentine's Day celebrationan unforgettable paradise of beauty and passion
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Nn en kim tuyn",thumbnailUrl:"https://canvasvietnam.com/images/background6.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features a dramatic and deep sense of space. A powerful, defined, and volumetric light ray originates from the top-center, extending downwards and slightly fanning out, dramatically cutting through the scene and illuminating floating particles. The light source itself is unseen, implied to be off-frame. The bottom third of the image is dominated by a dense, horizontal band of finely textured, glowing glitter, resembling a magical ground or surface. The mid-ground is densely filled with numerous bokeh circles and sparkling particulate matter, varying significantly in size from large, soft-focus spheres to tiny, pinprick glimmers. The upper-left quadrant is intentionally left relatively clear to accommodate a potential main subject, while still interacting with the overall atmospheric effects. The composition should convey profound depth and a sense of wonder.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Nn en huyn o",thumbnailUrl:"https://canvasvietnam.com/images/background7.jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that have detailed, atmospheric cosmic dreamscape featuring a dramatic, ethereal beam of light originating from the top center and fanning downwards through a dark, deep indigo-blue and black starry night sky. Countless small, shimmering white and silver star-like dust particles are scattered across the entire image, appearing denser and more luminous within the celestial light beam. Some larger, brighter star glints are also present, adding depth to the starry field. The overall style is dreamy, romantic, and enchanting, with a soft, glowing ambiance.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"N trng hoa",thumbnailUrl:"https://canvasvietnam.com/images/background (1).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a beautiful, grand backdrop featuring a gigantic, luxurious fabric bow in white, adorned with small, delicate 3D appliqu pastel flowers. This bow serves as an exquisite, elegant setting for the couple, draping elegantly behind and around them without overpowering their presence. The fabric has a smooth, lustrous texture (silk, satin). The background is a seamless, high-key studio backdrop in a very light, warm off-white or cream. Delicate clusters of realistic wild-style flowers and greenery in complementary pastel tones appear on the ground plane, subtly enhancing the scene. The couple should be prominently featured, taking up a significant portion of the frame, well-integrated with the grandeur of the bow. The image is illuminated by soft, diffused, and even studio lighting that creates subtle shadows and gentle highlights, emphasizing the curves and dimensionality of the main subject. The couple should be prominently featured, taking up a significant portion of the frame, well-integrated with the grandeur of the background.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Ngi nh bm bm",thumbnailUrl:"https://canvasvietnam.com/images/background (2).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring Monochromatic white ethereal scene, archways, abundant white flowers and branches, numerous white butterflies, soft lighting, serene, dreamy, elegant, wedding aesthetic, ultra realistic.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa v bm",thumbnailUrl:"https://canvasvietnam.com/images/background (3).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring a multi-tiered white circular podium or stage, suggesting a display platform. Behind this podium, there's a backdrop of white architectural arches, creating a sense of depth and elegance. The overall color scheme is predominantly white and light grey, contributing to a clean, serene, and almost heavenly atmosphere, What makes the image truly enchanting is the abundant natural elements: Delicate white flowering branches (resembling cherry blossoms or baby's breath) are artfully draped around and through the arches, as well as surrounding the base of the podium. These blossoms add texture and a soft, organic feel to the stark white architecture, Interspersed with the white flowers are clusters of light pink flowers, providing a gentle pop of color and warmth, Numerous butterflies in shades of white and soft pink are scattered throughout the scene, some appearing to fly, others resting on the branches and podium. They enhance the magical and whimsical quality of the image, suggesting movement and life. The lighting appears soft and even, highlighting the clean lines of the architecture and the delicate details of the flowers and butterflies.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Hong hn tm",thumbnailUrl:"https://canvasvietnam.com/images/background (5).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring a dreamy landscape, large arch covered in purple wisteria flowers, flying butterflies, sunset sky with purple and pink clouds, calm lake, mountains in background, serene, magical atmosphere, ultra realistic.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa trng",thumbnailUrl:"https://canvasvietnam.com/images/background (9).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring A breathtakingly ethereal and serene architectural fantasy scene. A grand, classical hallway stretches into the distance, lined with elegant white columns and majestic arches. The entire space is bathed in brilliant, soft, diffused light, emanating from a distant, unseen opening at the end of the hall, creating a strong sense of depth and a luminous, high-key atmosphere. Abundant, delicate white blossoms with subtle greenish-yellow centers cascade throughout the scene. These flowers form dense, voluminous bushes and soft, conical piles along the base of the columns and the sides of the pathway, resembling stylized floral snowdrifts. Slender, dark branches heavily laden with these white blossoms gracefully extend into the foreground and upper portions of the frame, framing the arched pathways. Some individual petals appear to gently float or fall, caught in the light. The dominant color palette is pure white, off-white, and very light grey, with subtle cool undertones of pale blue in the distant light and on the polished floor. The white architecture features intricate, baroque-inspired relief carvings on the high arches and ceiling, adding texture and grandeur. Strong, clear sunlight casts crisp, artistic shadows of the floral branches and architectural details onto the pale, reflective floor, adding depth, rhythm, and visual interest. The composition features a slightly low-angle perspective, emphasizing the grandeur of the architecture and the overwhelming beauty of the blossoms. The receding arches and layered floral arrangements create strong leading lines, drawing the eye towards the bright, mystical vanishing point. The overall style is hyperrealistic yet dreamlike and fantastical, focusing on delicate textures, soft, cinematic lighting, and a feeling of pristine tranquility.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa hong hn",thumbnailUrl:"https://canvasvietnam.com/images/background (10).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that featuring a breathtaking, romantic backdrop featuring a majestic floral archway, richly adorned with lush pastel pink roses, lavender, and various purple blossoms. This vibrant archway stands prominently behind the couple, framing them beautifully. The background opens up to a serene, still body of water, leading to a soft, glowing horizon under a sky painted with gentle blues, purples, lavenders, and blush pinks, suggesting dawn or twilight. Numerous vibrant purple and pink butterflies flutter around the arch and above the water. Delicate, blossoming tree branches extend from the top corners of the frame, adding depth. The water's edge is adorned with dense, flowering flora, and the reflective water surface mirrors the pastel hues. The couple should be prominently positioned in the foreground, large and clearly visible, making them the central focus of this dreamy and tranquil scene. The aesthetic is fantasycore and romantic, with diffused, magical lighting.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Thin ng",thumbnailUrl:"https://canvasvietnam.com/images/background (11).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features a magnificent, ethereal classical interior. The couple should be very large, filling the majority of the vertical frame, from near the bottom edge to just below the top, making them the absolute central and dominant focus. They stand gracefully on a highly reflective white marble floor, which is dramatically filled with soft, billowy white cumulus clouds. In the background, three tall, arched windows look out onto a sky filled with more white clouds, allowing bright, atmospheric light and dramatic shafts of warm sunlight to stream into the room. The walls and ornate ceiling display intricate white classical plasterwork. The overall aesthetic is pristine, immersive, and otherworldly, with a strong sense of depth.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa trng",thumbnailUrl:"https://canvasvietnam.com/images/background (12).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features A grand, opulent archway meticulously adorned with an abundance of pristine white floral arrangements, primarily featuring dense clusters of white cherry blossoms, delicate baby's breath, and full, elegant white hydrangeas and roses, creating a lush, cascading, and voluminous effect. Numerous ethereal white and cream-colored butterflies are gracefully scattered throughout the floral arch and artfully fluttering around it, some appearing to ascend or descend. The arch frames an empty, serene space. To the left, a classic, off-white paneled wall with subtle architectural molding. To the right, tall, arched windows with sheer, translucent white curtains allow diffused, bright natural light to stream in, creating a soft glow. The floor is a seamless, luminous white, reflecting some of the light and casting subtle, elongated shadows. The overall lighting is high-key, soft, and volumetric, generating a dreamlike, airy, and elegant atmosphere with gentle backlighting from the windows. The color palette is monochromatic, dominated by pure whites, creams, ivories, and subtle off-whites, with minimal warm beige or light grey undertones in the shadows and butterfly wings. The composition is wide, with the magnificent floral arch serving as the central, dominant element, perfectly framing the empty space within. The arch extends from the floor on both sides, meeting at the top, creating a visually symmetrical yet dynamic focal point. The delicate details of each petal and butterfly wing are rendered in ultra-high resolution with a photorealistic, award-winning quality.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa thin ng",thumbnailUrl:"https://canvasvietnam.com/images/background (20).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features A grand, classical white architectural archway, heavily adorned and overflowing with abundant, delicate white blossoms and lush, subtle green foliage. The arch is centered in the frame, serving as a majestic gateway. Beyond the arch, a vibrant, clear light blue sky with soft, wispy white clouds stretches across the background. Through the archway, a distant landscape reveals pristine white steps leading up to an elevated platform, surrounded by fields of more delicate white flowers and foliage, creating a sense of depth and a serene horizon.
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"C xanh",thumbnailUrl:"https://canvasvietnam.com/images/background (15).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features The couple is positioned slightly off-center, with ample bright, natural light on their faces and attire. The background is a lush, vibrant green field with softly blurred trees and foliage, indicating a shallow depth of field (bokeh) that keeps the couple sharply in focus. The lighting is warm and soft, suggestive of a golden hour, with the sun gently backlighting the bride's veil, creating a luminous, ethereal effect. The overall mood is tender, serene, and deeply romantic. The colors are dominated by vibrant greens, pristine whites, warm skin tones, and subtle blacks.
3. Crucially, you must create a photorealistic final image. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Bi bin hong hn",thumbnailUrl:"https://canvasvietnam.com/images/background (19).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features a serene beach at either sunrise or sunset. The sky is a stunning gradient of soft blues at the top, transitioning into warm oranges, pinks, and purples towards the horizon, illuminated by a radiant, glowing sun slightly above the horizon, casting a bright reflection path across the water. Fluffy, voluminous cumulus clouds are scattered across the sky, catching the warm light with their undersides. A delicate crescent moon, subtly glowing, is visible high in the sky. Gentle ocean waves roll onto a sandy beach, leaving foamy white surf. In the immediate foreground, vibrant white and pink daisy-like flowers with green foliage are artfully arranged along the edge of the sand, adding a touch of natural beauty and color. The sandy beach shows subtle footprints. The overall mood is tranquil, romantic, and ethereal, with soft, natural lighting and a dreamlike quality
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.`},{id:"double-happiness",name:"Double Happiness",name_vn:"Cng hoa gng",thumbnailUrl:"https://canvasvietnam.com/images/background (25).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features A tranquil and ethereal outdoor setting with prominent classical architectural elements. The scene features two large, elegant white arched structures, reminiscent of Roman or Greek architecture, framing a central view. Abundant clusters of delicate white cherry blossoms (or similar white flowers) with subtle green foliage are gracefully draped over and around these arches, extending into the foreground and sides of the frame. The ground beneath is a highly reflective, polished marble or water surface, mirroring the blue sky, white clouds, and the white blossoms above. In the background, visible through the arches, is a bright, clear blue sky dotted with soft, fluffy white cumulus clouds. Below the horizon line, a calm, expansive body of water (or a reflective floor extending to the horizon) perfectly mirrors the sky. The lighting is bright, soft, and natural, creating subtle highlights and shadows that emphasize the pristine white elements. The overall aesthetic is clean, dreamlike, and romantic, evoking a sense of purity and calmness
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
4. Make sure the subject(s) size 75% of the frame's height, the background is only serving as a grand and heavenly backdrop for the subject(s)`},{id:"double-happiness",name:"Double Happiness",name_vn:"Vi la hoa",thumbnailUrl:"https://canvasvietnam.com/images/background (25).jpg",prompt:`ROLE: Professional Photo Editor.
TASK: Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
INSTRUCTIONS:
1. Identify and isolate the primary subject(s) from the first image.
2. Place the isolated subject(s) into a background that features An elegant and lush wedding or event decor setup, captured from a medium-low perspective, emphasizing abundance and natural sophistication. The background features a soft, flowing backdrop of pristine white or off-white fabric drapes, artfully gathered and draped with a prominent central U-shaped swag, framed by vertical folds on either side. From the top of the drapes, graceful strands of dark green foliage, resembling weeping willow branches, cascade downwards, adding a natural and organic touch. On the far left, natural outdoor light illuminates a glimpse of green trees and foliage, suggesting an open-air or semi-outdoor venue. In the midground, a long banquet table, covered with a crisp white tablecloth, is adorned with an extensive and opulent display of fresh floral arrangements. These arrangements are predominantly white and off-white, showcasing a rich variety of blooms including full white roses, fluffy hydrangeas, dense dahlias, and delicate smaller white blossoms. They are generously interspersed with touches of fresh light green and chartreuse foliage and flowers, such as ornamental cabbage or textured green leaves, providing subtle color variation. The floral displays are dense, lush, and continuous, forming a celebratory garland across the entire length of the table. Towards the right, the table covering transitions to a simpler, plain light grey or white surface. Below the table, at ground level, are large, rectangular arrangements of dense dark green foliage heavily studded with small white flowers, resembling elegant flower boxes or planters that complement the table decor. The foreground consists of a dark grey, subtly textured ground surface, appearing like stone or concrete paving, with faint lighter striations and specks. Small, natural clusters of white and light green flowers nestled within dark green foliage are also scattered directly on the ground in the foreground, mirroring the grander arrangements above. The overall aesthetic is one of sophisticated natural elegance, with a romantic, fresh, and serene ambiance. The dominant color palette is pure whites, creams, light greens, and deep greens, creating a harmonious and monochromatic feel. The lighting is soft, natural, and diffused, indicative of a bright daytime setting, casting gentle shadows that enhance the textures of the fabric and flowers. This image should be rendered in a high-resolution, professional photography style.
3. Crucially, you must create a Medium-full shot photorealistic final image of the subject(s), prominently featured to occupy 75% of the frame's height. This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
4. Make sure the subject(s) size 75% of the frame's height, the background is only serving as a grand and heavenly backdrop for the subject(s)`}],TE=({onSelectTemplate:i,onClose:n})=>{const{language:o,t:s}=dt();return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:s("chooseBackground")}),v.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:vE.map(u=>v.jsxs("div",{className:"cursor-pointer group",onClick:()=>i(u.prompt),children:[v.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg overflow-hidden border-2 border-transparent group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200",children:v.jsx("img",{src:u.thumbnailUrl,alt:u.name,className:"w-full h-full object-cover"})}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:o==="vn"?u.name_vn:u.name})]},u.id))})})]})})},bE=[{id:"none",name:"filterNone",className:""},{id:"vintage",name:"filterVintage",className:"filter-vintage"},{id:"lomo",name:"filterLomo",className:"filter-lomo"},{id:"clarendon",name:"filterClarendon",className:"filter-clarendon"},{id:"gingham",name:"filterGingham",className:"filter-gingham"},{id:"moon",name:"filterMoon",className:"filter-moon"},{id:"nashville",name:"filterNashville",className:"filter-nashville"},{id:"xpro2",name:"filterXpro2",className:"filter-xpro2"},{id:"willow",name:"filterWillow",className:"filter-willow"}],SE="https://api.allorigins.win/raw?url=https%3A%2F%2Fimages.unsplash.com%2Fphoto-1500964757637-c85e8a162699%3Fq%3D80%26w%3D400",xE=({onSelectFilter:i,onClose:n})=>{const{t:o}=dt();return v.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col text-white",onClick:s=>s.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[v.jsx("h2",{className:"text-lg font-semibold",children:o("colorGrading")}),v.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-600",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:bE.map(s=>v.jsxs("div",{className:"cursor-pointer group",onClick:()=>{i(s.className),n()},children:[v.jsx("div",{className:"aspect-square bg-gray-700 rounded-md overflow-hidden border-2 border-transparent group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200",children:v.jsx("img",{src:SE,alt:o(s.name),className:`w-full h-full object-cover ${s.className}`})}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-300 group-hover:text-white",children:o(s.name)})]},s.id))})})]})})},EE=[{id:"watercolor",name:"indoor Lighting",name_vn:"nh sng trong phng",thumbnailUrl:"https://canvasvietnam.com/images/effect1.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Window light soft glow, natural daylight streaming through, soft highlights on hair and clothes, gentle shadows. Curtain diffused light, sunlight filtered through sheer curtains, warm and intimate indoor mood. Lamp warm glow, cozy golden highlights on hair, face and outfit, evening atmosphere. Ceiling light downcast, overhead illumination creating shadows under eyes and nose, dramatic indoor look. Chandelier sparkle, elegant highlights on hair and outfit, luxurious atmosphere. TV or screen glow, cool bluish light on face and clothes, cinematic night mood. Fireplace flicker, warm flickering highlights on hair and outfit, soft dancing shadows on walls. Candlelight intimacy, golden flickering glow on face, subtle reflections on clothes, romantic vintage vibe. Kitchen fluorescent light, harsh cool tones, flat shadows, realistic everyday atmosphere. Indoor spotlight, focused beam illuminating subject, dramatic contrast, theatrical mood".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
       `},{id:"oil-painting",name:"Gold hour lighting",name_vn:"Gi nng gi vng",thumbnailUrl:"https://canvasvietnam.com/images/effect2.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Golden hour backlighting with warm tones, soft rim light outlining hair, clothing, and contours of the subject. Gentle lens flare from the sunlight enhances the dreamy mood, while long natural shadows fall across the ground for depth and realism.".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"pop-art",name:"Fog",name_vn:"Sng m",thumbnailUrl:"https://canvasvietnam.com/images/effect3.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Fill the entire scene with extremely thick, impenetrable fog. The mist should be so dense that it almost completely erases the background and surroundings, leaving only faint, ghostly silhouettes barely visible in the distance. The atmosphere must feel heavy, overwhelming, and otherworldly, with layers of fog pressing against the scene like a white-gray curtain. The main subject in the foreground remains sharp and clear, while everything else is swallowed by the massive wall of fog. Hyper-cinematic, highly atmospheric, ultra-detailed, surreal".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"fantasy-dreamy",name:"Snow",name_vn:"Tuyt ri",thumbnailUrl:"https://canvasvietnam.com/images/effect4.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Snowfall scene with soft white snowflakes gently falling through the air, snow resting on hair, clothing, and surrounding environment. Cold bluish ambient tones with soft diffused light, creating a serene winter atmosphere. Subtle highlights on frosty textures, misty breath visible in the air.".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"cyberpunk-neon",name:"Indoor Window Shadow",name_vn:"nh sng qua ca s",thumbnailUrl:"https://canvasvietnam.com/images/effect5.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Golden hour sunlight filtered through window blinds, striped light patterns across face, hair, and clothes, dramatic shadows on the wall".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"cyberpunk-neon",name:"Night lighting",name_vn:"nh sng ban m",thumbnailUrl:"https://canvasvietnam.com/images/effect6.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "- Streetlight glow, warm yellow-orange pools of light, scattered shadows on the ground. Neon cinematic lighting, pink and blue reflections on skin and clothes. Soft moonlight, bluish tones, gentle shadows, calm night mood. Harsh on-camera flash at night, subject brightly lit, dark background. Car headlight backlight, strong rim light, atmospheric haze and smoke. Lantern warm glow, soft golden light, vintage magical mood".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `},{id:"cyberpunk-neon",name:"Sunset lighting",name_vn:"Hong hn",thumbnailUrl:"https://canvasvietnam.com/images/effect7.jpg",prompt:`
            **ROLE: Professional Photo Editor.**
            **TASK:** Your task is to expertly replace the background of the first image (the original subject). You must meticulously cut out the subject and place it seamlessly into the new background.
            **INSTRUCTIONS:**
            1.  Identify and isolate the primary subject(s) from the first image.
            2.  Place the isolated subject(s) into the new context placing the subject into a new background described as: "Golden hour warm backlight, glowing orange tones, long soft shadows. Blue hour ambient light, cool and dreamy atmosphere, soft gradient sky. Artistic sun flare, lens flare streaks, cinematic glow. Split light sunset, half illuminated face, dramatic shadow contrast".
            3.  **Crucially, you must create a photorealistic final image.** This means harmonizing lighting, shadows, color grading, and perspective between the subject and the new background. The final result should look like a single, professionally taken photograph, not a composite.
        `}],CE=({onSelectTemplate:i,onClose:n})=>{const{language:o,t:s}=dt();return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:s("chooseEffect")}),v.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:EE.map(u=>v.jsxs("div",{className:"cursor-pointer group",onClick:()=>i(u.prompt),children:[v.jsx("div",{className:"aspect-[3/4] bg-gray-200 rounded-lg overflow-hidden border-2 border-transparent group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200",children:v.jsx("img",{src:u.thumbnailUrl,alt:u.name,className:"w-full h-full object-cover"})}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:o==="vn"?u.name_vn:u.name})]},u.id))})})]})})},wE=({data:i,spreadId:n,slotId:o,isMobile:s,onTransformChange:u,onRemove:f,isOverviewMode:m,onEnterEditMode:p,onExitEditMode:y,onAiRetouchImage:g})=>{const{image:T,transform:S}=i,{x,y:N,scale:L,rotation:z,flipHorizontal:W,flipVertical:q}=S,[k,F]=Z.useState(!1),[ne,se]=Z.useState(!1),[ee,O]=Z.useState(!1),[K,G]=Z.useState("transform"),[oe,ie]=Z.useState(!1),[de,Ee]=Z.useState(!1),[Le,Re]=Z.useState(!1),[M,Q]=Z.useState(!1),ae=Z.useRef(null),ye=Z.useRef(null),ve=Z.useRef({x:0,y:0,imageX:0,imageY:0}),[w,P]=Z.useState({}),le=Z.useRef(0),{t:$}=dt();Z.useEffect(()=>{const ue=ye.current,Pe=ae.current,Qe=()=>{if(!ue||!Pe)return;const{naturalWidth:$e,naturalHeight:et}=ue,{offsetWidth:st,offsetHeight:wt}=Pe;if(!$e||!et||!st||!wt)return;const At=$e/et,Ze=st/wt;At>Ze?P({height:"100%",width:"auto"}):P({width:"100%",height:"auto"})};ue!=null&&ue.complete&&ue.naturalWidth>0?Qe():ue&&(ue.onload=Qe);const nt=new ResizeObserver(Qe);return Pe&&nt.observe(Pe),()=>{ue&&(ue.onload=null),Pe&&nt.disconnect()}},[T.url]);const Te=Z.useCallback((ue,Pe,Qe)=>{if(!ae.current||!ye.current)return{constrainedX:ue,constrainedY:Pe};const{width:nt,height:$e}=ae.current.getBoundingClientRect(),{naturalWidth:et,naturalHeight:st}=ye.current;if(et===0||st===0)return{constrainedX:ue,constrainedY:Pe};const wt=et/st,At=nt/$e;let Ze,tt;wt>At?(tt=$e*Qe,Ze=tt*wt):(Ze=nt*Qe,tt=Ze/wt);const rt=Math.max(0,(Ze-nt)/2),xi=Math.max(0,(tt-$e)/2),Fn=rt/nt*100,Jn=xi/$e*100,vn=Math.max(50-Fn,Math.min(ue,50+Fn)),jn=Math.max(50-Jn,Math.min(Pe,50+Jn));return{constrainedX:vn,constrainedY:jn}},[]),Se=ue=>{ue.stopPropagation(),ue.dataTransfer.setData("album/placed-image",JSON.stringify({spreadId:n,slotId:o})),ue.dataTransfer.effectAllowed="move",setTimeout(()=>{ae.current&&(ae.current.style.opacity="0.5")},0)},De=ue=>{ae.current&&(ae.current.style.opacity="1")},ge=ue=>{ne&&(ue.preventDefault(),ue.stopPropagation(),O(!0),ve.current={x:ue.clientX,y:ue.clientY,imageX:S.x,imageY:S.y})};Z.useEffect(()=>{const ue=Qe=>{if(!ee||!ae.current)return;const nt=Qe.clientX-ve.current.x,$e=Qe.clientY-ve.current.y,{width:et,height:st}=ae.current.getBoundingClientRect();if(et===0||st===0)return;const wt=ve.current.imageX+nt/et*100,At=ve.current.imageY+$e/st*100,{constrainedX:Ze,constrainedY:tt}=Te(wt,At,L);u({...S,x:Ze,y:tt})},Pe=()=>{O(!1)};return ee&&(window.addEventListener("mousemove",ue),window.addEventListener("mouseup",Pe)),()=>{window.removeEventListener("mousemove",ue),window.removeEventListener("mouseup",Pe)}},[ee,u,L,S,Te]);const Ie=ue=>{if(!ne||ue.touches.length!==1)return;ue.preventDefault(),ue.stopPropagation();const Pe=ue.touches[0],Qe={x:Pe.clientX,y:Pe.clientY,imageX:S.x,imageY:S.y},nt=ae.current;if(!nt)return;const $e=st=>{if(st.preventDefault(),st.touches.length!==1)return;const wt=st.touches[0],At=wt.clientX-Qe.x,Ze=wt.clientY-Qe.y,{width:tt,height:rt}=nt.getBoundingClientRect();if(tt===0||rt===0)return;const xi=Qe.imageX+At/tt*100,Fn=Qe.imageY+Ze/rt*100,{constrainedX:Jn,constrainedY:vn}=Te(xi,Fn,L);u({...S,x:Jn,y:vn})},et=st=>{st.preventDefault(),document.removeEventListener("touchmove",$e),document.removeEventListener("touchend",et),document.removeEventListener("touchcancel",et)};document.addEventListener("touchmove",$e,{passive:!1}),document.addEventListener("touchend",et,{passive:!1}),document.addEventListener("touchcancel",et,{passive:!1})},Et=ue=>{const{constrainedX:Pe,constrainedY:Qe}=Te(S.x,S.y,ue);u({...S,scale:ue,x:Pe,y:Qe})},Dt=ue=>{u({...S,rotation:(S.rotation+ue+360)%360})},Yt=()=>{u({...S,flipHorizontal:!S.flipHorizontal})},pn=()=>{u({...S,flipVertical:!S.flipVertical})},Ke=Z.useCallback(()=>{m||(se(!0),G("transform"),p==null||p(o))},[m,p,o]),Ft=Z.useCallback(()=>{se(!1),G("transform"),y==null||y()},[y]),bt=ue=>{u({...S,filter:ue})},yn=async ue=>{var Pe,Qe,nt,$e;ie(!0);try{const st=await(await fetch(i.image.url)).blob(),wt=await yE(st),tt=($e=(nt=(Qe=(Pe=(await new pE({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:wt,mimeType:st.type}},{text:ue}]},config:{responseModalities:[kl.IMAGE,kl.TEXT]}})).candidates)==null?void 0:Pe[0])==null?void 0:Qe.content)==null?void 0:nt.parts)==null?void 0:$e.find(rt=>rt.inlineData);if(tt!=null&&tt.inlineData)g(i.image.id,o,n,tt.inlineData.data,tt.inlineData.mimeType),Ft();else throw new Error("AI did not return an image.")}catch(et){console.error("AI task failed:",et),alert(`AI task failed: ${et instanceof Error?et.message:String(et)}`)}finally{ie(!1)}},bi=ue=>{Ee(!1),yn(ue)},Si=ue=>{Q(!1),yn(ue)},Yn=ue=>{if(ne)return;const Pe=new Date().getTime();Pe-le.current<300&&(ue.preventDefault(),Ke()),le.current=Pe},En=async ue=>{ue.stopPropagation();try{const Qe=await(await fetch(T.url)).blob(),nt=window.URL.createObjectURL(Qe),$e=document.createElement("a");$e.style.display="none",$e.href=nt;const et=Qe.type.split("/")[1]||"jpg";$e.download=`photobook-image-${T.id}.${et}`,document.body.appendChild($e),$e.click(),window.URL.revokeObjectURL(nt),document.body.removeChild($e)}catch(Pe){console.error("Error downloading image:",Pe),alert($("downloadError"))}};Z.useEffect(()=>{if(!ne)return;const ue=Pe=>{ae.current&&!ae.current.contains(Pe.target)&&Ft()};return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[ne,Ft]);const Pl=()=>v.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("label",{htmlFor:`zoom-${T.id}`,className:"text-xs font-medium text-white whitespace-nowrap",children:$("zoom")}),v.jsx("input",{id:`zoom-${T.id}`,type:"range",min:"1",max:"3",step:"0.01",value:L,onChange:ue=>Et(parseFloat(ue.target.value)),className:"w-full h-1.5 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),v.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[v.jsx("button",{onClick:()=>Dt(90),title:$("rotateRightTitle"),className:"p-1.5 text-white bg-gray-700/50 rounded hover:bg-gray-600/50",children:v.jsx(Jh,{className:"w-4 h-4"})}),v.jsx("div",{className:"h-5 border-l border-gray-600 mx-1"}),v.jsx("button",{onClick:Yt,title:$("flipHorizontalTitle"),className:"p-1.5 text-white bg-gray-700/50 rounded hover:bg-gray-600/50",children:v.jsx(Yh,{className:"w-4 h-4"})}),v.jsx("button",{onClick:pn,title:$("flipVerticalTitle"),className:"p-1.5 text-white bg-gray-700/50 rounded hover:bg-gray-600/50",children:v.jsx(Fh,{className:"w-4 h-4"})}),v.jsx("div",{className:"h-5 border-l border-gray-600 mx-1"}),v.jsx("button",{onClick:()=>Re(!0),title:$("colorGrading"),className:"p-1.5 text-white bg-orange-500/80 rounded hover:bg-orange-400/80",children:v.jsx(jh,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>G("ai"),title:$("aiRetouch"),className:"p-1.5 text-white bg-purple-600/80 rounded hover:bg-purple-500/80",children:v.jsx(ns,{className:"w-4 h-4"})}),v.jsx("div",{className:"h-5 border-l border-gray-600 mx-1"}),v.jsx("button",{onClick:Ft,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:v.jsx(Bi,{className:"w-4 h-4"})})]})]}),Hl=()=>v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("input",{"aria-label":$("zoom"),type:"range",min:"1",max:"3",step:"0.01",value:L,onChange:ue=>Et(parseFloat(ue.target.value)),className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-1",children:[v.jsx("button",{onClick:()=>Dt(90),title:$("rotateRightTitle"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",children:v.jsx(Jh,{className:"w-5 h-5"})}),v.jsx("div",{className:"h-6 border-l border-gray-600 mx-1"}),v.jsx("button",{onClick:Yt,title:$("flipHorizontalTitle"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",children:v.jsx(Yh,{className:"w-5 h-5"})}),v.jsx("button",{onClick:pn,title:$("flipVerticalTitle"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",children:v.jsx(Fh,{className:"w-5 h-5"})}),v.jsx("div",{className:"h-6 border-l border-gray-600 mx-1"}),v.jsx("button",{onClick:()=>Re(!0),title:$("colorGrading"),className:"p-2 text-white bg-orange-500/80 rounded-md hover:bg-orange-400/80",children:v.jsx(jh,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>G("ai"),title:$("aiRetouch"),className:"p-2 text-white bg-purple-600/80 rounded-md hover:bg-purple-500/80",children:v.jsx(ns,{className:"w-5 h-5"})})]}),v.jsx("button",{onClick:Ft,className:"p-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:v.jsx(Bi,{className:"w-5 h-5"})})]})]}),Ct=()=>v.jsxs("div",{className:"flex items-center justify-between gap-1 w-full",children:[v.jsx("button",{onClick:()=>G("transform"),title:$("back"),className:"p-2 text-white bg-gray-700/50 rounded-md hover:bg-gray-600/50",disabled:oe,children:v.jsx(x0,{className:s?"w-5 h-5":"w-4 h-4"})}),v.jsxs("div",{className:"flex items-center gap-1 flex-grow justify-center flex-wrap",children:[v.jsx("button",{onClick:()=>yn("Reduce minor blemishes and smooth skin texture while preserving character"),className:"px-2 py-2 text-xs md:text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",disabled:oe,children:$("skinRetouch")}),v.jsx("button",{onClick:()=>yn("Adjust background blur to make the subject stand out without overdoing it"),className:"px-2 py-2 text-xs md:text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",disabled:oe,children:$("blurBackground")}),v.jsx("button",{onClick:()=>Ee(!0),className:"px-2 py-2 text-xs md:text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",disabled:oe,children:$("replaceBackground")}),v.jsx("button",{onClick:()=>Q(!0),className:"px-2 py-2 text-xs md:text-sm text-white bg-green-600 rounded-md hover:bg-green-700 disabled:bg-gray-500",title:$("effects"),disabled:oe,children:$("effects")})]}),v.jsx("div",{className:"w-9 h-9 md:w-8 md:h-8"})]});return v.jsxs(v.Fragment,{children:[Le&&v.jsx(xE,{onSelectFilter:bt,onClose:()=>Re(!1)}),de&&v.jsx(TE,{onClose:()=>Ee(!1),onSelectTemplate:bi}),M&&v.jsx(CE,{onClose:()=>Q(!1),onSelectTemplate:Si}),v.jsxs("div",{ref:ae,className:`relative w-full h-full overflow-hidden select-none ${!ne&&!m?"cursor-move":""}`,onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),draggable:!ne&&!m,onDragStart:!ne&&!m?Se:void 0,onDragEnd:!ne&&!m?De:void 0,onDoubleClick:Ke,onTouchStart:Yn,title:!ne&&!m?$(s?"doubleTapToEdit":"doubleClickToEdit"):void 0,children:[v.jsx("div",{className:`w-full h-full ${ne?ee?"cursor-grabbing":"cursor-grab":""}`,onMouseDown:ge,onTouchStart:Ie,children:v.jsx("img",{ref:ye,src:T.url,alt:T.id,className:`absolute pointer-events-none ${S.filter||""}`,style:{transform:`translate(-50%, -50%) scale(${L}) rotate(${z}deg) scaleX(${W?-1:1}) scaleY(${q?-1:1})`,top:`${N}%`,left:`${x}%`,...w,maxWidth:"none",maxHeight:"none"}})}),oe&&v.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-30",children:[v.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-white"}),v.jsx("p",{className:"text-white mt-3 text-sm",children:$("aiRetouching")})]}),k&&!ne&&!m&&v.jsxs("div",{"data-hide-on-capture":"true",className:"absolute top-1 right-1 flex items-center space-x-1 bg-black/50 p-0.5 rounded-md z-10",children:[v.jsx("button",{onClick:Ke,className:"p-1 text-white hover:bg-white/30 rounded",title:$("editPhoto"),children:v.jsx(C0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:En,className:"p-1 text-white hover:bg-white/30 rounded",title:$("downloadImage"),children:v.jsx(b0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:f,className:"p-1 text-white hover:bg-red-500/80 rounded",title:$("removeImageTitle"),children:v.jsx(Pt,{className:"w-4 h-4"})})]}),ne&&v.jsx("div",{"data-hide-on-capture":"true",className:"absolute bottom-0 left-0 right-0 bg-black/60 backdrop-blur-sm p-2 z-20",onClick:ue=>ue.stopPropagation(),onMouseDown:ue=>ue.stopPropagation(),onTouchStart:ue=>ue.stopPropagation(),children:K==="transform"?s?Hl():Pl():Ct()})]})]})},AE=({textElement:i,onUpdateStyle:n})=>{const{style:o}=i,s=["Arial","Verdana","Times New Roman","Georgia","Courier New","Roboto","Playfair Display","Sacramento","Lobster","Pacifico","Bungee Spice","Press Start 2P","Anton"],u=[12,14,16,18,24,28,32,36,42,48,56,64,72];return v.jsxs("div",{className:"absolute -top-14 left-1/2 -translate-x-1/2 bg-gray-800 text-white rounded-md shadow-lg p-1 flex items-center flex-wrap justify-center gap-1 z-30 w-max max-w-xs md:max-w-none","data-text-toolbar":"true",onMouseDown:f=>f.stopPropagation(),children:[v.jsx("select",{value:o.fontFamily,onChange:f=>n({fontFamily:f.target.value}),className:"bg-gray-700 text-xs rounded px-1 py-0.5",children:s.map(f=>v.jsx("option",{value:f,children:f},f))}),v.jsx("select",{value:o.fontSize,onChange:f=>n({fontSize:parseInt(f.target.value,10)}),className:"bg-gray-700 text-xs rounded px-1 py-0.5",children:u.map(f=>v.jsxs("option",{value:f,children:[f," pt"]},f))}),v.jsx("input",{type:"color",value:o.color,onChange:f=>n({color:f.target.value}),className:"w-6 h-6 p-0.5 bg-gray-700 border-none rounded"}),v.jsx("div",{className:"h-5 border-l border-gray-600"}),v.jsx("button",{onClick:()=>n({bold:!o.bold}),className:`p-1 rounded ${o.bold?"bg-blue-500":"hover:bg-gray-700"}`,children:v.jsx(h0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>n({italic:!o.italic}),className:`p-1 rounded ${o.italic?"bg-blue-500":"hover:bg-gray-700"}`,children:v.jsx(m0,{className:"w-4 h-4"})}),v.jsx("div",{className:"h-5 border-l border-gray-600"}),v.jsx("button",{onClick:()=>n({align:"left"}),className:`p-1 rounded ${o.align==="left"?"bg-blue-500":"hover:bg-gray-700"}`,children:v.jsx(g0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>n({align:"center"}),className:`p-1 rounded ${o.align==="center"?"bg-blue-500":"hover:bg-gray-700"}`,children:v.jsx(p0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>n({align:"right"}),className:`p-1 rounded ${o.align==="right"?"bg-blue-500":"hover:bg-gray-700"}`,children:v.jsx(y0,{className:"w-4 h-4"})})]})},_E=({spreadId:i,data:n,isSelected:o,isOverviewMode:s,onSelect:u,onUpdate:f,onRemove:m})=>{const[p,y]=Z.useState(!1),[g,T]=Z.useState(!1),[S,x]=Z.useState(null),{t:N}=dt(),L=Z.useRef(null),z=Z.useRef({x:0,y:0,elX:0,elY:0,elW:0,elH:0}),W=(G,oe,ie)=>{if(p||s)return;G.stopPropagation(),u(n.id);const de="touches"in G?G.touches[0].clientX:G.clientX,Ee="touches"in G?G.touches[0].clientY:G.clientY;oe==="drag"?T(!0):oe==="resize"&&ie&&x(ie),z.current={x:de,y:Ee,elX:n.x,elY:n.y,elW:n.width,elH:n.height}};Z.useEffect(()=>{const G=ie=>{var Q;if(!L.current)return;ie instanceof TouchEvent&&ie.preventDefault();const de="touches"in ie?ie.touches[0].clientX:ie.clientX,Ee="touches"in ie?ie.touches[0].clientY:ie.clientY,Le=(Q=L.current.parentElement)==null?void 0:Q.getBoundingClientRect();if(!Le||Le.width===0||Le.height===0)return;const Re=de-z.current.x,M=Ee-z.current.y;if(g){const ae=z.current.elX+Re/Le.width*100,ye=z.current.elY+M/Le.height*100;f(i,n.id,{x:ae,y:ye})}else if(S){const ae=Re/Le.width*100,ye=M/Le.height*100;let ve=z.current.elW,w=z.current.elH,P=z.current.elX,le=z.current.elY;S.includes("right")&&(ve+=ae),S.includes("left")&&(ve-=ae,P+=ae),S.includes("bottom")&&(w+=ye),S.includes("top")&&(w-=ye,le+=ye),f(i,n.id,{width:Math.max(5,ve),height:Math.max(5,w),x:P,y:le})}},oe=()=>{T(!1),x(null)};return(g||S)&&(window.addEventListener("mousemove",G),window.addEventListener("mouseup",oe),window.addEventListener("touchmove",G,{passive:!1}),window.addEventListener("touchend",oe)),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",oe),window.removeEventListener("touchmove",G),window.removeEventListener("touchend",oe)}},[g,S,f,i,n.id]);const q=G=>{f(i,n.id,{content:G.target.value})},k=G=>{G.stopPropagation(),u(n.id),y(!0)},F=["top-left","top-right","bottom-left","bottom-right"],se=s?n.style.fontSize/3.2:n.style.fontSize,ee={fontFamily:n.style.fontFamily,fontSize:`${se}px`,fontWeight:n.style.bold?"bold":"normal",fontStyle:n.style.italic?"italic":"normal",textAlign:n.style.align,textShadow:n.style.textShadow,letterSpacing:n.style.letterSpacing,textTransform:n.style.textTransform},O={...ee,color:n.style.color};n.style.background&&(O.background=n.style.background,O.WebkitBackgroundClip="text",O.backgroundClip="text",O.color="transparent");const K={...ee,color:n.style.color};return v.jsxs("div",{ref:L,className:`absolute cursor-move pointer-events-auto ${o&&!s?"border-2 border-blue-500":"border border-transparent hover:border-blue-300/50"}`,style:{left:`${n.x}%`,top:`${n.y}%`,width:`${n.width}%`,height:`${n.height}%`,zIndex:o?20:10},onMouseDown:G=>W(G,"drag"),onTouchStart:G=>W(G,"drag"),onDoubleClick:s?void 0:k,"data-text-element":"true",children:[o&&!s&&v.jsx(AE,{textElement:n,onUpdateStyle:G=>f(i,n.id,{style:{...n.style,...G}})}),p&&!s?v.jsx("textarea",{value:n.content,onChange:q,onBlur:()=>y(!1),autoFocus:!0,className:"w-full h-full bg-transparent outline-none resize-none",style:K,onMouseDown:G=>G.stopPropagation()}):v.jsx("div",{className:"w-full h-full overflow-hidden whitespace-pre-wrap flex items-center",style:{justifyContent:n.style.align==="left"?"flex-start":n.style.align==="right"?"flex-end":"center",alignItems:"center"},children:v.jsx("div",{style:O,children:n.content})}),o&&!p&&!s&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:G=>{G.stopPropagation(),m(i,n.id)},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center shadow z-30",title:N("removeTextTitle"),children:v.jsx(Pt,{className:"w-3 h-3"})}),F.map(G=>v.jsx("div",{className:`absolute w-3 h-3 bg-white border border-gray-500 rounded-full z-30 ${G.includes("left")?"-left-1.5":"-right-1.5"} ${G.includes("top")?"-top-1.5":"-bottom-1.5"} 
                ${G==="top-left"||G==="bottom-right"?"cursor-nwse-resize":"cursor-nesw-resize"}`,onMouseDown:oe=>W(oe,"resize",G),onTouchStart:oe=>W(oe,"resize",G)},G))]})]})},NE=({spreadId:i,data:n,isSelected:o,onSelect:s,onUpdate:u,onRemove:f})=>{const[m,p]=Z.useState(!1),[y,g]=Z.useState(null),[T,S]=Z.useState(!1),{t:x}=dt(),N=Z.useRef(null),L=Z.useRef({x:0,y:0,elX:0,elY:0,elW:0,elH:0,centerX:0,centerY:0,startAngle:0}),z=(q,k,F)=>{var oe;q.preventDefault(),q.stopPropagation(),s(n.id);const ne="touches"in q?q.touches[0].clientX:q.clientX,se="touches"in q?q.touches[0].clientY:q.clientY;k==="drag"&&p(!0),k==="resize"&&F&&g(F),k==="rotate"&&S(!0);const ee=(oe=N.current)==null?void 0:oe.getBoundingClientRect();if(!ee)return;const O=ee.left+ee.width/2,K=ee.top+ee.height/2,G=Math.atan2(se-K,ne-O)*(180/Math.PI);L.current={x:ne,y:se,elX:n.x,elY:n.y,elW:n.width,elH:n.height,centerX:O,centerY:K,startAngle:G-n.rotation}};Z.useEffect(()=>{const q=F=>{var G;if(F.preventDefault(),!N.current)return;const ne="touches"in F?F.touches[0].clientX:F.clientX,se="touches"in F?F.touches[0].clientY:F.clientY,ee=(G=N.current.parentElement)==null?void 0:G.getBoundingClientRect();if(!ee||ee.width===0||ee.height===0)return;const O=ne-L.current.x,K=se-L.current.y;if(m){const oe=L.current.elX+O/ee.width*100,ie=L.current.elY+K/ee.height*100;u(i,n.id,{x:oe,y:ie})}else if(y){const oe=L.current.elW/100*ee.width,ie=L.current.elH/100*ee.height;if(ie===0)return;const de=oe/ie;let Ee=oe;y.includes("right")&&(Ee+=O),y.includes("left")&&(Ee-=O);const Le=Ee/de,Re=Ee/ee.width*100,M=Le/ee.height*100;u(i,n.id,{width:Math.max(3,Re),height:Math.max(3,M)})}else if(T){const{centerX:oe,centerY:ie,startAngle:de}=L.current,Ee=Math.atan2(se-ie,ne-oe)*(180/Math.PI);u(i,n.id,{rotation:Ee-de})}},k=()=>{p(!1),g(null),S(!1)};return(m||y||T)&&(window.addEventListener("mousemove",q),window.addEventListener("mouseup",k),window.addEventListener("touchmove",q,{passive:!1}),window.addEventListener("touchend",k)),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",k),window.removeEventListener("touchmove",q),window.removeEventListener("touchend",k)}},[m,y,T,u,i,n.id]);const W=["top-left","top-right","bottom-left","bottom-right"];return v.jsxs("div",{ref:N,className:"absolute cursor-move pointer-events-auto",style:{left:`${n.x}%`,top:`${n.y}%`,width:`${n.width}%`,height:`${n.height}%`,transform:`rotate(${n.rotation}deg)`,zIndex:o?30:20},onMouseDown:q=>z(q,"drag"),onTouchStart:q=>z(q,"drag"),"data-sticker-element":"true",children:[v.jsx("div",{className:`w-full h-full ${o?"outline outline-2 outline-blue-500":""}`,children:v.jsx("img",{src:n.url,alt:"sticker",className:"w-full h-full object-contain pointer-events-none",draggable:"false"})}),o&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:q=>{q.stopPropagation(),f(i,n.id)},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center shadow z-50 transform-none",title:x("removeStickerTitle"),"data-hide-on-capture":"true",children:v.jsx(Pt,{className:"w-3 h-3"})}),W.map(q=>v.jsx("div",{className:`absolute w-3 h-3 bg-white border border-gray-500 rounded-full z-40 ${q.includes("left")?"-left-1.5":"-right-1.5"} ${q.includes("top")?"-top-1.5":"-bottom-1.5"} 
                ${q==="top-left"||q==="bottom-right"?"cursor-nwse-resize":"cursor-nesw-resize"}`,onMouseDown:k=>z(k,"resize",q),onTouchStart:k=>z(k,"resize",q),"data-hide-on-capture":"true"},q)),v.jsx("div",{className:"absolute -top-7 left-1/2 -translate-x-1/2 w-5 h-5 bg-white border border-gray-500 rounded-full flex items-center justify-center cursor-alias z-40",onMouseDown:q=>z(q,"rotate"),onTouchStart:q=>z(q,"rotate"),title:x("rotateStickerTitle"),"data-hide-on-capture":"true",children:v.jsx(Pu,{className:"w-3 h-3 text-gray-700"})})]})]})},ME=({gridArea:i,slotId:n,onDrop:o,children:s,isTouchDraggingOver:u})=>{const[f,m]=Z.useState(!1),p=x=>{x.preventDefault(),x.stopPropagation()},y=x=>{x.preventDefault(),x.stopPropagation(),m(!0)},g=x=>{x.preventDefault(),x.stopPropagation(),m(!1)},T=x=>{x.preventDefault(),x.stopPropagation(),m(!1),o(x)},S=f||u;return v.jsx("div",{style:{gridArea:i},"data-slot-id":n,className:`relative w-full h-full bg-gray-50 rounded-sm transition-all duration-200 overflow-hidden ${S?"outline-dashed outline-2 outline-offset-2 outline-blue-500":""}`,onDragOver:p,onDrop:T,onDragEnter:y,onDragLeave:g,children:s})},RE=i=>{switch(i){case"15x15":case"20x20":case"30x30":return"2 / 1";case"21x15":return"42 / 15";case"30x20":return"60 / 20";case"25x35":return"50 / 35";default:return"2 / 1"}},DE=i=>{const{data:n,index:o,albumSize:s,isMobile:u,isOverviewMode:f,onDropImageInSlot:m,onSwapImagesInSlots:p,onReorderSpreads:y,onChangeLayout:g,onUpdateImageTransform:T,onRemoveImageFromSlot:S,onOpenTextPicker:x,onUpdateText:N,onRemoveText:L,onSelectText:z,selectedTextId:W,onOpenStickerPicker:q,onUpdateSticker:k,onRemoveSticker:F,onSelectSticker:ne,selectedStickerId:se,onAiRetouchImage:ee,onTriggerAddOverlayImage:O,touchDragOverSlot:K}=i,[G,oe]=Z.useState(!1),[ie,de]=Z.useState(null),[Ee,Le]=Z.useState(!1),Re=Ho[n.layoutId]||Ho["single-full"],{t:M}=dt(),Q=Z.useRef(null),[ae,ye]=Z.useState(!1),ve=ge=>{g(n.id,ge),oe(!1)},w=RE(s),P=ge=>{ge.dataTransfer.setData("album/spread-index",String(o)),ge.dataTransfer.effectAllowed="move",setTimeout(()=>{Q.current&&(Q.current.style.visibility="hidden")},0)},le=()=>{Q.current&&(Q.current.style.visibility="visible"),ye(!1)},$=ge=>{ge.preventDefault(),ye(!1);const Ie=ge.dataTransfer.getData("album/spread-index");if(Ie){const Et=parseInt(Ie,10),Dt=o;Et!==Dt&&y(Et,Dt)}},Te=ge=>{ge.preventDefault()},Se=ge=>{ge.preventDefault(),ge.dataTransfer.getData("album/spread-index")&&ye(!0)},De=ge=>{ge.preventDefault(),ye(!1)};return v.jsxs("div",{ref:Q,"data-spread-id":n.id,draggable:f,onDragStart:f?P:void 0,onDragEnd:f?le:void 0,onDrop:f?$:void 0,onDragOver:f?Te:void 0,onDragEnter:f?Se:void 0,onDragLeave:f?De:void 0,className:f?"cursor-move":"",children:[G&&v.jsx(R0,{isMobile:u,onSelectLayout:ve,onClose:()=>oe(!1)}),v.jsx("h3",{className:"text-sm text-gray-500 mb-2",children:M("pagesLabel",{start:n.pages[0],end:n.pages[1]})}),v.jsxs("div",{className:`relative transition-all ${f?"":"group"} ${ae?"outline-dashed outline-2 outline-blue-500":""}`,children:[v.jsx("div",{"data-spread-capture-target":"true",className:"bg-white p-1 shadow-lg",style:{aspectRatio:w},children:v.jsxs("div",{className:"relative w-full h-full",children:[v.jsx("div",{className:"absolute inset-0 grid",style:{gridTemplateColumns:Re.gridTemplateColumns,gridTemplateRows:Re.gridTemplateRows,gap:Re.gap},children:Re.slots.map(ge=>v.jsx(ME,{gridArea:ge.gridArea,slotId:ge.id,isTouchDraggingOver:(K==null?void 0:K.spreadId)===n.id&&(K==null?void 0:K.slotId)===ge.id,onDrop:Ie=>{const Et=Ie.dataTransfer.getData("album/image-id"),Dt=Ie.dataTransfer.getData("album/placed-image");if(Et&&!f)m(Et,n.id,ge.id);else if(Dt&&!f)try{const Yt=JSON.parse(Dt),pn={spreadId:n.id,slotId:ge.id};p(Yt,pn)}catch(Yt){console.error("Failed to parse dropped image data",Yt)}},children:n.images[ge.id]?v.jsx(wE,{data:n.images[ge.id],spreadId:n.id,slotId:ge.id,isMobile:u,isOverviewMode:f,onTransformChange:Ie=>T(n.id,ge.id,Ie),onRemove:()=>S(n.id,ge.id),onEnterEditMode:()=>Le(!0),onExitEditMode:()=>Le(!1),onAiRetouchImage:ee}):v.jsx("div",{className:"flex items-center justify-center w-full h-full text-xs text-gray-400 p-2 text-center",children:!f&&M("dropPhotoHere")})},ge.id))}),v.jsxs("div",{"data-elements-layer":"true",className:"absolute inset-0 pointer-events-none",children:[n.texts.map(ge=>v.jsx(_E,{spreadId:n.id,data:ge,isSelected:W===ge.id,isOverviewMode:f,onSelect:z,onUpdate:N,onRemove:L},ge.id)),n.stickers.map(ge=>v.jsx(NE,{spreadId:n.id,data:ge,isSelected:se===ge.id,onSelect:ne,onUpdate:k,onRemove:F},ge.id))]})]})}),!f&&v.jsxs("div",{"data-hide-on-capture":"true",className:`absolute top-2 left-2 flex flex-col items-start space-y-2 md:flex-row md:items-center md:space-y-0 md:space-x-2 z-40 transition-opacity duration-200 ${Ee?"opacity-0 pointer-events-none":"opacity-0 group-hover:opacity-100"}`,children:[v.jsxs("button",{onClick:()=>oe(!0),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:M("changeLayout"),children:[v.jsx(v0,{className:"w-5 h-5 md:w-4 md:h-4"}),v.jsx("span",{className:"hidden",children:M("changeLayout")})]}),v.jsxs("button",{onClick:()=>x(n.id),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:M("addText"),children:[v.jsx(f0,{className:"w-5 h-5 md:w-4 md:h-4"}),v.jsx("span",{className:"hidden",children:M("addText")})]}),v.jsxs("button",{onClick:()=>O(n.id),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:M("addOverlayImage"),children:[v.jsx(A0,{className:"w-5 h-5 md:w-4 md:h-4"}),v.jsx("span",{className:"hidden",children:M("addOverlayImage")})]}),v.jsxs("button",{onClick:()=>q(n.id),className:"flex items-center justify-center p-3 md:p-2 bg-white/80 backdrop-blur-sm rounded-full shadow hover:bg-white text-xs font-semibold",title:M("addSticker"),children:[v.jsx(ns,{className:"w-5 h-5 md:w-4 md:h-4"}),v.jsx("span",{className:"hidden",children:M("addSticker")})]})]})]})]})},IE=i=>{const{spreads:n,albumSize:o,isMobile:s,isOverviewMode:u,onAddSpread:f,onReorderSpreads:m,...p}=i,{t:y}=dt();return v.jsx("div",{className:"p-4 md:p-8 lg:p-12",children:v.jsxs("div",{className:`max-w-7xl mx-auto ${u?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8":"space-y-8"}`,children:[n.map((g,T)=>v.jsx(DE,{index:T,data:g,albumSize:o,isMobile:s,isOverviewMode:u,onReorderSpreads:m,...p},g.id)),!u&&v.jsx("div",{className:"flex justify-center pt-8",children:v.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-6 py-3 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-semibold text-gray-700 hover:bg-gray-100 transition-colors",children:[v.jsx(w0,{className:"w-5 h-5"}),v.jsx("span",{children:y("addSpread")})]})})]})})},kE=({images:i,totalImages:n,onAddImages:o,onReorder:s,onRemoveImage:u,onClearLibrary:f,isMobile:m,onImageTouchStart:p})=>{const y=Z.useRef(null),[g,T]=Z.useState(!1),{t:S}=dt(),x=Z.useRef(null),N=Z.useRef(null),L=K=>{K.target.files&&o(K.target.files)},z=K=>{K.preventDefault(),K.stopPropagation(),K.dataTransfer.types.includes("Files")&&T(!0)},W=K=>{K.preventDefault(),K.stopPropagation(),setTimeout(()=>{T(!1)},50)},q=K=>{K.preventDefault(),K.stopPropagation(),T(!1),K.dataTransfer.files&&K.dataTransfer.files.length>0&&(o(K.dataTransfer.files),K.dataTransfer.clearData())},k=(K,G,oe)=>{K.dataTransfer.setData("album/image-id",G),K.dataTransfer.effectAllowed="copy",x.current=oe,setTimeout(()=>{const ie=document.getElementById(`lib-img-thumb-${G}`);ie&&(ie.style.opacity="0.5")},0)},F=K=>{x.current!==null&&x.current!==K&&(N.current=K)},ne=K=>{if(x.current!==null){const G=document.getElementById(`lib-img-thumb-${K}`);G&&(G.style.opacity="1"),N.current!==null&&N.current!==x.current&&s(x.current,N.current)}x.current=null,N.current=null},se=m?"flex items-center gap-2 h-full":"grid gap-2",ee=m?{}:{gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))"},O=m?"w-[70px] flex-shrink-0":"w-full";return v.jsxs("div",{className:"relative flex flex-col h-full",onDragOver:z,onDragLeave:W,onDrop:q,children:[g&&v.jsx("div",{className:"absolute inset-0 bg-blue-500/30 backdrop-blur-sm flex items-center justify-center border-4 border-dashed border-white rounded-lg z-20 pointer-events-none",children:v.jsx("p",{className:"text-white font-bold text-xl drop-shadow-md",children:S("dropImagesToUpload")})}),v.jsx("input",{type:"file",multiple:!0,accept:"image/*",ref:y,onChange:L,className:"hidden"}),v.jsx("div",{className:`flex-grow ${m?"overflow-x-auto overflow-y-hidden":"overflow-y-auto"} p-2`,children:v.jsxs("div",{className:se,style:ee,children:[i.map((K,G)=>v.jsxs("div",{id:`lib-img-thumb-${K.id}`,className:`relative ${O} aspect-square bg-gray-300 rounded-sm overflow-hidden shadow-md group cursor-grab transition-all duration-200`,draggable:!0,onDragStart:oe=>k(oe,K.id,G),onDragEnter:()=>F(G),onDragOver:oe=>oe.preventDefault(),onDragEnd:()=>ne(K.id),onTouchStart:oe=>p(K,oe),children:[v.jsx("img",{src:K.url,alt:`library image ${K.id}`,className:"w-full h-full object-cover pointer-events-none"}),v.jsx("button",{onClick:()=>u(K.id),className:"absolute top-0.5 right-0.5 p-0.5 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 hover:bg-red-600 transition-all z-10",title:S("removeImageTitle"),children:v.jsx(Pt,{className:"w-4 h-4"})}),K.used>0&&v.jsx("div",{className:"absolute top-1 left-1 w-5 h-5 bg-blue-500 text-white text-xs flex items-center justify-center rounded-full font-bold",children:K.used}),K.linked&&v.jsx("div",{className:"absolute bottom-1 left-1 p-0.5 bg-white/70 backdrop-blur-sm rounded-full",children:v.jsx(E0,{className:"w-4 h-4 text-gray-800"})})]},K.id)),v.jsx("button",{onClick:()=>{var K;return(K=y.current)==null?void 0:K.click()},className:`relative ${O} aspect-square bg-gray-200 border-2 border-dashed border-gray-400 rounded-sm flex flex-col items-center justify-center text-center text-gray-500 hover:bg-gray-300 hover:border-gray-500 transition-colors cursor-pointer p-2`,title:S("addPhotos"),children:v.jsx("span",{className:"font-semibold text-xs md:text-base",children:S("addPhotos")})})]})}),v.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-200/90 border-t border-gray-300",children:[v.jsx("div",{className:"text-xs text-gray-500",children:v.jsxs("p",{children:[S("totalImages")," ",v.jsx("span",{className:"font-bold text-gray-800",children:n})]})}),v.jsx("button",{onClick:f,disabled:i.length===0,className:"px-4 py-2 bg-red-500 text-white font-semibold rounded-md shadow hover:bg-red-600 text-sm disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:S("clear")})]})]})},UE=({isMobile:i,onSelectLayout:n,onClose:o})=>{const{language:s,t:u}=dt(),f=i?Il.filter(m=>!m.hideOnMobile):Il;return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:m=>m.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold",children:u("designForMeTitle")}),v.jsx("p",{className:"text-sm text-gray-500",children:u("designForMeSubtitle")})]}),v.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200 ml-auto",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:f.map(m=>v.jsxs("div",{className:"cursor-pointer group",onClick:()=>n(m.id),children:[v.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200 rounded-md aspect-[2/1] p-1 grid",style:{gridTemplateColumns:m.gridTemplateColumns,gridTemplateRows:m.gridTemplateRows,gap:"4px"},children:m.slots.map(p=>v.jsx("div",{className:"bg-gray-300 rounded-sm",style:{gridArea:p.gridArea}},p.id))}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:s==="vn"?m.name_vn:m.name})]},m.id))})})]})})},LE=({isMobile:i,onSelectSize:n,onOpenProjectManager:o})=>{const{t:s}=dt(),u=[{size:"15x15",label:"15x15",aspectRatio:"2 / 1"},{size:"20x20",label:"20x20",aspectRatio:"2 / 1"},{size:"21x15",label:"21x15",aspectRatio:"42 / 15"},{size:"30x20",label:"30x20",aspectRatio:"60 / 20"},{size:"25x35",label:"25x35",aspectRatio:"50 / 35"},{size:"30x30",label:"30x30",aspectRatio:"2 / 1"}];return v.jsx("div",{className:"bg-gray-200 flex items-center justify-center min-h-screen p-4",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl flex flex-col p-8 text-center",children:[v.jsx("div",{className:"mx-auto mb-4",children:v.jsx(pg,{forceFull:!0})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:s("welcomeTitle")}),v.jsx("p",{className:"text-gray-600 mb-8",children:s("welcomeSubtitle")}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-8 gap-y-4 mb-8",children:u.map(({size:f,label:m,aspectRatio:p})=>v.jsxs("div",{className:"cursor-pointer group flex flex-col items-center",onClick:()=>n(f),children:[v.jsx("div",{className:"w-full bg-gray-100 border-2 rounded-md p-1 h-auto transition-all duration-200 border-gray-300 group-hover:border-blue-500 group-hover:scale-105",style:{aspectRatio:p},children:v.jsxs("div",{className:"w-full h-full flex",children:[v.jsx("div",{className:"w-1/2 h-full bg-gray-300 rounded-sm"}),v.jsx("div",{className:"w-1/2 h-full bg-gray-300 rounded-sm ml-px"})]})}),v.jsx("p",{className:"text-center text-lg font-semibold mt-3 transition-colors text-gray-700 group-hover:text-blue-600",children:m})]},f))}),!i&&v.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[v.jsx("div",{className:"flex-grow border-t border-gray-300"}),v.jsx("span",{className:"text-gray-500 text-sm",children:s("or")}),v.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),v.jsxs("button",{onClick:o,className:"mt-6 mx-auto flex items-center space-x-2 px-6 py-3 bg-white border border-gray-300 rounded-full shadow-sm text-sm font-semibold text-gray-700 hover:bg-gray-100 transition-colors",children:[v.jsx(Au,{className:"w-5 h-5"}),v.jsx("span",{children:s("loadExistingProject")})]})]})})},zE=[{name:"Classic Title",name_vn:"Tiu  c in",style:{fontFamily:"'Playfair Display', serif",fontSize:42,color:"#333333",bold:!0,italic:!1,align:"center"}},{name:"Elegant Script",name_vn:"Ch vit thanh lch",style:{fontFamily:"'Sacramento', cursive",fontSize:52,color:"#4a4a4a",bold:!1,italic:!1,align:"left"}},{name:"Modern Uppercase",name_vn:"Ch hoa hin i",style:{fontFamily:"'Roboto', sans-serif",fontSize:28,color:"#000000",bold:!1,italic:!1,align:"center",letterSpacing:"0.2em",textTransform:"uppercase"}},{name:"Drop Shadow",name_vn:" bng",style:{fontFamily:"'Playfair Display', serif",fontSize:40,color:"#ffffff",bold:!0,italic:!1,align:"left",textShadow:"2px 2px 4px rgba(0,0,0,0.7)"}},{name:"White Glow",name_vn:"Ta sng trng",style:{fontFamily:"'Roboto', sans-serif",fontSize:34,color:"#ffffff",bold:!0,italic:!1,align:"center",textShadow:"0 0 5px rgba(0,0,0,0.8), 0 0 10px rgba(0,0,0,0.8)"}},{name:"Rainbow Fun",name_vn:"Cu vng vui nhn",style:{fontFamily:"'Roboto', sans-serif",fontSize:56,color:"#000000",bold:!0,italic:!1,align:"center",background:"linear-gradient(to right, red, orange, yellow, green, blue, indigo, violet)"},defaultContent:"Rainbow Text"},{name:"Happy Birthday",name_vn:"Chc mng sinh nht",style:{fontFamily:"'Lobster', cursive",fontSize:48,color:"#ff4b8d",bold:!1,italic:!1,align:"center",textShadow:"2px 2px 3px rgba(0,0,0,0.2)"},defaultContent:"Happy Birthday!"},{name:"Ocean Breeze",name_vn:"Gi bin",style:{fontFamily:"'Pacifico', cursive",fontSize:48,color:"#000000",bold:!1,italic:!1,align:"center",background:"linear-gradient(to right, #2193b0, #6dd5ed)"},defaultContent:"Ocean Breeze"},{name:"Retro Arcade",name_vn:"Game c in",style:{fontFamily:"'Press Start 2P', cursive",fontSize:28,color:"#39ff14",bold:!1,italic:!1,align:"center",textShadow:"0 0 5px #39ff14, 0 0 10px #39ff14, 0 0 15px #ffffff"},defaultContent:"GAME OVER"},{name:"Spicy Texture",name_vn:"Kt cu cay nng",style:{fontFamily:"'Bungee Spice', cursive",fontSize:54,color:"#ff4500",bold:!1,italic:!1,align:"center",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},defaultContent:"SPICY!"},{name:"Bold Outline",name_vn:"Vin m",style:{fontFamily:"'Anton', sans-serif",fontSize:64,color:"#ffffff",bold:!1,italic:!1,align:"center",textTransform:"uppercase",textShadow:"2px 0 #000, -2px 0 #000, 0 2px #000, 0 -2px #000, 1px 1px #000, -1px -1px #000, 1px -1px #000, -1px 1px #000"},defaultContent:"HEADLINE"},{name:"Cartoon Pop",name_vn:"Hot hnh Pop",style:{fontFamily:"'Anton', sans-serif",fontSize:60,color:"#ffdd00",bold:!1,italic:!1,align:"center",textTransform:"uppercase",textShadow:"3px 0 #00008b, -3px 0 #00008b, 0 3px #00008b, 0 -3px #00008b, 2px 2px #00008b, -2px -2px #00008b, 2px -2px #00008b, -2px 2px #00008b"},defaultContent:"WOW!"}],PE=({onSelectTemplate:i,onClose:n})=>{const{language:o,t:s}=dt();return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[80vh] flex flex-col",onClick:u=>u.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:s("chooseTextStyle")}),v.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:zE.map(u=>v.jsxs("div",{className:"cursor-pointer group flex flex-col items-center",onClick:()=>i(u),children:[v.jsx("div",{className:"w-full h-32 flex items-center justify-center bg-gray-100 border-2 border-gray-300 group-hover:border-blue-500 group-hover:scale-105 transition-all duration-200 rounded-md p-2",children:v.jsx("p",{style:{...u.style,fontSize:u.style.fontSize>32?28:u.style.fontSize,textAlign:"center",...u.style.background&&{background:u.style.background,WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent"}},children:u.defaultContent||"Text Style"})}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:o==="vn"?u.name_vn:u.name})]},u.name))})})]})})},HE=["https://canvasvietnam.com/images/sticker/1.png","https://canvasvietnam.com/images/sticker/2.png","https://canvasvietnam.com/images/sticker/3.png","https://canvasvietnam.com/images/sticker/4.png","https://canvasvietnam.com/images/sticker/5.png","https://canvasvietnam.com/images/sticker/6.png","https://canvasvietnam.com/images/sticker/7.png","https://canvasvietnam.com/images/sticker/8.png","https://canvasvietnam.com/images/sticker/9.png","https://canvasvietnam.com/images/sticker/10.png","https://canvasvietnam.com/images/sticker/11.png","https://canvasvietnam.com/images/sticker/12.png"].map(i=>`https://api.allorigins.win/raw?url=${encodeURIComponent(i)}`),qE=({onSelectSticker:i,onClose:n})=>{const{t:o}=dt();return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:n,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:s=>s.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:o("chooseSticker")}),v.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4",children:HE.map((s,u)=>v.jsx("div",{className:"cursor-pointer group flex flex-col items-center p-2 bg-gray-100 rounded-md hover:bg-blue-100 hover:scale-110 transition-transform",onClick:()=>i(s),children:v.jsx("img",{src:s,alt:`Sticker ${u+1}`,className:"w-full h-full object-contain"})},u))})})]})})},GE=({isMobile:i,onConfirm:n,onClose:o})=>{const{language:s,t:u}=dt(),[f,m]=Z.useState([]),p=i?Il.filter(T=>!T.hideOnMobile):Il,y=T=>{m(S=>S.includes(T)?S.filter(x=>x!==T):[...S,T])},g=()=>{f.length>0&&n(f)};return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:T=>T.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold",children:u("randomDesignTitle")}),v.jsx("p",{className:"text-sm text-gray-500",children:u("randomDesignSubtitle")})]}),v.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200 ml-auto",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsx("div",{className:"p-6 overflow-y-auto",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:p.map(T=>{const S=f.includes(T.id);return v.jsxs("div",{className:"cursor-pointer group",onClick:()=>y(T.id),children:[v.jsxs("div",{className:`relative bg-gray-100 border-2 rounded-md aspect-[2/1] p-1 grid transition-all duration-200 ${S?"border-blue-500 scale-105":"border-gray-300 group-hover:border-blue-400"}`,style:{gridTemplateColumns:T.gridTemplateColumns,gridTemplateRows:T.gridTemplateRows,gap:"4px"},children:[T.slots.map(x=>v.jsx("div",{className:"bg-gray-300 rounded-sm",style:{gridArea:x.gridArea}},x.id)),S&&v.jsx("div",{className:"absolute top-1 right-1 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center",children:v.jsx(Bi,{className:"w-4 h-4"})})]}),v.jsx("p",{className:"text-center text-sm mt-2 text-gray-600 group-hover:text-gray-900",children:s==="vn"?T.name_vn:T.name})]},T.id)})})}),v.jsxs("footer",{className:"flex items-center justify-end p-4 border-t space-x-4 bg-gray-50",children:[!i&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>m(p.map(T=>T.id)),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-100 text-sm",children:u("selectAll")}),v.jsx("button",{onClick:()=>m([]),className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-100 text-sm",children:u("selectNone")})]}),v.jsx("div",{className:"flex-grow"}),v.jsx("button",{onClick:o,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-100 text-sm",children:u("cancel")}),v.jsx("button",{onClick:g,disabled:f.length===0,className:"px-4 py-2 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 text-sm disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u("confirmRandomization",{count:f.length})})]})]})})},dg=({currentProjectName:i,onSave:n,onLoad:o,onDelete:s,onNewProject:u,onClose:f})=>{const[m,p]=Z.useState(""),[y,g]=Z.useState([]),[T,S]=Z.useState(!1),[x,N]=Z.useState(!1),[L,z]=Z.useState(null),[W,q]=Z.useState(!1),{t:k}=dt();Z.useEffect(()=>{const ie=Object.keys(localStorage).filter(de=>de.startsWith("photobook_project_")).map(de=>de.replace("photobook_project_",""));g(ie)},[]);const F=async()=>{if(!m.trim())return;S(!0),await n(m.trim())&&(g(de=>[...new Set([...de,m.trim()])].sort()),p("")),S(!1)},ne=async()=>{i&&(N(!0),await n(i),N(!1))},se=ie=>{z(ie)},ee=async ie=>{await s(ie),g(de=>de.filter(Ee=>Ee!==ie)),z(null)},O=()=>{z(null)},K=()=>{q(!0)},G=()=>{u(),q(!1)},oe=()=>{q(!1)};return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:f,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg flex flex-col max-h-[80vh]",onClick:ie=>ie.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("h2",{className:"text-lg font-semibold",children:k("projectManagerTitle")}),W?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-sm text-red-700 font-semibold",children:k("confirmDelete")}),v.jsx("button",{onClick:oe,className:"px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:k("cancel")}),v.jsx("button",{onClick:G,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:k("newProject")})]}):v.jsx("button",{onClick:K,className:"px-4 py-1.5 text-sm bg-gray-200 text-gray-800 font-semibold rounded-md hover:bg-gray-300 transition-colors shadow-sm",children:k("newProject")})]}),v.jsx("button",{onClick:f,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"p-6 overflow-y-auto",children:[i&&v.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[v.jsx("h3",{className:"font-semibold text-gray-800 text-sm mb-2",children:k("currentProject")}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"font-bold text-lg text-blue-900",children:i}),v.jsx("button",{onClick:ne,disabled:x||T,className:"px-6 py-2 bg-blue-500 text-white font-semibold rounded-md shadow hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?`${k("saving")}...`:k("save")})]})]}),y.length>0?v.jsx("ul",{className:"space-y-3",children:y.map(ie=>v.jsxs("li",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 transition-all duration-200",children:[v.jsx("span",{className:"font-medium text-gray-800",children:ie}),v.jsx("div",{className:"flex items-center space-x-2",children:L===ie?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-sm text-red-700 font-semibold",children:k("confirmDelete")}),v.jsx("button",{onClick:O,className:"px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:k("cancel")}),v.jsx("button",{onClick:()=>ee(ie),className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700",children:k("delete")})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>o(ie),className:"px-4 py-1.5 text-sm bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 transition-colors shadow-sm",children:k("load")}),v.jsx("button",{onClick:()=>se(ie),className:"px-4 py-1.5 text-sm bg-red-500 text-white font-semibold rounded-md hover:bg-red-600 transition-colors shadow-sm",children:k("delete")})]})})]},ie))}):v.jsx("p",{className:"text-center text-gray-500 py-4",children:k("noSavedProjects")})]}),v.jsxs("footer",{className:"p-4 border-t bg-gray-50",children:[v.jsx("h3",{className:"font-semibold mb-2",children:k("saveAsNewProject")}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("input",{type:"text",value:m,onChange:ie=>p(ie.target.value),placeholder:k("projectNamePlaceholder"),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),v.jsx("button",{onClick:F,disabled:!m.trim()||T||x,className:"px-6 py-2 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:T?`${k("saving")}...`:k("save")})]})]})]})})},VE=i=>{switch(i){case"15x15":return 3.2;case"20x20":return 4.27;case"21x15":return 4.48;case"25x35":return 5.34;case"30x30":return 6.4;case"30x20":return 6.4;default:return 6.4}},BE=({projectName:i,albumSize:n,spreads:o,onClose:s,onSaveProject:u})=>{const{t:f}=dt(),[m,p]=Z.useState("idle"),[y,g]=Z.useState(""),[T,S]=Z.useState(""),[x,N]=Z.useState(""),[L,z]=Z.useState(""),[W,q]=Z.useState(""),[k,F]=Z.useState({}),ne=()=>{const O={};return T.trim()||(O.fullName=f("validationFullNameRequired")),x.trim()||(O.phone=f("validationPhoneRequired")),F(O),Object.keys(O).length===0},se=async()=>{if(!ne())return;const O=o.filter(ie=>Object.keys(ie.images).length>0);if(O.length===0){p("error"),g(f("submissionErrorNoPlacedImages"));return}let K=i;if(!K){p("preparing");const ie=new Date,de=String(ie.getDate()).padStart(2,"0"),Ee=String(ie.getMonth()+1).padStart(2,"0"),Le=ie.getFullYear(),Re=`Album ${de}${Ee}${Le}`;if(await u(Re))K=Re;else{p("error"),g(f("submissionErrorAutoSaveFailed"));return}}p("preparing"),g("");const G=document.createElement("style");G.innerHTML='[data-hide-on-capture="true"] { display: none !important; }',document.head.appendChild(G);const oe="https://yourstudiovn.com/api/submit-project.php";try{const ie=new FormData,de=new Map(O.map(Q=>[Q.id,Q])),Ee=document.querySelectorAll('[data-spread-capture-target="true"]'),Le=VE(n);for(const Q of Array.from(Ee)){const ae=Q,ye=ae.closest("[data-spread-id]");if(!ye)continue;const ve=ye.getAttribute("data-spread-id");if(ve&&de.has(ve)){const w=de.get(ve),P=await window.html2canvas(ae,{scale:Le,useCORS:!0,backgroundColor:"#ffffff"}),le=await new Promise($=>P.toBlob($,"image/jpeg",1));if(le){const $=`spread_${String(w.pages[0]).padStart(2,"0")}-${String(w.pages[1]).padStart(2,"0")}.jpg`;ie.append("spreads[]",le,$)}else throw new Error(`Failed to generate image for spread on pages ${w.pages.join("-")}.`)}}if(!ie.has("spreads[]"))throw new Error("Rendering process failed: no images were added to the submission payload, even though spreads with photos were found.");const Re={projectName:K||`Untitled Project ${new Date().toISOString()}`,albumSize:n,customerDetails:{fullName:T.trim(),phone:x.trim(),email:L.trim(),address:W.trim()},pageCount:O.length*2};ie.append("projectData",JSON.stringify(Re,null,2)),p("uploading");const M=await fetch(oe,{method:"POST",body:ie});if(M.ok)p("success");else{p("error");const Q=await M.text();let ae="";try{ae=JSON.parse(Q).message||""}catch{ae=Q}let ye=`Status: ${M.status}
Server message: ${ae}`.trim();ae.includes("Missing projectData or spread image files")&&(ye+=`

This error usually means the total upload size of your project is too large for the server's configuration. Please ask your hosting provider to increase the "post_max_size" and "upload_max_filesize" values in your PHP settings.`),g(ye)}}catch(ie){console.error("Error during submission:",ie),p("error"),g(ie.message||"An unknown client-side error occurred.")}finally{document.head.removeChild(G)}},ee=()=>{switch(m){case"idle":return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[v.jsx(yg,{className:"w-8 h-8 text-blue-500"}),v.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:f("submissionFormTitle")})]}),v.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:f("submissionOrderDetailsMessage")}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700",children:f("fullNameLabel")}),v.jsx("input",{type:"text",id:"fullName",value:T,onChange:O=>S(O.target.value),className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${k.fullName?"border-red-500":"border-gray-300"}`}),k.fullName&&v.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.fullName})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:f("phoneLabel")}),v.jsx("input",{type:"tel",id:"phone",value:x,onChange:O=>N(O.target.value),className:`mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${k.phone?"border-red-500":"border-gray-300"}`}),k.phone&&v.jsx("p",{className:"mt-1 text-xs text-red-600",children:k.phone})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:f("emailLabel")}),v.jsx("input",{type:"email",id:"email",value:L,onChange:O=>z(O.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:f("addressLabel")}),v.jsx("textarea",{id:"address",rows:3,value:W,onChange:O=>q(O.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]}),v.jsx("footer",{className:"p-4 bg-gray-50 flex justify-end",children:v.jsx("button",{onClick:se,className:"w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-md shadow hover:bg-blue-700 transition-colors",children:f("submissionButton")})})]});case"preparing":case"uploading":return v.jsxs("div",{className:"p-8 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),v.jsx("p",{className:"mt-4 text-lg font-semibold text-gray-700",children:f(m==="preparing"?"submissionPreparing":"submissionUploading")}),v.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:f("submissionWaitMessage")})]});case"success":return v.jsxs("div",{className:"p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 p-2 mx-auto text-white bg-green-500 rounded-full flex items-center justify-center",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})}),v.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:f("submissionSuccessTitle")}),v.jsx("p",{className:"mt-2 text-gray-600",children:f("submissionSuccessMessage")}),v.jsx("button",{onClick:s,className:"mt-6 px-6 py-2 bg-gray-200 text-gray-800 font-semibold rounded-md hover:bg-gray-300",children:f("close")})]});case"error":return v.jsxs("div",{className:"p-6 text-center",children:[v.jsx("div",{className:"w-16 h-16 p-2 mx-auto text-white bg-red-500 rounded-full flex items-center justify-center",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),v.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-800",children:f("submissionErrorTitle")}),v.jsx("div",{className:"mt-2 text-gray-600 whitespace-pre-wrap text-left bg-gray-100 p-3 rounded-md text-sm font-mono overflow-y-auto max-h-48",children:y||f("submissionErrorMessage")}),v.jsxs("div",{className:"mt-6 flex justify-center space-x-4",children:[v.jsx("button",{onClick:s,className:"px-6 py-2 bg-gray-200 text-gray-800 font-semibold rounded-md hover:bg-gray-300",children:f("close")}),v.jsx("button",{onClick:se,className:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700",children:f("retry")})]})]})}};return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md flex flex-col",onClick:O=>O.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:f("submissionTitle")}),v.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),ee()]})})},OE=({libraryHeight:i,onClose:n})=>{const{t:o}=dt();return Z.useEffect(()=>{const s=setTimeout(()=>{n()},5e3);return()=>clearTimeout(s)},[n]),v.jsxs("div",{className:"fixed left-4 right-4 md:hidden bg-yellow-400 text-black p-3 rounded-lg shadow-lg z-50 animate-fade-in-up",style:{bottom:`${i+12}px`},onClick:n,children:[v.jsx("p",{className:"text-center text-sm font-semibold",children:o("mobileDragHint")}),v.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-[-8px] w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-yellow-400"})]})},YE=({targetSpreadId:i,targetSlotId:n,onClose:o})=>{const{t:s}=dt(),[u,f]=Z.useState(null);return Z.useEffect(()=>{const m=setTimeout(()=>{o()},5e3),p=document.querySelector(`[data-spread-id="${i}"] [data-slot-id="${n}"]`);if(p){const y=p.getBoundingClientRect();f({top:y.top-60,left:y.left+y.width/2,width:Math.min(y.width*.9,250)})}return()=>clearTimeout(m)},[o,i,n]),u?v.jsxs("div",{className:"fixed bg-yellow-400 text-black p-3 rounded-lg shadow-lg z-50 animate-fade-in-up",style:{top:`${u.top}px`,left:`${u.left}px`,width:`${u.width}px`,transform:"translateX(-50%)",visibility:u?"visible":"hidden"},onClick:o,children:[v.jsx("p",{className:"text-center text-sm font-semibold",children:s("doubleTapToEdit")}),v.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-[-8px] w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-yellow-400"})]}):null},FE=({onAutoDesign:i,onRandomDesign:n,onClose:o})=>{const{t:s}=dt();return v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:o,children:v.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-xs flex flex-col animate-fade-in-up",onClick:u=>u.stopPropagation(),children:[v.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[v.jsx("h2",{className:"text-lg font-semibold",children:s("designOptionsTitle")}),v.jsx("button",{onClick:o,className:"p-1 rounded-full hover:bg-gray-200",children:v.jsx(Pt,{className:"w-6 h-6"})})]}),v.jsxs("div",{className:"p-4 space-y-3",children:[v.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gray-700 text-white font-semibold rounded-md shadow hover:bg-gray-600 transition-colors",children:[v.jsx(ns,{className:"w-5 h-5"}),v.jsx("span",{children:s("designForMe")})]}),v.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-green-500 text-white font-semibold rounded-md shadow hover:bg-green-600 transition-colors",children:[v.jsx(Pu,{className:"w-5 h-5"}),v.jsx("span",{children:s("designRandom")})]})]})]})})},fg=[{id:"spread1",pages:[1,2],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread2",pages:[3,4],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread3",pages:[5,6],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread4",pages:[7,8],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread5",pages:[9,10],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread6",pages:[11,12],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread7",pages:[13,14],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread8",pages:[15,16],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread9",pages:[17,18],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]},{id:"spread10",pages:[19,20],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]}],hg=[],JE="PhotoBookDB",jE=1,vi="images";let $a=null;const us=()=>new Promise((i,n)=>{if($a)return i($a);const o=indexedDB.open(JE,jE);o.onerror=()=>{console.error("IndexedDB error:",o.error),n("IndexedDB error")},o.onsuccess=()=>{$a=o.result,i($a)},o.onupgradeneeded=s=>{const u=s.target.result;u.objectStoreNames.contains(vi)||u.createObjectStore(vi,{keyPath:"id"})}}),XE=async()=>{await us()},KE=async(i,n)=>{const o=await us();return new Promise((s,u)=>{const p=o.transaction([vi],"readwrite").objectStore(vi).put({id:i,blob:n});p.onsuccess=()=>s(),p.onerror=()=>{console.error("Failed to save image to DB:",p.error),u(p.error)}})},QE=async i=>{const n=await us();return new Promise((o,s)=>{const m=n.transaction([vi],"readonly").objectStore(vi).get(i);m.onsuccess=()=>{o(m.result?m.result.blob:null)},m.onerror=()=>{console.error("Failed to get image from DB:",m.error),s(m.error)}})},mg=async i=>{const n=await us();return new Promise((o,s)=>{const m=n.transaction([vi],"readwrite").objectStore(vi).delete(i);m.onsuccess=()=>o(),m.onerror=()=>{console.error("Failed to delete image from DB:",m.error),s(m.error)}})},ZE=()=>{const[i,n]=Z.useState(hg),[o,s]=Z.useState(fg),[u,f]=Z.useState(!1),[m,p]=Z.useState(!1),[y,g]=Z.useState(null),[T,S]=Z.useState(!1),[x,N]=Z.useState(!1),[L,z]=Z.useState(288),[W,q]=Z.useState(150),[k,F]=Z.useState(window.innerWidth<768),{t:ne}=dt(),[se,ee]=Z.useState(null),[O,K]=Z.useState(null),[G,oe]=Z.useState(!1),[ie,de]=Z.useState(null),[Ee,Le]=Z.useState(!1),[Re,M]=Z.useState(null),[Q,ae]=Z.useState(!1),[ye,ve]=Z.useState(!1),[w,P]=Z.useState(null),[le,$]=Z.useState(!1),[Te,Se]=Z.useState(!1),[De,ge]=Z.useState(!1),[Ie,Et]=Z.useState(null),Dt=Z.useRef(null),[Yt,pn]=Z.useState(null),[Ke,Ft]=Z.useState(null),[bt,yn]=Z.useState(null),bi=Y=>{const X=Y.target;!X.closest('[data-text-element="true"]')&&!X.closest('[data-text-toolbar="true"]')&&!X.closest('[data-sticker-element="true"]')&&(ee(null),K(null))};Z.useEffect(()=>{XE().catch(X=>console.error("Failed to initialize database:",X)),document.addEventListener("click",bi);const Y=()=>{F(window.innerWidth<768)};return window.addEventListener("resize",Y),()=>{document.removeEventListener("click",bi),window.removeEventListener("resize",Y)}},[]);const Si=Y=>{if(Y.preventDefault(),k){document.body.style.cursor="row-resize",document.body.style.userSelect="none";const X=J=>{const j=window.innerHeight-J.clientY,re=150,Ce=Math.min(500,window.innerHeight-200);j>=re&&j<=Ce&&q(j)},te=()=>{document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",te)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",te)}else{document.body.style.cursor="col-resize",document.body.style.userSelect="none";const X=J=>{const j=J.clientX;j>=200&&j<=600&&z(j)},te=()=>{document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",te)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",te)}},Yn=Y=>{ee(Y),Y&&K(null)},En=Y=>{K(Y),Y&&ee(null)},Pl=Y=>{const X=Array.from(Y).map((J,j)=>({id:`new-img-${Date.now()}-${j}`,url:URL.createObjectURL(J),used:0,linked:!1}));if(i.length===0&&X.length>0){const J=localStorage.getItem("mobileDragHintShown");k&&!J&&(Se(!0),localStorage.setItem("mobileDragHintShown","true")),localStorage.getItem("designForMeHintShown")||setTimeout(()=>{k?ae(!0):f(!0),localStorage.setItem("designForMeHintShown","true")},800)}n(J=>[...X,...J])},Hl=(Y,X)=>{n(te=>{const J=[...te],j=J.splice(Y,1)[0];return J.splice(X,0,j),J})},Ct=(Y,X)=>{s(te=>{const J=[...te],j=J.findIndex(ce=>ce.id===Y);if(j===-1)return te;const re=J[j],Ce=Object.values(re.images).map(ce=>ce.image);return n(ce=>{const we=new Map;return Ce.forEach(Ve=>{we.set(Ve.id,(we.get(Ve.id)||0)+1)}),ce.map(Ve=>we.has(Ve.id)?{...Ve,used:Ve.used-(we.get(Ve.id)||0)}:Ve)}),J[j]={...re,layoutId:X,images:{},texts:[],stickers:[]},J})},ue=Z.useCallback((Y,X,te)=>{const J=i.find(Ce=>Ce.id===Y);if(!J)return;let j=null;s(Ce=>Ce.map(ce=>{if(ce.id===X){const we={...ce.images},Ve=we[te];return Ve&&(j=Ve.image.id),we[te]={image:J,transform:{x:50,y:50,scale:1,rotation:0,flipHorizontal:!1,flipVertical:!1}},{...ce,images:we}}return ce})),n(Ce=>Ce.map(ce=>ce.id===Y?{...ce,used:(ce.used||0)+1}:ce.id===j?{...ce,used:Math.max(0,(ce.used||0)-1)}:ce));const re=localStorage.getItem("mobileEditHintShown");k&&!re&&(ge(!0),Et({spreadId:X,slotId:te}),localStorage.setItem("mobileEditHintShown","true"))},[i,k]),Pe=(Y,X)=>{Y.spreadId===X.spreadId&&Y.slotId===X.slotId||s(te=>{const J=te.findIndex(Oe=>Oe.id===Y.spreadId),j=te.findIndex(Oe=>Oe.id===X.spreadId);if(J===-1||j===-1)return te;const re=te[J],Ce=te[j],ce=re.images[Y.slotId],we=Ce.images[X.slotId];if(!ce)return te;const Ve=[...te];if(J===j){const Oe={...re,images:{...re.images}};Oe.images[X.slotId]=ce,we?Oe.images[Y.slotId]=we:delete Oe.images[Y.slotId],Ve[J]=Oe}else{const Oe={...re,images:{...re.images}},mt={...Ce,images:{...Ce.images}};mt.images[X.slotId]=ce,we?Oe.images[Y.slotId]=we:delete Oe.images[Y.slotId],Ve[J]=Oe,Ve[j]=mt}return Ve})},Qe=(Y,X,te)=>{s(J=>J.map(j=>{if(j.id===Y){const re={...j.images},Ce=re[X];if(Ce)return re[X]={...Ce,transform:te},{...j,images:re}}return j}))},nt=(Y,X)=>{let te=null;s(J=>J.map(j=>{if(j.id===Y){const re={...j.images};if(re[X])return te=re[X].image.id,delete re[X],{...j,images:re}}return j})),te&&n(J=>J.map(j=>j.id===te?{...j,used:Math.max(0,(j.used||0)-1)}:j))},$e=()=>{s(Y=>{const X=Y[Y.length-1],te=X?X.pages[1]+1:1,J={id:`spread${Date.now()}`,pages:[te,te+1],layoutId:"two-equal-vertical-split",images:{},texts:[],stickers:[]};return[...Y,J]})},et=(Y,X)=>{s(te=>{const J=[...te],[j]=J.splice(Y,1);return J.splice(X,0,j),J.map((re,Ce)=>({...re,pages:[Ce*2+1,Ce*2+2]}))})},st=()=>{i.length>0&&f(!0)},wt=Y=>{const X=Ho[Y];if(!X||X.slots.length===0||i.length===0){f(!1);return}const te=[...i];let J=0;const j=o.map(ce=>{const we={};for(const Ve of X.slots)if(J<te.length){const Oe=te[J];we[Ve.id]={image:Oe,transform:{x:50,y:50,scale:1,rotation:0,flipHorizontal:!1,flipVertical:!1}},J++}return{...ce,layoutId:Y,images:we,texts:[],stickers:[]}}),re=new Map;j.forEach(ce=>{Object.values(ce.images).forEach(we=>{re.set(we.image.id,(re.get(we.image.id)||0)+1)})});const Ce=i.map(ce=>({...ce,used:re.get(ce.id)||0}));s(j),n(Ce),f(!1)},At=()=>{i.length!==0&&p(!0)},Ze=Y=>{if(i.length===0||Y.length===0){p(!1);return}const X=[...i];let te=0;const j=o.map(ce=>{const we=Y[Math.floor(Math.random()*Y.length)];return{...ce,layoutId:we,images:{},texts:[],stickers:[]}}).map(ce=>{const we=Ho[ce.layoutId],Ve={};for(const Oe of we.slots)if(te<X.length){const mt=X[te];Ve[Oe.id]={image:mt,transform:{x:50,y:50,scale:1,rotation:0,flipHorizontal:!1,flipVertical:!1}},te++}return{...ce,images:Ve}}),re=new Map;j.forEach(ce=>{Object.values(ce.images).forEach(we=>{re.set(we.image.id,(re.get(we.image.id)||0)+1)})});const Ce=i.map(ce=>({...ce,used:re.get(ce.id)||0}));s(j),n(Ce),p(!1)},tt=Y=>{const X=i.filter(J=>J.id!==Y),te=o.map(J=>{const j={...J.images};let re=!1;return Object.entries(j).forEach(([Ce,ce])=>{ce.image.id===Y&&(delete j[Ce],re=!0)}),re?{...J,images:j}:J});n(X),s(te)},rt=()=>{n([]);const Y=o.map(X=>({...X,images:{},texts:[],stickers:[]}));s(Y)},xi=Y=>{g(Y),S(!0)},Fn=()=>{ee(null),K(null),$(!0)},Jn=()=>{N(Y=>!Y),ee(null),K(null)},vn=Y=>{de(Y),oe(!0)},jn=Y=>{if(!ie)return;const X={...Y.style};k&&X.fontSize>28&&(X.fontSize=28);const te={id:`text-${Date.now()}`,content:Y.defaultContent||"Your Text Here",x:25,y:45,width:50,height:15,style:X};s(J=>J.map(j=>j.id===ie?{...j,texts:[...j.texts,te]}:j)),Yn(te.id),oe(!1),de(null)},Fi=(Y,X,te)=>{s(J=>J.map(j=>j.id===Y?{...j,texts:j.texts.map(re=>re.id===X?{...re,...te}:re)}:j))},Cn=(Y,X)=>{s(te=>te.map(J=>J.id===Y?{...J,texts:J.texts.filter(j=>j.id!==X)}:J))},Ji=Y=>{M(Y),Le(!0)},Ei=Y=>{if(!Re)return;const X={id:`sticker-${Date.now()}`,url:Y,x:35,y:35,width:15,height:30,rotation:0};s(te=>te.map(J=>J.id===Re?{...J,stickers:[...J.stickers,X]}:J)),En(X.id),Le(!1),M(null)},cs=(Y,X,te)=>{s(J=>J.map(j=>j.id===Y?{...j,stickers:j.stickers.map(re=>re.id===X?{...re,...te}:re)}:j))},Go=(Y,X)=>{s(te=>te.map(J=>J.id===Y?{...J,stickers:J.stickers.filter(j=>j.id!==X)}:J))},ql=Y=>{var X;pn(Y),(X=Dt.current)==null||X.click()},Ci=Y=>{if(!Y.target.files||Y.target.files.length===0||!Yt)return;const X=Y.target.files[0],te=URL.createObjectURL(X),J={id:`overlay-${Date.now()}`,url:te,x:25,y:25,width:30,height:60,rotation:0};s(j=>j.map(re=>re.id===Yt?{...re,stickers:[...re.stickers,J]}:re)),En(J.id),pn(null),Y.target&&(Y.target.value="")},Gl=async Y=>{if(!y)return alert("Cannot save project without an album size."),!1;try{for(const j of i)if(j.url.startsWith("blob:")){const Ce=await(await fetch(j.url)).blob();await KE(j.id,Ce)}const X=i.map(({url:j,...re})=>re),J={spreads:o.map(j=>({...j,images:Object.fromEntries(Object.entries(j.images).map(([re,Ce])=>{const{url:ce,...we}=Ce.image,Ve={...Ce,image:we};return[re,Ve]}))})),libraryImages:X,albumSize:y};return localStorage.setItem(`photobook_project_${Y}`,JSON.stringify(J)),P(Y),!0}catch(X){console.error("Failed to save project:",X),alert("An unexpected error occurred while saving the project. Your browser's storage might be full or IndexedDB is not supported.");for(const te of i)await mg(te.id).catch(J=>console.error(`Cleanup failed for image ${te.id}`,J));return!1}},Vl=async Y=>{const X=localStorage.getItem(`photobook_project_${Y}`);if(X)try{const te=JSON.parse(X);i.forEach(ce=>{ce.url.startsWith("blob:")&&URL.revokeObjectURL(ce.url)});const J=te.libraryImages.map(async ce=>{const we=await QE(ce.id);return we?{...ce,url:URL.createObjectURL(we)}:(console.warn(`Missing image data for ID: ${ce.id}`),null)}),j=(await Promise.all(J)).filter(ce=>ce!==null),re=new Map(j.map(ce=>[ce.id,ce])),Ce=te.spreads.map(ce=>{const we={};for(const Ve of Object.keys(ce.images)){const Oe=ce.images[Ve],mt=re.get(Oe.image.id);mt&&(we[Ve]={...Oe,image:mt})}return{...ce,images:we}});n(j),s(Ce),g(te.albumSize),P(Y),ve(!1),S(!0)}catch(te){console.error("Failed to load project:",te),alert("Failed to load project. The project file might be corrupted or image data is missing.")}},Bl=async Y=>{const X=localStorage.getItem(`photobook_project_${Y}`);if(X)try{const te=JSON.parse(X);if(te.libraryImages&&Array.isArray(te.libraryImages))for(const J of te.libraryImages)await mg(J.id).catch(j=>console.error(`Failed to delete image ${J.id} from DB`,j))}catch{console.error(`Could not parse project ${Y} for deletion, image files may be orphaned.`)}localStorage.removeItem(`photobook_project_${Y}`),w===Y&&P(null)},Ol=()=>{i.forEach(Y=>{Y.url.startsWith("blob:")&&URL.revokeObjectURL(Y.url)}),n(hg),s(fg),P(null),ve(!1),N(!1),ee(null),K(null),g(null),S(!1)},Yl=(Y,X,te,J,j)=>{const re=atob(J),Ce=new Array(re.length);for(let mt=0;mt<re.length;mt++)Ce[mt]=re.charCodeAt(mt);const ce=new Uint8Array(Ce),we=new Blob([ce],{type:j}),Ve=URL.createObjectURL(we),Oe={id:`ai-img-${Date.now()}`,url:Ve,used:1,linked:!1};n(mt=>{const It=mt.map(kt=>kt.id===Y?{...kt,used:Math.max(0,(kt.used||0)-1)}:kt),Jt=It.findIndex(kt=>kt.id===Y);return Jt!==-1?It.splice(Jt+1,0,Oe):It.unshift(Oe),It}),s(mt=>mt.map(It=>{if(It.id===te){const Jt={...It.images},kt=Jt[X];return kt&&kt.image.id===Y&&(Jt[X]={...kt,image:Oe}),{...It,images:Jt}}return It}))},Fl=(Y,X)=>{if(!k)return;X.cancelable&&X.preventDefault();const te=X.touches[0],J=X.currentTarget.getBoundingClientRect();Ft({image:Y,x:te.clientX,y:te.clientY,width:Math.min(J.width,100),height:Math.min(J.height,100)})};return Z.useEffect(()=>{if(!Ke)return;const Y=te=>{if(te.touches.length===0)return;const J=te.touches[0];Ft(re=>re?{...re,x:J.clientX,y:J.clientY}:null);const j=document.elementFromPoint(J.clientX,J.clientY);if(j){const re=j.closest("[data-slot-id]"),Ce=j.closest("[data-spread-id]");if(re&&Ce){const ce=re.getAttribute("data-slot-id"),we=Ce.getAttribute("data-spread-id");if(ce&&we){((bt==null?void 0:bt.spreadId)!==we||(bt==null?void 0:bt.slotId)!==ce)&&yn({spreadId:we,slotId:ce});return}}}bt!==null&&yn(null)},X=()=>{Ke&&bt&&ue(Ke.image.id,bt.spreadId,bt.slotId),Ft(null),yn(null)};return window.addEventListener("touchmove",Y,{passive:!1}),window.addEventListener("touchend",X),window.addEventListener("touchcancel",X),()=>{window.removeEventListener("touchmove",Y),window.removeEventListener("touchend",X),window.removeEventListener("touchcancel",X)}},[Ke,bt,ue]),Z.useEffect(()=>{const Y=Ke?`lib-img-thumb-${Ke.image.id}`:null;if(Y){const X=document.getElementById(Y);X&&(X.style.visibility="hidden")}return()=>{if(Y){const X=document.getElementById(Y);X&&(X.style.visibility="visible")}}},[Ke]),!T||!y?v.jsxs("div",{className:"bg-gray-200 h-full",children:[v.jsx(LE,{isMobile:k,onSelectSize:xi,onOpenProjectManager:()=>ve(!0)}),ye&&v.jsx(dg,{currentProjectName:w,onSave:Gl,onLoad:Vl,onDelete:Bl,onNewProject:Ol,onClose:()=>ve(!1)})]}):v.jsxs("div",{className:"flex flex-col h-full font-sans bg-gray-200 text-gray-800",children:[v.jsx("input",{type:"file",accept:"image/*",ref:Dt,onChange:Ci,className:"hidden"}),Ke&&v.jsx("div",{style:{position:"fixed",top:Ke.y-Ke.height/2,left:Ke.x-Ke.width/2,width:`${Ke.width}px`,height:`${Ke.height}px`,zIndex:1e3,pointerEvents:"none",opacity:.8},children:v.jsx("img",{src:Ke.image.url,alt:"drag-preview",className:"w-full h-full object-cover rounded-md shadow-lg"})}),Te&&v.jsx(OE,{libraryHeight:W,onClose:()=>Se(!1)}),De&&Ie&&v.jsx(YE,{targetSpreadId:Ie.spreadId,targetSlotId:Ie.slotId,onClose:()=>{ge(!1),Et(null)}}),u&&v.jsx(UE,{isMobile:k,onSelectLayout:wt,onClose:()=>f(!1)}),m&&v.jsx(GE,{isMobile:k,onConfirm:Ze,onClose:()=>p(!1)}),Q&&v.jsx(FE,{onClose:()=>ae(!1),onAutoDesign:()=>{ae(!1),st()},onRandomDesign:()=>{ae(!1),At()}}),G&&v.jsx(PE,{onSelectTemplate:jn,onClose:()=>{oe(!1),de(null)}}),Ee&&v.jsx(qE,{onSelectSticker:Ei,onClose:()=>{Le(!1),M(null)}}),ye&&v.jsx(dg,{currentProjectName:w,onSave:Gl,onLoad:Vl,onDelete:Bl,onNewProject:Ol,onClose:()=>ve(!1)}),le&&v.jsx(BE,{projectName:w,albumSize:y,spreads:o,libraryImages:i,onClose:()=>$(!1),onSaveProject:Gl}),v.jsx(M0,{totalPages:o.length*2,onSubmitProject:Fn,isOverviewMode:x,onToggleOverview:Jn,onDesignForMe:st,onDesignRandom:At,isDesignDisabled:i.length===0,onOpenProjectManager:()=>ve(!0),isMobile:k,onOpenMobileDesignPicker:()=>ae(!0)}),v.jsxs("div",{className:"flex flex-col md:flex-row flex-1 overflow-hidden",children:[v.jsx("div",{style:k?{height:`${W}px`}:{width:`${L}px`},className:"order-3 md:order-1 flex-shrink-0 md:h-full flex flex-col bg-gray-100/80 backdrop-blur-sm border-t md:border-t-0 md:border-r border-gray-300",children:v.jsx(kE,{images:i,totalImages:i.length,onAddImages:Pl,onReorder:Hl,onRemoveImage:tt,onClearLibrary:rt,isMobile:k,onImageTouchStart:Fl})}),v.jsx("div",{onMouseDown:Si,className:"order-2 md:order-2 w-full h-1.5 md:w-1.5 md:h-full flex-shrink-0 cursor-row-resize md:cursor-col-resize bg-gray-300 hover:bg-blue-400 transition-colors"}),v.jsx("main",{className:"order-1 md:order-3 flex-1 overflow-y-auto",children:v.jsx(IE,{spreads:o,albumSize:y,isMobile:k,isOverviewMode:x,selectedTextId:se,selectedStickerId:O,touchDragOverSlot:bt,onDropImageInSlot:ue,onSwapImagesInSlots:Pe,onChangeLayout:Ct,onUpdateImageTransform:Qe,onRemoveImageFromSlot:nt,onAddSpread:$e,onReorderSpreads:et,onOpenTextPicker:vn,onUpdateText:Fi,onRemoveText:Cn,onSelectText:Yn,onOpenStickerPicker:Ji,onUpdateSticker:cs,onRemoveSticker:Go,onSelectSticker:En,onAiRetouchImage:Yl,onTriggerAddOverlayImage:ql})})]})]})},Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");const WE=d0.createRoot(Yg);WE.render(v.jsx(i0.StrictMode,{children:v.jsx(N0,{children:v.jsx(ZE,{})})}));
